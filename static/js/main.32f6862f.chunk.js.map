{"version":3,"sources":["lib/kozoom-3d-simulator/src/assets/top-view.png","lib/kozoom-3d-simulator/src/assets/stand-view.png","lib/kozoom-3d-simulator/src/assets/target-view.png","lib/kozoom-3d-simulator/src/view/controller/cueball.png","lib/kozoom-3d-simulator/src/view/viewSelector.js","lib/kozoom-3d-simulator/src/assets/constants.js","lib/kozoom-3d-simulator/src/exports/CaromSimulator/sceneManager/PhysicsEngine/son.js","lib/kozoom-3d-simulator/src/exports/CaromSimulator/sceneManager/PhysicsEngine/evt.js","lib/kozoom-3d-simulator/src/exports/CaromSimulator/sceneManager/PhysicsEngine/simul.js","lib/kozoom-3d-simulator/src/exports/CaromSimulator/sceneManager/PhysicsEngine/parametres.js","lib/kozoom-3d-simulator/src/exports/CaromSimulator/sceneManager/PhysicsEngine/cBillard.js","lib/kozoom-3d-simulator/src/models/ball.js","lib/kozoom-3d-simulator/src/models/bat.js","lib/kozoom-3d-simulator/src/models/table.js","lib/kozoom-3d-simulator/src/models/cameras.js","lib/kozoom-3d-simulator/src/exports/CaromSimulator/sceneManager/index.js","lib/kozoom-3d-simulator/src/exports/CaromSimulator/simulatorEngine.js","lib/kozoom-3d-simulator/src/view/controller/slider.js","lib/kozoom-3d-simulator/src/view/controller/index.js","lib/kozoom-3d-simulator/src/exports/CaromSimulator/index.js","lib/kozoom-3d-simulator/src/exports/PoolSimulator/sceneManager/PhysicsEngine/parametres.js","lib/kozoom-3d-simulator/src/exports/PoolSimulator/sceneManager/PhysicsEngine/son.js","lib/kozoom-3d-simulator/src/exports/PoolSimulator/sceneManager/PhysicsEngine/evt.js","lib/kozoom-3d-simulator/src/exports/PoolSimulator/sceneManager/PhysicsEngine/simul.js","lib/kozoom-3d-simulator/src/exports/PoolSimulator/sceneManager/PhysicsEngine/cBillard.js","lib/kozoom-3d-simulator/src/models/lights.js","lib/kozoom-3d-simulator/src/exports/PoolSimulator/sceneManager/index.js","lib/kozoom-3d-simulator/src/exports/PoolSimulator/simulatorEngine.js","lib/kozoom-3d-simulator/src/exports/PoolSimulator/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ViewSelector","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","viewSelectorItemClicked","item","state","showCameraTypes","_this2","_self","strTopClass","strStandClass","strTargetClass","currentView","react_default","a","createElement","className","index_es","icon","faVideo","onClick","setState","src","viewTop","viewStand","viewTarget","Component","filePoolTableModel","fileCaromTableModel","fileBatModel","POOL_TABLE_LENGTH","CAROM_TABLE_LENGTH","BALL_SIZE","CAROM_INDEX_WHITE_X","CAROM_INDEX_WHITE_Y","CAROM_INDEX_YELLOW_X","CAROM_INDEX_YELLOW_Y","CAROM_INDEX_TARGET_X","CAROM_INDEX_TARGET_Y","CAROM_INDEX_SPEED","CAROM_INDEX_CUEANGLE","CAROM_INDEX_CUELINE","CAROM_INDEX_SIDEENGLISH","CAROM_INDEX_TOPSPIN","son","played","evt","Simul","param1","param2","delta_fgpas","RSG","fgpas","EPSILON","frpas","QCQ","Rfppas","f1","f2","Rfp","fbille","pas","fp1","ARRET","TSP","fg","fr","choc_bande","_loc_2","NaN","X","XMIN","XMAX","Y","YMIN","YMAX","Vx","Vy","choc12","choc13","_loc_3","_loc_4","nbandes","nb_b_avant","etat","Rp","Rq","VQy","VQx","init_pars","VMz","VT","VRr","VN0","VN","deltaVN","intens","beta_adh","Math","sqrt","VRq","beta_gliss","abs","alpha_bande","PI","atan","VRp","choc_adh","choc_gliss","recup_pars","fin_parcours","_loc_1","Rr","Calcul","console","log","_loc_5","_loc_6","_loc_8","nb_clefs","nb_max_clefs","evts","nb_sons","nb_max_sons","evts_son","Xinit","Yinit","RAp","RApInit","RAq","RAqInit","RAr","RArInit","add_clef","el","er","alph","alphaQ","beta","betaQ","vqueue","Vqueue","calculs_finis","done","distance13","first_bille_choquee","deltaclef","resolution","date","Vinit","cos","R","_loc_7","sin","Vx0","Vy0","_loc_9","p0","q0","r0","temps","intensite","type_choc","choc_billes","_loc_10","mise_a_jour","X0","Y0","RAp0","deltaclefRot","RAq0","RAr0","Xfin","Yfin","RApfin","RAqfin","RArfin","duree","nb3","d13","effet","sorties","parseInt","tan","e_s","eff_s","time","_loc_11","_loc_12","_loc_13","_loc_14","_loc_15","_loc_16","_loc_17","_loc_18","_loc_19","_loc_20","_loc_21","_loc_22","_loc_23","_loc_25","_loc_26","_loc_27","D","_loc_29","_loc_30","RendementChoc","parametres","HBande","direction_beta","param3","asin","atanjimi","ToucheBandeX","long_billard","Quantite","NBILLES","bille_visee","noba","quant","ToucheBandeZ","larg_billard","AlphaQmin","ToucheBille","CBillard","param4","mode_jeu","ralenti","largeur_bandes","change_billard","arret_son","myTimer","stop","taille","bitmap_Bandes_310","visible","bitmap_Billard_310","bitmap_Bandes_280","bitmap_Billard_280","bitmap_Bandes_260","bitmap_Billard_260","ctrl","XC","Ech","longueur","YC","largeur","Params","xmax","ymax","Simulateur","tracer_grille","tracer_lines","Placer_billes_hasard","init_point","afficher_billes","aff_parametres","placer_queue","dq0","queue","calculs_faits","aff_trajets","trajets","graphics","clear","tracer_ligne_visee","ligne_visee","update_modejeu","Vqmax","Simuler","taille_billard","Rb","type","ombre","tous_trajets","trajet_bille_joueur","trajet_bille_visee","billes","ecl","alphamin","ind_last_clef","ampl_recul_max","Ball","scene","name","ballRadius","position","texture","visibility","getMesh","mesh","getPosition","assign","getVisibility","updatePosition","x","z","updateRotation","Rx","Ry","Rz","rotate","BABYLON","WORLD","Z","isPotted","pot","CreateSphere","y","matCueBallWhite","diffuseTexture","material","rotation","random","Bat","update","updateDirectionLine","angle","directionLine","CreateLines","points","colors","Table","meshes","modelStorePath","getMeshes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","obj","value","receiveShadows","bumpTexture","level","uScale","vScale","err","return","MAX_TARGET_LENGTH","Cameras","canvas","cameras","arcCam","topCam","targetCam","Zero","attachControl","upperBetaLimit","lowerBetaLimit","wheelPrecision","upperRadiusLimit","lowerRadiusLimit","upperAlphaLimit","lowerAlphaLimit","mode","ORTHOGRAPHIC_CAMERA","orthoTop","orthoBottom","orthoLeft","orthoRight","target","changeView","activeCamera","detachControl","setTarget","alpha","SceneManager","size","ballPositions","controlOptions","drawBallPath","res","pathData","length","pathCueWhite","dispose","pathCueYellow","pathTargetBall","whiteBallPoints","i","push","yellowBallPoints","colorYellow","redBallPoints","colorRed","configCameras","loadModels","ImportMesh","newMeshes","objects","bat","table","configCueBalls","updateBat","updateControlOptions","data","cueLine","cueAngle","sideEnglish","topSpin","_this$objects","cueBallWhite","deltaSideEnglish","deltaTopSpin","pos","updateTarget","generateReflectionMaterial","root","others","probe","index","renderList","reflectionTexture","cubeTexture","reflectivityColor","reflectionFresnelParameters","bias","attachToMesh","_this$ballPositions","posCueBallWhite","posCueBallYellow","posTargetBall","cueBallYellow","targetBall","configGrids","color","gridPoints","grids","toggleGrids","initializeScene","clearColor","Up","getEngine","runRenderLoop","render","animateBalls","addEventListener","onPointerDown","onPointerUp","onPointerMove","getGroundPosition","pickinfo","pick","pointerX","pointerY","hit","pickedPoint","button","pickInfo","currentMesh","pickedMesh","startingPoint","setTimeout","enableControl","current","moveAndRotateBall","t","tmp","t0","posX","posY","_this$objects2","Date","getTime","res1","res2","res3","playSimulation","_this$objects3","billard","speed","initBallPosition","batContactLine","batLookatPoint","timerCount","view","SimulatorEngine","meshPicked","board","onSceneMount","e","componentDidMount","showPath","simulatorDom","React","createRef","option","react_babylonjs_es5","canvasId","onMeshPicked","InputSlider","componentWillReceiveProps","updateValue","onUpdate","itemKey","onChangeValue","onMinusPressed","currentValue","_this$props","min","step","onPlusPressed","_this$props2","max","_this$props3","containerClass","label","unitDom","vertical","width","sliderStyle","sliderClass","style","display","flex","textAlign","faMinus","onChange","faPlus","ballDiameter","maxTipOffset","ControllerCollection","checkRadialBounding","pow","updateTipPosition","pageX","pageY","rect","domBallImage","getBoundingClientRect","ballImageSize","round","tipPositionLeft","tipPositionTop","dispatchUpdateEvent","dist","acos","eventValues","onControlOptionsUpdated","onInputSliderUpdated","key","parseFloat","isPointerDown","_this$state","_this$state2","showGrid","btnGridClass","btnShowPathClass","newTipPositionTop","newTipPositionLeft","faTh","onToggleShowGrid","faCrosshairs","onToggleShowPath","faVolumeMute","slider_InputSlider","ref","ballImage","draggable","onMouseDown","top","left","faBackward","faStop","faPlay","onPlayPressed","faForward","CaromSimulator","componentWillMount","updateSimulateInfo","info","simulator","viewSelector_ViewSelector","simulatorEngine","controller_ControllerCollection","empocheeInit","simul","b1","b3","RTROU","EPSILON_COIN","XTROU2","angle_poche_coin","YTROU","angle_poche_centrale","EMPOCHEE","XE","XF","XB","XA","YB","YF","YA","YTROU2","YE","XTROU","a3","a1","a2","XD","YD","b2","empochee_fin","time_empochee","immobile","date_arret","_loc_24","_loc_28","_loc_31","traiter_poches","Symetrise_Params","choc_poche","_default","cl","new_seq","seq","seq_id","seq_origine","grille","lineStyle","moveTo","lineTo","titre","String","msg","scaleX","nb_points","pt_courant","auteur","seq_auto","aff_auteur","text","setTextFormat","myFormatJauneKozoomCentre","aff_titre","points_b","afficher_trajets","modif_pt_seq","simulation_en_cours","cont_bille","aff_trajet_bille","event","temps_recul","dq","Ampl_queue","t_debut","muet","nb_sons_played","canal_queue","son_queue_plat","play","trans","soundTransform","volume","son_queue_pique","jouer_bille0","canal_bille0","son_bille_bille","canal_bille1","jouer_bande0","canal_bande0","son_bille_bande","canal_bande1","jouer_poche0","canal_poche0","son_poche","canal_poche1","entier","tourner_bille","FS","replacer","updateAfterEvent","afficher_une_bille","couleur","remettre_bille","positionner_texture","Lights","table_length","getLights","lights","registerShadowObjects","shadowGenerators","gen","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getShadowMap","light","shadowGenerator","useBlurExponentialShadowMap","useKernelBlur","blurKernel","forceBackFacesOnly","refreshRate","REFRESHRATE_RENDER_ONEVERYFRAME","pathes","line","ballPoints","lineColors","balls","includes","pocketRadius","dis1","dis2","completed","App","exports_CaromSimulator","Boolean","window","location","hostname","match","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.32f6862f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/top-view.83965708.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/target-view.8dfa6cf4.png\";","module.exports = __webpack_public_path__ + \"static/media/cueball.62cee232.png\";","import React, { Component } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faVideo } from '@fortawesome/free-solid-svg-icons';\r\nimport './viewSelector.css';\r\n\r\nimport viewTop from '../assets/top-view.png';\r\nimport viewStand from '../assets/stand-view.png';\r\nimport viewTarget from '../assets/target-view.png';\r\n\r\nexport default class ViewSelector extends Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            showCameraTypes: false\r\n        }\r\n    }\r\n\r\n    viewSelectorItemClicked = (item) => {\r\n        if(typeof this.props.viewSelectorItemClicked === 'function'){\r\n            this.props.viewSelectorItemClicked(item);\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let _self = this;\r\n        let strTopClass = \"view-selector-item\";\r\n        let strStandClass = \"view-selector-item\";\r\n        let strTargetClass = \"view-selector-item\";\r\n\r\n        if (this.props.currentView === 'top') {\r\n            strTopClass += \" active\";\r\n        } else if (this.props.currentView === 'stand'){\r\n            strStandClass += \" active\";\r\n        } else if (this.props.currentView === 'targetting'){\r\n            strTargetClass += \" active\";\r\n        }\r\n        return (\r\n            <div className=\"view-selector\">\r\n                <FontAwesomeIcon\r\n                    className=\"video-icon\"\r\n                    icon={faVideo}\r\n                    onClick={()=>{\r\n                        this.setState({\r\n                            showCameraTypes: !this.state.showCameraTypes\r\n                        })\r\n                    }}\r\n                />\r\n                {\r\n                    this.state.showCameraTypes?(\r\n                        <div className=\"select-camera-type\">\r\n                            <img\r\n                                className={strTopClass}\r\n                                src={viewTop}\r\n                                onClick={function () { _self.viewSelectorItemClicked('top') }}\r\n                            />\r\n                            <img\r\n                                className={strStandClass}\r\n                                src={viewStand}\r\n                                onClick={function () { _self.viewSelectorItemClicked('stand') }}\r\n                            />\r\n                            <img\r\n                                className={strTargetClass}\r\n                                src={viewTarget}\r\n                                onClick={function () { _self.viewSelectorItemClicked('targetting') }}\r\n                            />\r\n                        </div>\r\n                    ) : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","// model files\r\nexport const filePoolTableModel = \"pooltable.babylon\";\r\nexport const fileCaromTableModel = \"caromtable.babylon\";\r\nexport const fileBatModel = \"bat.babylon\";\r\nexport const POOL_TABLE_LENGTH = 406; //pixel\r\nexport const CAROM_TABLE_LENGTH = 400; //pixel\r\n// end model files\r\n\r\n// for simulator\r\nexport const BALL_SIZE = 5.715; // cm\r\n\r\nexport const ballMass = 0.17;\r\n\r\nexport const linearSpeedDampingRate = 0.9;\r\nexport const angularSpeedDampingRate = 0.9;\r\nexport const rollingRate = 0.5;\r\nexport const perpendicularForceRate = 0.3;\r\nexport const CONSTANTS_SPEED_NORMAL = {\r\n    timeStep: 0.01666,\r\n    gravityRate: 0.16,\r\n    // gravityRate: 0.72,\r\n    forceMagnitude: 0.2,\r\n\r\n    ballFriction: 0.8, //u\r\n    ballRestitution: 0.95, //e\r\n\r\n    ballNativeOptions: {\r\n\r\n    },\r\n\r\n    carpetFriction: 0.9, //u\r\n    carpetRestitution: 0.5, //e\r\n\r\n    carpetRailFriction: 0.2, // u\r\n    carpetRailRestitution: 0.98, //e\r\n}\r\n\r\nexport const maxDelta = 0.5;\r\n// end for simulator\r\n\r\n// get data from server\r\nexport const CAROM_INDEX_SIZE = 3;\r\nexport const CAROM_INDEX_WHITE_X = 6;\r\nexport const CAROM_INDEX_WHITE_Y = 7;\r\nexport const CAROM_INDEX_YELLOW_X = 8;\r\nexport const CAROM_INDEX_YELLOW_Y = 9;\r\nexport const CAROM_INDEX_TARGET_X = 10;\r\nexport const CAROM_INDEX_TARGET_Y = 11;\r\nexport const CAROM_INDEX_SPEED = 12;\r\nexport const CAROM_INDEX_CUEANGLE = 13;\r\nexport const CAROM_INDEX_CUELINE = 14;\r\nexport const CAROM_INDEX_SIDEENGLISH = 15;\r\nexport const CAROM_INDEX_TOPSPIN = 16;\r\n// end get data for server","export default class son {\r\n    played;\r\n    intensite;\r\n    type_choc;\r\n    temps;\r\n\r\n    constructor () {\r\n        this.played = false;\r\n        return;\r\n    }\r\n}","export default class evt {\r\n    RAp;\r\n    RAr;\r\n    RAq;\r\n    time;\r\n    X;\r\n    Y;\r\n\r\n    constructor () {\r\n        return;\r\n    }\r\n}","import son from './son';\r\nimport evt from './evt';\r\n\r\nexport default class Simul {\r\n    delta_fgpas = 0.004375;\r\n    Y0;\r\n    RArfin;\r\n    r0;\r\n    Yfin;\r\n    e_s;\r\n    VQx;\r\n    first_bille_choquee;\r\n    nb_sons;\r\n    RAp;\r\n    RAr;\r\n    VQy;\r\n    RSG = 1;\r\n    etat;\r\n    RAp0;\r\n    RAq;\r\n    VRp;\r\n    VRq;\r\n    VRr;\r\n    YMIN;\r\n    fgpas = 0.00125;\r\n    nb_max_sons;\r\n    EPSILON = 0.86;\r\n    YMAX;\r\n    RApfin;\r\n    R;\r\n    D;\r\n    effet;\r\n    frpas = 3e-005;\r\n    Y;\r\n    vqueue;\r\n    RAq0;\r\n    duree;\r\n    alph;\r\n    X;\r\n    Rq;\r\n    Rr;\r\n    deltaVN;\r\n    RAr0;\r\n    beta_gliss;\r\n    Rp;\r\n    VN0;\r\n    sorties;\r\n    calculs_finis;\r\n    Vinit;\r\n    QCQ = 2;\r\n    nb_max_clefs;\r\n    Rfppas = 7.5e-005;\r\n    f1 = 0.25;\r\n    f2 = 0.42;\r\n    d13;\r\n    Vx0;\r\n    done;\r\n    eff_s;\r\n    deltaclef;\r\n    Rfp = 0.15;\r\n    nb_clefs;\r\n    fbille = 0.05;\r\n    nbandes;\r\n    pas = 0.0005;\r\n    VMz;\r\n    fp1 = 0.2;\r\n    RAqfin;\r\n    intens;\r\n    resolution;\r\n    er;\r\n    alpha_bande;\r\n    ARRET = 0;\r\n    TSP = 3;\r\n    date;\r\n    el;\r\n    VN;\r\n    RendementChoc;\r\n    Vy0;\r\n    VT;\r\n    p0;\r\n    fg = 2.5;\r\n    evts_son;\r\n    Xfin;\r\n    fr = 0.06;\r\n    DateMax;\r\n    beta_adh;\r\n    distance13;\r\n    XMIN;\r\n    choc13;\r\n    X0;\r\n    choc12;\r\n    Vx;\r\n    Vy;\r\n    q0;\r\n    XMAX;\r\n    evts;\r\n    nb_b_avant;\r\n    deltaclefRot;\r\n    beta;\r\n    nb3;\r\n\r\n    constructor (param1, param2)\r\n    {\r\n        var _loc_3 = 0;\r\n        this.XMAX = param1;\r\n        this.YMAX = param2;\r\n        this.XMIN = -param1;\r\n        this.YMIN = -param2;\r\n        this.nb_max_clefs = 10000;\r\n        this.nb_clefs = [];\r\n        var _loc_4 = 0;\r\n        this.nb_clefs[2] = 0;\r\n        this.nb_clefs[1] = _loc_4;\r\n        this.nb_clefs[0] = _loc_4;\r\n        \r\n        this.evts = [];\r\n        this.nb_max_sons = 50;\r\n        this.nb_sons = 0;\r\n        this.evts_son = [];\r\n        this.sorties = [];\r\n        this.eff_s = [];\r\n        this.etat = [];\r\n        this.X0 = [];\r\n        this.Y0 = [];\r\n        this.X = [];\r\n        this.Y = [];\r\n        this.Xfin = [];\r\n        this.Yfin = [];\r\n        this.RAp = [];\r\n        this.RAq = [];\r\n        this.RAr = [];\r\n        this.RAp0 = [];\r\n        this.RAq0 = [];\r\n        this.RAr0 = [];\r\n        this.RApfin = [];\r\n        this.RAqfin = [];\r\n        this.RArfin = [];\r\n        this.Vx = [];\r\n        this.Vy = [];\r\n        this.Rp = [];\r\n        this.Rq = [];\r\n        this.Rr = [];\r\n        this.VQx = [];\r\n        this.VQy = [];\r\n        this.etat = [];\r\n        this.D = 0.06;\r\n        this.R = 0.03;\r\n        this.RendementChoc = 0.8;\r\n        this.deltaclefRot = this.R * Math.PI / 10;\r\n        this.resolution = 0.01;\r\n        this.done = false;\r\n        this.sorties[0] = 0;\r\n        this.sorties[1] = 0;\r\n        this.sorties[2] = 0;\r\n        this.sorties[3] = 7.5;\r\n        this.sorties[4] = 7.5;\r\n        this.sorties[5] = 7.5;\r\n        this.sorties[6] = 16;\r\n        this.sorties[7] = 16;\r\n        this.sorties[8] = 16;\r\n        this.sorties[9] = 33;\r\n        this.sorties[10] = 32;\r\n        this.sorties[11] = 23.5;\r\n        this.sorties[12] = 52;\r\n        this.sorties[13] = 43;\r\n        this.sorties[14] = 31;\r\n        this.sorties[15] = 72;\r\n        this.sorties[16] = 53;\r\n        this.sorties[17] = 35;\r\n        this.sorties[18] = 86;\r\n        this.sorties[19] = 60;\r\n        this.sorties[20] = 38;\r\n        this.sorties[21] = 100;\r\n        this.sorties[22] = 69;\r\n        this.sorties[23] = 44;\r\n        this.sorties[24] = 108;\r\n        this.sorties[25] = 79;\r\n        this.sorties[26] = 53;\r\n        this.sorties[27] = 120;\r\n        this.sorties[28] = 90;\r\n        this.sorties[29] = 60;\r\n        this.eff_s[0] = -1.5;\r\n        this.eff_s[1] = 0;\r\n        this.eff_s[2] = 1.5;\r\n        this.eff_s[3] = -1.5;\r\n        this.eff_s[4] = 0.5;\r\n        this.eff_s[5] = 1.2;\r\n        this.eff_s[6] = -1.3;\r\n        this.eff_s[7] = 0.7;\r\n        this.eff_s[8] = 1.3;\r\n        this.eff_s[9] = -0.5;\r\n        this.eff_s[10] = 1.3;\r\n        this.eff_s[11] = 1.2;\r\n        this.eff_s[12] = -0.5;\r\n        this.eff_s[13] = 1.3;\r\n        this.eff_s[14] = 1.1;\r\n        this.eff_s[15] = -0.3;\r\n        this.eff_s[16] = 0.8;\r\n        this.eff_s[17] = 1.2;\r\n        this.eff_s[18] = 0;\r\n        this.eff_s[19] = 0.7;\r\n        this.eff_s[20] = 1.2;\r\n        this.eff_s[21] = 0;\r\n        this.eff_s[22] = 0.5;\r\n        this.eff_s[23] = 1.5;\r\n        this.eff_s[24] = -0.6;\r\n        this.eff_s[25] = 0.2;\r\n        this.eff_s[26] = 1.5;\r\n        this.eff_s[27] = -0.65;\r\n        this.eff_s[28] = 0;\r\n        this.eff_s[29] = 1.5;\r\n        return;\r\n    }// end function\r\n\r\n    choc_bande = (param1) => {\r\n        var _loc_2 = NaN;\r\n        if (this.X[param1] > this.XMIN && this.X[param1] < this.XMAX && this.Y[param1] > this.YMIN && this.Y[param1] < this.YMAX)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.X[param1] < this.XMIN && this.Vx[param1] > 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.X[param1] > this.XMAX && this.Vx[param1] < 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.Y[param1] > this.YMAX && this.Vy[param1] < 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.Y[param1] < this.YMIN && this.Vy[param1] > 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (param1 == 0)\r\n        {\r\n            if (!this.choc12 || !this.choc13)\r\n            {\r\n                var _loc_3 = this;\r\n                var _loc_4 = this.nbandes + 1;\r\n                _loc_3.nbandes = _loc_4;\r\n                if (!this.choc12 && !this.choc13)\r\n                {\r\n                    var _loc_3 = this;\r\n                    var _loc_4 = this.nb_b_avant + 1;\r\n                    _loc_3.nb_b_avant = _loc_4;\r\n                }\r\n            }\r\n        }\r\n        if (this.etat[param1] == this.RSG)\r\n        {\r\n            this.Rp[param1] = -this.Vy[param1];\r\n            this.Rq[param1] = this.Vx[param1];\r\n        }\r\n        else if (this.etat[param1] == this.QCQ)\r\n        {\r\n            this.Rp[param1] = -this.Vy[param1] + this.VQy[param1];\r\n            this.Rq[param1] = this.Vx[param1] - this.VQx[param1];\r\n        }\r\n        this.init_pars(param1);\r\n        this.VMz = this.VT - this.VRr;\r\n        this.VN0 = -this.VN;\r\n        this.VN = this.VN * (-this.EPSILON);\r\n        this.deltaVN = this.VN0 + this.VN;\r\n        this.intens = this.VN0 / 20;\r\n        if (this.intens > 1)\r\n        {\r\n            this.intens = 1;\r\n        }\r\n        this.beta_adh = 2 / 7 * Math.sqrt(this.VMz * this.VMz + this.VRq * this.VRq);\r\n        this.beta_gliss = this.f1 * this.deltaVN;\r\n        if (Math.abs(this.VMz) < 1e-005)\r\n        {\r\n            this.alpha_bande = Math.PI / 2;\r\n        }\r\n        else\r\n        {\r\n            this.alpha_bande = Math.abs(Math.atan(this.VRq / this.VMz));\r\n        }\r\n        _loc_2 = Math.abs(this.fp1 * this.deltaVN);\r\n        if (Math.abs(this.VRp) < _loc_2)\r\n        {\r\n            this.VRp = 0;\r\n        }\r\n        else if (this.VRp > 0)\r\n        {\r\n            this.VRp = this.VRp - _loc_2;\r\n        }\r\n        else\r\n        {\r\n            this.VRp = this.VRp + _loc_2;\r\n        }\r\n        _loc_2 = Math.abs(this.f2 * this.deltaVN);\r\n        this.VRq = this.VRq + _loc_2;\r\n        if (this.beta_gliss > this.beta_adh)\r\n        {\r\n            this.choc_adh(param1);\r\n        }\r\n        else\r\n        {\r\n            this.choc_gliss(param1);\r\n        }\r\n        this.recup_pars(param1);\r\n        this.VQx[param1] = this.Vx[param1] - this.Rq[param1];\r\n        this.VQy[param1] = this.Vy[param1] + this.Rp[param1];\r\n        this.etat[param1] = this.QCQ;\r\n        return true;\r\n    }// end function\r\n\r\n    fin_parcours = () => {\r\n        var _loc_1 = 0;\r\n        _loc_1 = 0;\r\n        while (_loc_1 < 3)\r\n        {\r\n            if (this.etat[_loc_1] != this.ARRET)\r\n            {\r\n                if (this.Vx[_loc_1] * this.Vx[_loc_1] + this.Vy[_loc_1] * this.Vy[_loc_1] < this.frpas * this.frpas)\r\n                {\r\n                    if (Math.abs(this.Rr[_loc_1]) < this.Rfppas)\r\n                    {\r\n                        this.etat[_loc_1] = this.ARRET;\r\n                        var _loc_2 = 0;\r\n                        this.Vy[_loc_1] = 0;\r\n                        this.Vx[_loc_1] = _loc_2;\r\n                        var _loc_2 = 0;\r\n                        this.Rr[_loc_1] = 0;\r\n                        this.Rq[_loc_1] = _loc_2;\r\n                        this.Rp[_loc_1] = _loc_2;\r\n                    }\r\n                    else\r\n                    {\r\n                        this.etat[_loc_1] = this.TSP;\r\n                        return false;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n            _loc_1++;\r\n        }\r\n        return true;\r\n    }// end function\r\n\r\n    Calcul = (param1) => {\r\n        console.log('parameter', param1)\r\n        var _loc_2 = 0;\r\n        var _loc_3 = 0;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_4 = [];\r\n        _loc_2 = 0;\r\n        while (_loc_2 < 3)\r\n        {\r\n            \r\n            this.nb_clefs[_loc_2] = 0;\r\n            _loc_3 = 0;\r\n            while (_loc_3 < this.nb_max_clefs)\r\n            {\r\n                \r\n                this.evts[this.nb_max_clefs * _loc_2 + _loc_3] = null;\r\n                _loc_3++;\r\n            }\r\n            _loc_2++;\r\n        }\r\n        this.nb_sons = 0;\r\n        _loc_2 = 0;\r\n        while (_loc_2 < this.nb_max_sons)\r\n        {\r\n            \r\n            this.evts_son[_loc_2] = null;\r\n            _loc_2++;\r\n        }\r\n        _loc_2 = 0;\r\n        while (_loc_2 < 3)\r\n        {\r\n            \r\n            this.X[_loc_2] = param1.Xinit[_loc_2];\r\n            this.Y[_loc_2] = param1.Yinit[_loc_2];\r\n            this.RAp[_loc_2] = param1.RApInit[_loc_2];\r\n            this.RAq[_loc_2] = param1.RAqInit[_loc_2];\r\n            this.RAr[_loc_2] = param1.RArInit[_loc_2];\r\n            this.add_clef(_loc_2);\r\n            _loc_2++;\r\n        }\r\n        this.el = param1.el;\r\n        this.er = param1.er;\r\n        this.alph = param1.alphaQ;\r\n        this.beta = param1.betaQ;\r\n        this.vqueue = param1.Vqueue;\r\n        this.calculs_finis = false;\r\n        this.nbandes = 0;\r\n        this.done = false;\r\n        this.distance13 = 2;\r\n        this.first_bille_choquee = 0;\r\n        this.choc12 = false;\r\n        this.choc13 = false;\r\n        this.done = false;\r\n        this.deltaclef = this.resolution;\r\n        this.date = 0;\r\n        this.beta = this.beta + Math.PI;\r\n        this.Vinit = 1.4 * this.vqueue * Math.cos(this.alph / 1.2);\r\n        _loc_5 = -2 * this.Vinit / Math.cos(this.alph / 1.1) * this.er / this.R;\r\n\r\n        var _loc_7 = Math.PI / 20;\r\n        if (this.alph > _loc_7)\r\n        {\r\n            _loc_8 = Math.PI / 2 / (Math.PI / 2 - _loc_7) * (this.alph - _loc_7);\r\n        }\r\n        else\r\n        {\r\n            _loc_8 = 0;\r\n        }\r\n        _loc_6 = 4 * this.vqueue * Math.sin(_loc_8) * this.el / this.R;\r\n        \r\n        this.Vx[0] = this.Vinit * Math.cos(this.beta);\r\n        this.Vx0 = this.Vx[0];\r\n        this.Vy[0] = this.Vinit * Math.sin(this.beta);\r\n        this.Vy0 = this.Vy[0];\r\n        var _loc_9 = _loc_5 * Math.sin(this.beta) + _loc_6 * Math.cos(this.beta);\r\n        this.Rp[0] = _loc_5 * Math.sin(this.beta) + _loc_6 * Math.cos(this.beta);\r\n        this.p0 = _loc_9;\r\n        var _loc_9 = (-_loc_5) * Math.cos(this.beta) + _loc_6 * Math.sin(this.beta);\r\n        this.Rq[0] = (-_loc_5) * Math.cos(this.beta) + _loc_6 * Math.sin(this.beta);\r\n        this.q0 = _loc_9;\r\n        var _loc_9 = 2 * this.el / this.R * this.Vinit;\r\n        this.Rr[0] = 2 * this.el / this.R * this.Vinit;\r\n        this.r0 = _loc_9;\r\n\r\n        this.VQx[0] = this.Vx[0] - this.Rq[0];\r\n        this.VQy[0] = this.Vy[0] + this.Rp[0];\r\n        this.etat[0] = this.QCQ;\r\n\r\n        _loc_2 = 1;\r\n        while (_loc_2 < 3)\r\n        {\r\n            \r\n            this.Vx[_loc_2] = 0;\r\n            this.Vy[_loc_2] = 0;\r\n            this.VQx[_loc_2] = 0;\r\n            this.VQy[_loc_2] = 0;\r\n            this.Rp[_loc_2] = 0;\r\n            this.Rq[_loc_2] = 0;\r\n            this.Rr[_loc_2] = 0;\r\n            this.etat[_loc_2] = this.ARRET;\r\n            this.add_clef(_loc_2);\r\n            _loc_2++;\r\n        }\r\n        this.evts_son[this.nb_sons] = new son();\r\n        this.evts_son[this.nb_sons].played = false;\r\n        this.evts_son[this.nb_sons].temps = 0;\r\n        this.evts_son[this.nb_sons].intensite = this.Vinit / 5.4;\r\n        \r\n        if (this.alph > Math.PI / 4)\r\n        {\r\n            this.evts_son[this.nb_sons].type_choc = 0;\r\n        }\r\n        else\r\n        {\r\n            this.evts_son[this.nb_sons].type_choc = 1;\r\n        }\r\n        // this.nb_sons += 1;\r\n        while (!this.fin_parcours())\r\n        {\r\n            this.date += 1;\r\n            if (this.choc_billes(_loc_4))\r\n            {\r\n            }\r\n            _loc_2 = 0;\r\n            while (_loc_2 < 3)\r\n            {\r\n                if (this.etat[_loc_2] != this.ARRET)\r\n                {\r\n                    if (this.choc_bande(_loc_2))\r\n                    {\r\n                        this.add_clef(_loc_2);\r\n                        this.evts_son[this.nb_sons] = new son();\r\n                        this.evts_son[this.nb_sons].played = false;\r\n                        this.evts_son[this.nb_sons].temps = this.date * this.pas;\r\n                        this.evts_son[this.nb_sons].intensite = this.intens;\r\n                        this.evts_son[this.nb_sons].type_choc = 3;\r\n                        var _loc_9 = this;\r\n                        var _loc_10 = this.nb_sons + 1;\r\n                        _loc_9.nb_sons = _loc_10;\r\n                    }\r\n                    if (this.mise_a_jour(_loc_2))\r\n                    {\r\n                        this.add_clef(_loc_2);\r\n                    }\r\n                }\r\n                if (Math.abs(this.X[_loc_2] - this.X0[_loc_2]) > this.deltaclef || Math.abs(this.Y[_loc_2] - this.Y0[_loc_2]) > this.deltaclef || Math.abs(this.RAp[_loc_2] - this.RAp0[_loc_2]) > this.deltaclefRot || Math.abs(this.RAq[_loc_2] - this.RAq0[_loc_2]) > this.deltaclefRot || Math.abs(this.RAr[_loc_2] - this.RAr0[_loc_2]) > this.deltaclefRot)\r\n                {\r\n                    this.add_clef(_loc_2);\r\n                }\r\n                _loc_2++;\r\n            }\r\n        }\r\n        if (this.fin_parcours())\r\n        {\r\n            this.calculs_finis = true;\r\n            for (var _loc_2 = 0; _loc_2 < 3; _loc_2++)\r\n            {\r\n                \r\n                this.Xfin[_loc_2] = this.X[_loc_2];\r\n                this.Yfin[_loc_2] = this.Y[_loc_2];\r\n                this.RApfin[_loc_2] = this.RAp[_loc_2];\r\n                this.RAqfin[_loc_2] = this.RAq[_loc_2];\r\n                this.RArfin[_loc_2] = this.RAr[_loc_2];\r\n                this.add_clef(_loc_2);\r\n            }\r\n            this.duree = this.date * this.pas;\r\n        }\r\n        else\r\n        {\r\n            for (_loc_2 = 0; _loc_2 < 3; _loc_2++)\r\n            {\r\n                this.add_clef(_loc_2);\r\n            }\r\n        }\r\n        \r\n        return this.evts;\r\n    }\r\n\r\n    mise_a_jour = (param1) => {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = false;\r\n        if (this.first_bille_choquee != 0)\r\n        {\r\n            this.nb3 = 3 - this.first_bille_choquee;\r\n            this.d13 = Math.sqrt((this.X[0] - this.X[this.nb3]) * (this.X[0] - this.X[this.nb3]) + (this.Y[0] - this.Y[this.nb3]) * (this.Y[0] - this.Y[this.nb3]));\r\n            if (this.d13 < this.distance13)\r\n            {\r\n                this.distance13 = this.d13;\r\n            }\r\n        }\r\n        if (this.etat[param1] == this.RSG)\r\n        {\r\n            _loc_2 = Math.sqrt(this.Vx[param1] * this.Vx[param1] + this.Vy[param1] * this.Vy[param1]);\r\n            if (_loc_2 < this.frpas)\r\n            {\r\n                var _loc_8 = 0;\r\n                this.Vy[param1] = 0;\r\n                this.Vx[param1] = _loc_8;\r\n                var _loc_8 = 0;\r\n                this.Rq[param1] = 0;\r\n                this.Rp[param1] = _loc_8;\r\n                if (Math.abs(this.Rr[param1]) < this.Rfppas)\r\n                {\r\n                    this.etat[param1] = this.ARRET;\r\n                    this.Rr[param1] = 0;\r\n                    this.add_clef(param1);\r\n                    return true;\r\n                }\r\n                this.etat[param1] = this.TSP;\r\n            }\r\n            if (this.etat[param1] != this.TSP)\r\n            {\r\n                _loc_3 = 1 - this.frpas / _loc_2;\r\n                this.Vx[param1] = this.Vx[param1] * _loc_3;\r\n                this.Vy[param1] = this.Vy[param1] * _loc_3;\r\n                this.Rp[param1] = -this.Vy[param1];\r\n                this.Rq[param1] = this.Vx[param1];\r\n            }\r\n            if (Math.abs(this.Rr[param1]) < this.Rfppas)\r\n            {\r\n                this.Rr[param1] = 0;\r\n            }\r\n            else if (this.Rr[param1] > 0)\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] - this.Rfppas;\r\n            }\r\n            else\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] + this.Rfppas;\r\n            }\r\n        }\r\n        if (this.etat[param1] == this.QCQ)\r\n        {\r\n            _loc_4 = Math.sqrt(this.VQx[param1] * this.VQx[param1] + this.VQy[param1] * this.VQy[param1]);\r\n            if (_loc_4 < this.delta_fgpas)\r\n            {\r\n                this.etat[param1] = this.RSG;\r\n            }\r\n            else\r\n            {\r\n                _loc_5 = (-this.fgpas) * this.VQx[param1] / _loc_4;\r\n                _loc_6 = (-this.fgpas) * this.VQy[param1] / _loc_4;\r\n                this.Vx[param1] = this.Vx[param1] + _loc_5;\r\n                this.Vy[param1] = this.Vy[param1] + _loc_6;\r\n                _loc_3 = 1 - this.delta_fgpas / _loc_4;\r\n                this.VQx[param1] = this.VQx[param1] * _loc_3;\r\n                this.VQy[param1] = this.VQy[param1] * _loc_3;\r\n            }\r\n            this.Rp[param1] = -this.Vy[param1] + this.VQy[param1];\r\n            this.Rq[param1] = this.Vx[param1] - this.VQx[param1];\r\n            if (Math.abs(this.Rr[param1]) < this.Rfppas)\r\n            {\r\n                this.Rr[param1] = 0;\r\n            }\r\n            else if (this.Rr[param1] > 0)\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] - this.Rfppas;\r\n            }\r\n            else\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] + this.Rfppas;\r\n            }\r\n        }\r\n        if (this.etat[param1] == this.TSP)\r\n        {\r\n            var _loc_8 = 0;\r\n            this.Vy[param1] = 0;\r\n            this.Vx[param1] = _loc_8;\r\n            var _loc_8 = 0;\r\n            this.Rq[param1] = 0;\r\n            this.Rp[param1] = _loc_8;\r\n            if (Math.abs(this.Rr[param1]) < this.Rfppas)\r\n            {\r\n                this.Rr[param1] = 0;\r\n                this.etat[param1] = this.ARRET;\r\n                return true;\r\n            }\r\n            if (this.Rr[param1] > 0)\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] - 2 * this.Rfppas;\r\n            }\r\n            else\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] + 2 * this.Rfppas;\r\n            }\r\n        }\r\n        this.X[param1] = this.X[param1] + this.Vx[param1] * this.pas;\r\n        this.Y[param1] = this.Y[param1] + this.Vy[param1] * this.pas;\r\n        this.RAp[param1] = this.RAp[param1] + this.Rp[param1] * this.pas;\r\n        this.RAq[param1] = this.RAq[param1] + this.Rq[param1] * this.pas;\r\n        this.RAr[param1] = this.RAr[param1] + this.Rr[param1] * this.pas;\r\n        return false;\r\n    }\r\n\r\n    choc_gliss = (param1) => {\r\n        if (this.VMz > 0)\r\n        {\r\n            this.VT = this.VT - this.beta_gliss * Math.cos(this.alpha_bande);\r\n            this.VRr = this.VRr + 2.5 * this.beta_gliss * Math.cos(this.alpha_bande);\r\n        }\r\n        else\r\n        {\r\n            this.VT = this.VT + this.beta_gliss * Math.cos(this.alpha_bande);\r\n            this.VRr = this.VRr - 2.5 * this.beta_gliss * Math.cos(this.alpha_bande);\r\n        }\r\n        return;\r\n    }\r\n\r\n    choc_adh = (param1) => {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = 0;\r\n        if (Math.abs(this.VT) < 1e-005)\r\n        {\r\n            _loc_2 = 90;\r\n        }\r\n        else\r\n        {\r\n            _loc_2 = 180 / Math.PI * Math.atan(this.VN0 / this.VT);\r\n        }\r\n        this.effet = 100 * this.R / 2 * this.VRr / Math.sqrt(this.VN0 * this.VN0 + this.VT * this.VT);\r\n        if (this.effet <= -1.5)\r\n        {\r\n            this.effet = -1.499;\r\n        }\r\n        else if (this.effet > 1.5)\r\n        {\r\n            this.effet = 1.499;\r\n        }\r\n        if (Math.abs(this.VT) < 1e-005)\r\n        {\r\n            if (this.effet > 0)\r\n            {\r\n                _loc_3 = this.sorties[9 * 3 + 1] + (this.sorties[9 * 3 + 2] - this.sorties[9 * 3 + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                _loc_3 = this.sorties[9 * 3] + (this.sorties[9 * 3 + 1] - this.sorties[9 * 3]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            _loc_2 = 180 / Math.PI * Math.atan(this.VN0 / this.VT);\r\n            _loc_10 = parseInt(_loc_2 / 10);\r\n            if (this.effet > 0)\r\n            {\r\n                _loc_4 = this.sorties[3 * _loc_10 + 1] + (this.sorties[3 * _loc_10 + 2] - this.sorties[3 * _loc_10 + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                _loc_4 = this.sorties[3 * _loc_10 + 0] + (this.sorties[3 * _loc_10 + 1] - this.sorties[3 * _loc_10 + 0]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n            if (this.effet > 0)\r\n            {\r\n                _loc_5 = this.sorties[3 * (_loc_10 + 1) + 1] + (this.sorties[3 * (_loc_10 + 1) + 2] - this.sorties[3 * (_loc_10 + 1) + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                _loc_5 = this.sorties[3 * (_loc_10 + 1) + 0] + (this.sorties[3 * (_loc_10 + 1) + 1] - this.sorties[3 * (_loc_10 + 1) + 0]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n            _loc_3 = _loc_4 + (_loc_5 - _loc_4) / 10 * (_loc_2 - 10 * _loc_10);\r\n        }\r\n        if (Math.abs(_loc_3 - 90) < 1e-005)\r\n        {\r\n            this.VT = 0;\r\n        }\r\n        else if (_loc_3 < 90)\r\n        {\r\n            this.VT = this.VN / Math.tan(_loc_3 / 180 * Math.PI);\r\n        }\r\n        else\r\n        {\r\n            this.VT = (-this.VN) * Math.tan((_loc_3 - 90) / 180 * Math.PI);\r\n        }\r\n        if (Math.abs(this.VT) < 1e-005)\r\n        {\r\n            if (this.effet > 0)\r\n            {\r\n                this.e_s = this.eff_s[9 * 3 + 1] + (this.eff_s[9 * 3 + 2] - this.eff_s[9 * 3 + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                this.e_s = this.eff_s[9 * 3 + 0] + (this.eff_s[9 * 3 + 1] - this.eff_s[9 * 3 + 0]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (this.effet > 0)\r\n            {\r\n                _loc_6 = this.eff_s[3 * _loc_10 + 1] + (this.eff_s[3 * _loc_10 + 2] - this.eff_s[3 * _loc_10 + 1]) * (this.effet / 1.5);\r\n                _loc_7 = this.eff_s[3 * (_loc_10 + 1) + 1] + (this.eff_s[3 * (_loc_10 + 1) + 2] - this.eff_s[3 * (_loc_10 + 1) + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                _loc_6 = this.eff_s[3 * _loc_10 + 0] + (this.eff_s[3 * _loc_10 + 1] - this.eff_s[3 * _loc_10 + 0]) * (this.effet + 1.5) / 1.5;\r\n                _loc_7 = this.eff_s[3 * (_loc_10 + 1) + 0] + (this.eff_s[3 * (_loc_10 + 1) + 1] - this.eff_s[3 * (_loc_10 + 1) + 0]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n            this.e_s = _loc_6 + (_loc_7 - _loc_6) / 10 * (_loc_2 - 10 * _loc_10);\r\n        }\r\n        _loc_9 = (5 * this.VN + 2 * this.VRq) / 7;\r\n        _loc_8 = (5 * this.VT - 2 * this.VRp) / 7;\r\n        this.VRr = 0.02 * this.e_s / this.R * Math.sqrt(_loc_9 * _loc_9 + _loc_8 * _loc_8);\r\n        return;\r\n    }\r\n\r\n    recup_pars = (param1) => {\r\n        if (this.X[param1] > this.XMAX && this.Vx[param1] > 0)\r\n        {\r\n            this.Vx[param1] = -this.VN;\r\n            this.Rq[param1] = -this.VRq;\r\n            if (this.Vy[param1] > 0)\r\n            {\r\n                this.Vy[param1] = this.VT;\r\n                this.Rp[param1] = this.VRp;\r\n                this.Rr[param1] = -this.VRr;\r\n            }\r\n            else\r\n            {\r\n                this.Vy[param1] = -this.VT;\r\n                this.Rp[param1] = -this.VRp;\r\n                this.Rr[param1] = this.VRr;\r\n            }\r\n        }\r\n        if (this.X[param1] < this.XMIN && this.Vx[param1] < 0)\r\n        {\r\n            this.Vx[param1] = this.VN;\r\n            this.Rq[param1] = this.VRq;\r\n            if (this.Vy[param1] > 0)\r\n            {\r\n                this.Vy[param1] = this.VT;\r\n                this.Rp[param1] = this.VRp;\r\n                this.Rr[param1] = this.VRr;\r\n            }\r\n            else\r\n            {\r\n                this.Vy[param1] = -this.VT;\r\n                this.Rp[param1] = -this.VRp;\r\n                this.Rr[param1] = -this.VRr;\r\n            }\r\n        }\r\n        if (this.Y[param1] < this.YMIN && this.Vy[param1] < 0)\r\n        {\r\n            this.Vy[param1] = this.VN;\r\n            this.Rp[param1] = -this.VRq;\r\n            if (this.Vx[param1] > 0)\r\n            {\r\n                this.Vx[param1] = this.VT;\r\n                this.Rq[param1] = -this.VRp;\r\n                this.Rr[param1] = -this.VRr;\r\n            }\r\n            else\r\n            {\r\n                this.Vx[param1] = -this.VT;\r\n                this.Rq[param1] = this.VRp;\r\n                this.Rr[param1] = this.VRr;\r\n            }\r\n        }\r\n        if (this.Y[param1] > this.YMAX && this.Vy[param1] > 0)\r\n        {\r\n            this.Vy[param1] = -this.VN;\r\n            this.Rp[param1] = this.VRq;\r\n            if (this.Vx[param1] > 0)\r\n            {\r\n                this.Vx[param1] = this.VT;\r\n                this.Rq[param1] = -this.VRp;\r\n                this.Rr[param1] = this.VRr;\r\n            }\r\n            else\r\n            {\r\n                this.Vx[param1] = -this.VT;\r\n                this.Rq[param1] = this.VRp;\r\n                this.Rr[param1] = -this.VRr;\r\n            }\r\n        }\r\n        return;\r\n    }\r\n\r\n    init_pars = (param1) => {\r\n        if (this.X[param1] > this.XMAX && this.Vx[param1] > 0)\r\n        {\r\n            this.VN = -this.Vx[param1];\r\n            this.VRq = -this.Rq[param1];\r\n            if (this.Vy[param1] > 0)\r\n            {\r\n                this.VT = this.Vy[param1];\r\n                this.VRp = this.Rp[param1];\r\n                this.VRr = -this.Rr[param1];\r\n            }\r\n            else\r\n            {\r\n                this.VT = -this.Vy[param1];\r\n                this.VRp = -this.Rp[param1];\r\n                this.VRr = this.Rr[param1];\r\n            }\r\n        }\r\n        if (this.X[param1] < this.XMIN && this.Vx[param1] < 0)\r\n        {\r\n            this.VN = this.Vx[param1];\r\n            this.VRq = this.Rq[param1];\r\n            if (this.Vy[param1] > 0)\r\n            {\r\n                this.VT = this.Vy[param1];\r\n                this.VRp = this.Rp[param1];\r\n                this.VRr = this.Rr[param1];\r\n            }\r\n            else\r\n            {\r\n                this.VT = -this.Vy[param1];\r\n                this.VRp = -this.Rp[param1];\r\n                this.VRr = -this.Rr[param1];\r\n            }\r\n        }\r\n        if (this.Y[param1] < this.YMIN && this.Vy[param1] < 0)\r\n        {\r\n            this.VN = this.Vy[param1];\r\n            this.VRq = -this.Rp[param1];\r\n            if (this.Vx[param1] > 0)\r\n            {\r\n                this.VT = this.Vx[param1];\r\n                this.VRp = -this.Rq[param1];\r\n                this.VRr = -this.Rr[param1];\r\n            }\r\n            else\r\n            {\r\n                this.VT = -this.Vx[param1];\r\n                this.VRp = this.Rq[param1];\r\n                this.VRr = this.Rr[param1];\r\n            }\r\n        }\r\n        if (this.Y[param1] > this.YMAX && this.Vy[param1] > 0)\r\n        {\r\n            this.VN = -this.Vy[param1];\r\n            this.VRq = this.Rp[param1];\r\n            if (this.Vx[param1] > 0)\r\n            {\r\n                this.VT = this.Vx[param1];\r\n                this.VRp = -this.Rq[param1];\r\n                this.VRr = this.Rr[param1];\r\n            }\r\n            else\r\n            {\r\n                this.VT = -this.Vx[param1];\r\n                this.VRp = this.Rq[param1];\r\n                this.VRr = -this.Rr[param1];\r\n            }\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    add_clef = (param1) => {\r\n        var _loc_2 = 0;\r\n        var _loc_3 = this.nb_max_clefs * param1 + this.nb_clefs[param1];\r\n        this.evts[_loc_3] = new evt();\r\n        this.evts[_loc_3].X = this.X[param1];\r\n        this.evts[_loc_3].Y = this.Y[param1];\r\n        this.evts[_loc_3].RAp = this.RAp[param1];\r\n        this.evts[_loc_3].RAq = this.RAq[param1];\r\n        this.evts[_loc_3].RAr = this.RAr[param1];\r\n        this.evts[_loc_3].time = this.date * this.pas;\r\n        var _loc_4 = this.nb_clefs;\r\n        var _loc_5 = param1;\r\n        var _loc_6 = _loc_4[param1] + 1;\r\n        _loc_4[_loc_5] = _loc_6;\r\n        this.X0[param1] = this.X[param1];\r\n        this.Y0[param1] = this.Y[param1];\r\n        this.RAp0[param1] = this.RAp[param1];\r\n        this.RAq0[param1] = this.RAq[param1];\r\n        this.RAr0[param1] = this.RAr[param1];\r\n        return;\r\n    }// end function\r\n\r\n    choc_billes = (param1) => {\r\n        var _loc_3 = 0;\r\n        var _loc_4 = 0;\r\n        var _loc_6 = false;\r\n        var _loc_7 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = NaN;\r\n        var _loc_11 = NaN;\r\n        var _loc_12 = NaN;\r\n        var _loc_13 = NaN;\r\n        var _loc_14 = NaN;\r\n        var _loc_15 = NaN;\r\n        var _loc_16 = NaN;\r\n        var _loc_17 = NaN;\r\n        var _loc_18 = NaN;\r\n        var _loc_19 = NaN;\r\n        var _loc_20 = NaN;\r\n        var _loc_21 = NaN;\r\n        var _loc_22 = NaN;\r\n        var _loc_23 = NaN;\r\n        var _loc_24 = NaN;\r\n        var _loc_25 = NaN;\r\n        var _loc_26 = NaN;\r\n        var _loc_27 = NaN;\r\n        var _loc_28 = 0;\r\n        var _loc_2 = false;\r\n        var _loc_5 = [];\r\n        _loc_3 = 0;\r\n        while (_loc_3 < 3)\r\n        {\r\n            \r\n            _loc_5[_loc_3] = false;\r\n            _loc_3++;\r\n        }\r\n        _loc_3 = 0;\r\n        while (_loc_3 < 3)\r\n        {\r\n            \r\n            if (!_loc_5[_loc_3])\r\n            {\r\n                _loc_6 = false;\r\n                _loc_4 = (_loc_3 + 1) % 3;\r\n                _loc_7 = (this.X[_loc_3] - this.X[_loc_4]) * (this.X[_loc_3] - this.X[_loc_4]) + (this.Y[_loc_3] - this.Y[_loc_4]) * (this.Y[_loc_3] - this.Y[_loc_4]);\r\n                if (_loc_7 < this.D * this.D && (this.etat[_loc_3] != this.ARRET || this.etat[_loc_4] != this.ARRET))\r\n                {\r\n                    if ((this.Vx[_loc_3] - this.Vx[_loc_4]) * (this.X[_loc_4] - this.X[_loc_3]) + (this.Vy[_loc_3] - this.Vy[_loc_4]) * (this.Y[_loc_4] - this.Y[_loc_3]) > 0)\r\n                    {\r\n                        _loc_6 = true;\r\n                        _loc_2 = true;\r\n                        if (!this.choc12 && !this.choc13 && _loc_3 == 0)\r\n                        {\r\n                            this.first_bille_choquee = _loc_4;\r\n                        }\r\n                        if (_loc_3 == 0 && _loc_4 == 1)\r\n                        {\r\n                            this.choc12 = true;\r\n                        }\r\n                        if (_loc_3 == 2 && _loc_4 == 0)\r\n                        {\r\n                            this.choc13 = true;\r\n                        }\r\n                        param1[0] = _loc_3;\r\n                        param1[1] = _loc_4;\r\n                    }\r\n                }\r\n                if (!_loc_6)\r\n                {\r\n                    _loc_4 = (_loc_3 + 2) % 3;\r\n                    _loc_7 = (this.X[_loc_3] - this.X[_loc_4]) * (this.X[_loc_3] - this.X[_loc_4]) + (this.Y[_loc_3] - this.Y[_loc_4]) * (this.Y[_loc_3] - this.Y[_loc_4]);\r\n                    if (_loc_7 < this.D * this.D && (this.etat[_loc_3] != this.ARRET || this.etat[_loc_4] != this.ARRET))\r\n                    {\r\n                        if ((this.Vx[_loc_3] - this.Vx[_loc_4]) * (this.X[_loc_4] - this.X[_loc_3]) + (this.Vy[_loc_3] - this.Vy[_loc_4]) * (this.Y[_loc_4] - this.Y[_loc_3]) > 0)\r\n                        {\r\n                            _loc_6 = true;\r\n                            _loc_2 = true;\r\n                            if (!this.choc12 && !this.choc13 && _loc_3 == 0)\r\n                            {\r\n                                this.first_bille_choquee = _loc_4;\r\n                            }\r\n                            if (_loc_3 == 1 && _loc_4 == 0)\r\n                            {\r\n                                this.choc12 = true;\r\n                            }\r\n                            if (_loc_3 == 0 && _loc_4 == 2)\r\n                            {\r\n                                this.choc13 = true;\r\n                            }\r\n                            param1[0] = _loc_3;\r\n                            param1[1] = _loc_4;\r\n                        }\r\n                    }\r\n                }\r\n                if (_loc_6)\r\n                {\r\n                    this.add_clef(_loc_3);\r\n                    this.add_clef(_loc_4);\r\n                    _loc_5[_loc_3] = true;\r\n                    if (this.etat[_loc_3] == this.RSG)\r\n                    {\r\n                        this.Rp[_loc_3] = -this.Vy[_loc_3];\r\n                        this.Rq[_loc_3] = this.Vx[_loc_3];\r\n                    }\r\n                    if (this.etat[_loc_3] == this.QCQ)\r\n                    {\r\n                        this.Rp[_loc_3] = -this.Vy[_loc_3] + this.VQy[_loc_3];\r\n                        this.Rq[_loc_3] = this.Vx[_loc_3] - this.VQx[_loc_3];\r\n                    }\r\n                    if (this.etat[_loc_3] == this.ARRET)\r\n                    {\r\n                        this.Rp[_loc_3] = 0;\r\n                        this.Rq[_loc_3] = 0;\r\n                    }\r\n                    _loc_5[_loc_4] = true;\r\n                    if (this.etat[_loc_4] == this.RSG)\r\n                    {\r\n                        this.Rp[_loc_4] = -this.Vy[_loc_4];\r\n                        this.Rq[_loc_4] = this.Vx[_loc_4];\r\n                    }\r\n                    if (this.etat[_loc_4] == this.QCQ)\r\n                    {\r\n                        this.Rp[_loc_4] = -this.Vy[_loc_4] + this.VQy[_loc_4];\r\n                        this.Rq[_loc_4] = this.Vx[_loc_4] - this.VQx[_loc_4];\r\n                    }\r\n                    if (this.etat[_loc_4] == this.ARRET)\r\n                    {\r\n                        this.Rp[_loc_4] = 0;\r\n                        this.Rq[_loc_4] = 0;\r\n                    }\r\n                    _loc_17 = this.Vx[_loc_3] * (this.X[_loc_4] - this.X[_loc_3]) + this.Vy[_loc_3] * (this.Y[_loc_4] - this.Y[_loc_3]);\r\n                    _loc_9 = _loc_17 * (this.X[_loc_4] - this.X[_loc_3]) / _loc_7;\r\n                    _loc_10 = _loc_17 * (this.Y[_loc_4] - this.Y[_loc_3]) / _loc_7;\r\n                    _loc_11 = this.Vx[_loc_3] - _loc_9;\r\n                    _loc_12 = this.Vy[_loc_3] - _loc_10;\r\n                    _loc_18 = this.Vx[_loc_4] * (this.X[_loc_3] - this.X[_loc_4]) + this.Vy[_loc_4] * (this.Y[_loc_3] - this.Y[_loc_4]);\r\n                    _loc_13 = _loc_18 * (this.X[_loc_3] - this.X[_loc_4]) / _loc_7;\r\n                    _loc_14 = _loc_18 * (this.Y[_loc_3] - this.Y[_loc_4]) / _loc_7;\r\n                    _loc_15 = this.Vx[_loc_4] - _loc_13;\r\n                    _loc_16 = this.Vy[_loc_4] - _loc_14;\r\n                    _loc_20 = _loc_9 - _loc_13;\r\n                    _loc_21 = _loc_10 - _loc_14;\r\n                    this.intens = (_loc_20 * _loc_20 + _loc_21 * _loc_21) / 5;\r\n                    if (this.intens > 1)\r\n                    {\r\n                        this.intens = 1;\r\n                    }\r\n                    this.evts_son[this.nb_sons] = new son();\r\n                    this.evts_son[this.nb_sons].played = false;\r\n                    this.evts_son[this.nb_sons].temps = this.date * this.pas;\r\n                    this.evts_son[this.nb_sons].intensite = this.intens;\r\n                    this.evts_son[this.nb_sons].type_choc = 2;\r\n                    var _loc_29 = this;\r\n                    var _loc_30 = this.nb_sons + 1;\r\n                    _loc_29.nb_sons = _loc_30;\r\n                    _loc_19 = _loc_9;\r\n                    _loc_9 = _loc_13;\r\n                    _loc_13 = _loc_19;\r\n                    _loc_13 = _loc_13 * this.RendementChoc;\r\n                    _loc_9 = _loc_9 * this.RendementChoc;\r\n                    _loc_19 = _loc_10;\r\n                    _loc_10 = _loc_14;\r\n                    _loc_14 = _loc_19;\r\n                    _loc_14 = _loc_14 * this.RendementChoc;\r\n                    _loc_10 = _loc_10 * this.RendementChoc;\r\n                    this.Vx[_loc_3] = _loc_9 + _loc_11;\r\n                    this.Vy[_loc_3] = _loc_10 + _loc_12;\r\n                    this.VQx[_loc_3] = this.Vx[_loc_3] - this.Rq[_loc_3];\r\n                    this.VQy[_loc_3] = this.Vy[_loc_3] + this.Rp[_loc_3];\r\n                    if (this.etat[_loc_4] == this.ARRET)\r\n                    {\r\n                        this.Vx[_loc_4] = this.Vx[_loc_4] * 0.94;\r\n                        this.Vy[_loc_4] = this.Vy[_loc_4] * 0.94;\r\n                        _loc_8 = Math.sqrt(_loc_7);\r\n                        _loc_17 = _loc_17 / _loc_8;\r\n                        _loc_17 = Math.abs(_loc_17);\r\n                        _loc_26 = this.fbille * _loc_17;\r\n                        _loc_22 = Math.abs(this.Rp[_loc_3] * (this.Y[_loc_4] - this.Y[_loc_3]) - this.Rq[_loc_3] * (this.X[_loc_4] - this.X[_loc_3])) / _loc_8;\r\n                        _loc_24 = (this.Vx[_loc_3] * (this.Y[_loc_4] - this.Y[_loc_3]) - this.Vy[_loc_3] * (this.X[_loc_4] - this.X[_loc_3])) / _loc_8;\r\n                        _loc_25 = _loc_24 - this.Rr[_loc_3];\r\n                        if (Math.abs(_loc_25) < 1e-005)\r\n                        {\r\n                            _loc_23 = Math.PI / 2;\r\n                        }\r\n                        else\r\n                        {\r\n                            _loc_23 = Math.abs(Math.atan(_loc_22 / _loc_25));\r\n                        }\r\n                        if (_loc_25 > 0)\r\n                        {\r\n                            _loc_28 = 1;\r\n                        }\r\n                        else\r\n                        {\r\n                            _loc_28 = -1;\r\n                        }\r\n                        _loc_27 = _loc_28 * _loc_26 * Math.cos(_loc_23);\r\n                        this.Rr[_loc_4] = 2.5 * _loc_27;\r\n                        this.Rr[_loc_3] = this.Rr[_loc_3] - 2.5 * _loc_27;\r\n                        _loc_15 = _loc_27 * (this.Y[_loc_4] - this.Y[_loc_3]) / _loc_8;\r\n                        _loc_16 = (-_loc_27) * (this.X[_loc_4] - this.X[_loc_3]) / _loc_8;\r\n                    }\r\n                    this.Vx[_loc_4] = _loc_13 + _loc_15;\r\n                    this.Vy[_loc_4] = _loc_14 + _loc_16;\r\n                    this.VQx[_loc_4] = this.Vx[_loc_4] - this.Rq[_loc_4];\r\n                    this.VQy[_loc_4] = this.Vy[_loc_4] + this.Rp[_loc_4];\r\n                    this.etat[_loc_4] = this.QCQ;\r\n                    this.etat[_loc_3] = this.QCQ;\r\n                }\r\n            }\r\n            _loc_3++;\r\n        }\r\n        return _loc_2;\r\n    }// end function\r\n}","export default class parametres {\r\n    noba;\r\n    NBILLES;\r\n    quant;\r\n    RApInit = [];\r\n    RArInit = [];\r\n    larg_billard;\r\n    RAqInit = [];\r\n    betaQ;\r\n    el;\r\n    Xinit = [];\r\n    Yinit = [];\r\n    er;\r\n    HBande = 0.035;\r\n    long_billard;\r\n    alphaQ;\r\n    Vqueue;\r\n    bille_visee;\r\n\r\n    constructor (param1, param2) {\r\n        var _loc_3 = 0;\r\n        this.NBILLES = 3;\r\n        this.long_billard = param1;\r\n        this.larg_billard = param2;\r\n        this.Xinit = [];\r\n        this.Yinit = [];\r\n        this.RApInit = [];\r\n        this.RAqInit = [];\r\n        this.RArInit = [];\r\n        _loc_3 = 0;\r\n        while (_loc_3 < 3)\r\n        {\r\n            \r\n            this.RApInit[_loc_3] = 0;\r\n            this.RAqInit[_loc_3] = 0;\r\n            this.RArInit[_loc_3] = 0;\r\n            _loc_3++;\r\n        }\r\n        this.Xinit[0] = -0.71;\r\n        this.Yinit[0] = -0.1775;\r\n        this.Xinit[1] = -0.71;\r\n        this.Yinit[1] = 0;\r\n        this.Xinit[2] = 0.71;\r\n        this.Yinit[2] = 0;\r\n        this.Vqueue = 0.08;\r\n        this.el = 0;\r\n        this.er = 0.012;\r\n        this.alphaQ = 0;\r\n        this.betaQ = 0 * Math.PI / 4;\r\n        this.Vqueue = 3.19731;\r\n        this.el = 0.0056;\r\n        this.er = 0.004;\r\n        this.alphaQ = 0.033916;\r\n        this.betaQ = 3.28339;\r\n        this.Xinit[0] = 0;\r\n        this.Yinit[0] = 0;\r\n        this.Xinit[1] = -0.051;\r\n        this.Yinit[1] = 0.05;\r\n        this.Xinit[2] = 0.05;\r\n        this.Yinit[2] = 0.05;\r\n        this.Vqueue = 0.4;\r\n        this.el = 0;\r\n        this.er = 0;\r\n        this.alphaQ = 0.033916;\r\n        this.betaQ = -7 * Math.PI / 8;\r\n        return;\r\n    }// end function\r\n\r\n    direction_beta = (param1, param2, param3) => {\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = 0.03;\r\n        _loc_6 = Math.sqrt((this.Xinit[0] - param2) * (this.Xinit[0] - param2) + (this.Yinit[0] - param3) * (this.Yinit[0] - param3));\r\n        param1 = param1 * (2 * _loc_7);\r\n        _loc_4 = Math.asin(param1 / _loc_6);\r\n        _loc_5 = this.atanjimi(param3 - this.Yinit[0], param2 - this.Xinit[0]);\r\n        if (_loc_5 - _loc_4 > Math.PI)\r\n        {\r\n            return _loc_5 - _loc_4 - 2 * Math.PI;\r\n        }\r\n        if (_loc_5 - _loc_4 < -Math.PI)\r\n        {\r\n            return _loc_5 - _loc_4 + 2 * Math.PI;\r\n        }\r\n        return _loc_5 - _loc_4;\r\n    }// end function\r\n\r\n    ToucheBandeX = (param1) => {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = NaN;\r\n        var _loc_11 = NaN;\r\n        var _loc_12 = NaN;\r\n        var _loc_13 = NaN;\r\n        var _loc_14 = NaN;\r\n        var _loc_15 = NaN;\r\n        var _loc_16 = NaN;\r\n        var _loc_17 = NaN;\r\n        var _loc_18 = NaN;\r\n        var _loc_7 = 0.03;\r\n        var _loc_19 = 1e-005;\r\n        var _loc_20 = 1.4;\r\n        var _loc_21 = 0.006;\r\n        var _loc_22 = 0.015;\r\n        while (this.betaQ < 0)\r\n        {\r\n            \r\n            this.betaQ = this.betaQ + 2 * Math.PI;\r\n        }\r\n        while (this.betaQ >= 2 * Math.PI)\r\n        {\r\n            \r\n            this.betaQ = this.betaQ - 2 * Math.PI;\r\n        }\r\n        _loc_14 = this.betaQ;\r\n        _loc_13 = param1;\r\n        _loc_17 = Math.cos(_loc_14);\r\n        _loc_18 = Math.sin(_loc_14);\r\n        _loc_15 = Math.cos(_loc_13);\r\n        _loc_16 = Math.sin(_loc_13);\r\n        _loc_12 = Math.sqrt(_loc_7 * _loc_7 - this.er * this.er - this.el * this.el);\r\n        _loc_9 = (_loc_12 * _loc_15 - this.er * _loc_16) * _loc_17 - this.el * _loc_18;\r\n        _loc_10 = _loc_12 * _loc_16 + this.er * _loc_15;\r\n        _loc_11 = (_loc_12 * _loc_15 - this.er * _loc_16) * _loc_18 + this.el * _loc_17;\r\n        _loc_2 = this.Xinit[0] + _loc_9;\r\n        _loc_3 = _loc_7 + _loc_10;\r\n        _loc_4 = this.Yinit[0] + _loc_11;\r\n        _loc_6 = this.long_billard / 2;\r\n        if (Math.abs(_loc_17) < _loc_19)\r\n        {\r\n            return false;\r\n        }\r\n        if (_loc_14 > Math.PI / 2 && _loc_14 < 3 * Math.PI / 2)\r\n        {\r\n            _loc_17 = -_loc_17;\r\n            _loc_2 = -_loc_2;\r\n        }\r\n        _loc_8 = (_loc_6 - _loc_2) / _loc_17;\r\n        if (_loc_8 > _loc_20)\r\n        {\r\n            return false;\r\n        }\r\n        _loc_5 = _loc_21 + (_loc_22 - _loc_21) / _loc_20 * _loc_8 / _loc_15;\r\n        if (_loc_8 * _loc_16 / _loc_15 + _loc_3 > this.HBande + _loc_5 / _loc_15)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    }// end function\r\n\r\n    atanjimi = (param1, param2) => {\r\n        var _loc_3 = NaN;\r\n        if (Math.abs(param2) < 1e-006)\r\n        {\r\n            if (param1 > 0)\r\n            {\r\n                return Math.PI / 2;\r\n            }\r\n            return (-Math.PI) / 2;\r\n        }\r\n        _loc_3 = Math.atan(param1 / param2);\r\n        if (param2 > 0)\r\n        {\r\n            return _loc_3;\r\n        }\r\n        if (param1 < 0)\r\n        {\r\n            return _loc_3 - Math.PI;\r\n        }\r\n        return _loc_3 + Math.PI;\r\n    }// end function\r\n\r\n    Quantite = () => {\r\n        var _loc_1 = 0;\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = [];\r\n        var _loc_4 = [];\r\n        var _loc_5 = 0.03;\r\n        _loc_2 = this.betaQ + Math.PI;\r\n        _loc_1 = 1;\r\n        while (_loc_1 < this.NBILLES)\r\n        {\r\n            \r\n            _loc_3[_loc_1] = false;\r\n            if ((this.Xinit[_loc_1] - this.Xinit[0]) * Math.cos(_loc_2) + (this.Yinit[_loc_1] - this.Yinit[0]) * Math.sin(_loc_2) > 0)\r\n            {\r\n                _loc_4[_loc_1] = (this.Yinit[_loc_1] - this.Yinit[0]) * Math.cos(_loc_2) - (this.Xinit[_loc_1] - this.Xinit[0]) * Math.sin(_loc_2);\r\n                if (_loc_4[_loc_1] < 2 * _loc_5 && _loc_4[_loc_1] > -2 * _loc_5)\r\n                {\r\n                    _loc_3[_loc_1] = true;\r\n                }\r\n            }\r\n            _loc_1++;\r\n        }\r\n        this.bille_visee = -1;\r\n        var _loc_6 = 100;\r\n        _loc_1 = 1;\r\n        while (_loc_1 < this.NBILLES)\r\n        {\r\n            \r\n            if (_loc_3[_loc_1])\r\n            {\r\n                if ((this.Xinit[_loc_1] - this.Xinit[0]) * (this.Xinit[_loc_1] - this.Xinit[0]) + (this.Yinit[_loc_1] - this.Yinit[0]) * (this.Yinit[_loc_1] - this.Yinit[0]) < _loc_6)\r\n                {\r\n                    this.bille_visee = _loc_1;\r\n                    _loc_6 = (this.Xinit[_loc_1] - this.Xinit[0]) * (this.Xinit[_loc_1] - this.Xinit[0]) + (this.Yinit[_loc_1] - this.Yinit[0]) * (this.Yinit[_loc_1] - this.Yinit[0]);\r\n                }\r\n            }\r\n            _loc_1++;\r\n        }\r\n        if (this.bille_visee != -1)\r\n        {\r\n            this.noba = true;\r\n            this.quant = _loc_4[this.bille_visee] / 2 / _loc_5;\r\n        }\r\n        else\r\n        {\r\n            this.noba = false;\r\n            this.quant = 0;\r\n        }\r\n        return this.quant;\r\n    }// end function\r\n\r\n    ToucheBandeZ = (param1) => {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = NaN;\r\n        var _loc_11 = NaN;\r\n        var _loc_12 = NaN;\r\n        var _loc_13 = NaN;\r\n        var _loc_14 = NaN;\r\n        var _loc_15 = NaN;\r\n        var _loc_16 = NaN;\r\n        var _loc_17 = NaN;\r\n        var _loc_18 = NaN;\r\n        var _loc_19 = NaN;\r\n        var _loc_8 = 0.03;\r\n        var _loc_20 = 1e-005;\r\n        var _loc_21 = 1.4;\r\n        var _loc_22 = 0.006;\r\n        var _loc_23 = 0.015;\r\n        while (this.betaQ < 0)\r\n        {\r\n            \r\n            this.betaQ = this.betaQ + 2 * Math.PI;\r\n        }\r\n        while (this.betaQ >= 2 * Math.PI)\r\n        {\r\n            \r\n            this.betaQ = this.betaQ - 2 * Math.PI;\r\n        }\r\n        _loc_15 = this.betaQ;\r\n        _loc_14 = param1;\r\n        _loc_18 = Math.cos(_loc_15);\r\n        _loc_19 = Math.sin(_loc_15);\r\n        _loc_16 = Math.cos(_loc_14);\r\n        _loc_17 = Math.sin(_loc_14);\r\n        _loc_13 = Math.sqrt(_loc_8 * _loc_8 - this.er * this.er - this.el * this.el);\r\n        _loc_10 = (_loc_13 * _loc_16 - this.er * _loc_17) * _loc_18 - this.el * _loc_19;\r\n        _loc_11 = _loc_13 * _loc_17 + this.er * _loc_16;\r\n        _loc_12 = (_loc_13 * _loc_16 - this.er * _loc_17) * _loc_19 + this.el * _loc_18;\r\n        _loc_2 = this.Xinit[0] + _loc_10;\r\n        _loc_3 = _loc_8 + _loc_11;\r\n        _loc_4 = this.Yinit[0] + _loc_12;\r\n        _loc_7 = this.larg_billard / 2;\r\n        if (Math.abs(_loc_19) < _loc_20)\r\n        {\r\n            return false;\r\n        }\r\n        if (_loc_15 > Math.PI)\r\n        {\r\n            _loc_19 = -_loc_19;\r\n            _loc_4 = -_loc_4;\r\n        }\r\n        _loc_9 = (_loc_7 - _loc_4) / _loc_19;\r\n        if (_loc_9 > _loc_21)\r\n        {\r\n            return false;\r\n        }\r\n        _loc_5 = _loc_22 + (_loc_23 - _loc_22) / _loc_21 * _loc_9 / _loc_16;\r\n        if (_loc_9 * _loc_17 / _loc_16 + _loc_3 > this.HBande + _loc_5 / _loc_16)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    }// end function\r\n\r\n    AlphaQmin = () => {\r\n        var _loc_1 = 0;\r\n        while (this.ToucheBandeZ(_loc_1) || this.ToucheBandeX(_loc_1) || this.ToucheBille(_loc_1))\r\n        {\r\n            \r\n            _loc_1 = _loc_1 + Math.PI / 90;\r\n        }\r\n        return _loc_1;\r\n    }// end function\r\n\r\n    ToucheBille = (param1) => {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = NaN;\r\n        var _loc_11 = NaN;\r\n        var _loc_14 = NaN;\r\n        var _loc_15 = NaN;\r\n        var _loc_16 = NaN;\r\n        var _loc_22 = 0;\r\n        var _loc_7 = 0.03;\r\n        var _loc_12 = 0.002;\r\n        var _loc_13 = 0.032;\r\n        var _loc_17 = 1.4;\r\n        var _loc_18 = 0.006;\r\n        var _loc_19 = 0.015;\r\n        var _loc_20 = param1;\r\n        var _loc_21 = this.betaQ;\r\n        _loc_22 = 1;\r\n        while (_loc_22 < this.NBILLES)\r\n        {\r\n            \r\n            _loc_2 = this.Xinit[0] + _loc_13 * Math.cos(_loc_21) * Math.cos(_loc_20) - this.el * Math.sin(_loc_21) - this.er * Math.sin(_loc_20) * Math.cos(_loc_21);\r\n            _loc_3 = 0.03 + _loc_13 * Math.sin(_loc_20) + this.er * Math.cos(_loc_20);\r\n            _loc_4 = this.Yinit[0] + _loc_13 * Math.sin(_loc_21) * Math.cos(_loc_20) + this.el * Math.cos(_loc_21) - this.er * Math.sin(_loc_20) * Math.sin(_loc_21);\r\n            _loc_8 = this.Xinit[_loc_22];\r\n            _loc_9 = 0.03;\r\n            _loc_10 = this.Yinit[_loc_22];\r\n            _loc_6 = 0;\r\n            while (_loc_6 < _loc_17)\r\n            {\r\n                \r\n                _loc_5 = _loc_18 + (_loc_19 - _loc_18) / _loc_17 * _loc_6;\r\n                _loc_14 = _loc_2 + _loc_6 * Math.cos(_loc_20) * Math.cos(_loc_21);\r\n                _loc_15 = _loc_3 + _loc_6 * Math.sin(_loc_20);\r\n                _loc_16 = _loc_4 + _loc_6 * Math.cos(_loc_20) * Math.sin(_loc_21);\r\n                _loc_11 = (_loc_14 - _loc_8) * (_loc_14 - _loc_8) + (_loc_15 - _loc_9) * (_loc_15 - _loc_9) + (_loc_16 - _loc_10) * (_loc_16 - _loc_10);\r\n                if (_loc_11 < (_loc_7 + _loc_5 + _loc_12) * (_loc_7 + _loc_5 + _loc_12))\r\n                {\r\n                    return true;\r\n                }\r\n                _loc_6 = _loc_6 + 0.01;\r\n            }\r\n            _loc_22++;\r\n        }\r\n        return false;\r\n    }\r\n}","import Simul from './simul';\r\nimport parametres from './parametres';\r\nimport sequence from './sequence';\r\n\r\nexport default class CBillard {\r\n    bitmap_Bandes_260;\r\n    ampl_recul_max;\r\n    mode_jeu = 2;\r\n    temps_recul;\r\n    queue;\r\n    calculs_faits;\r\n    largeur;\r\n    trajets;\r\n    seq_origine;\r\n    canal_bande0;\r\n    canal_bande1;\r\n    bitmap_Bandes_310;\r\n    RAp0;\r\n    alphamin;\r\n    tous_trajets;\r\n    type;\r\n    t0;\r\n    bitmap_Bandes_280;\r\n    new_seq;\r\n    dq0;\r\n    grille;\r\n    ymax;\r\n    son_queue_pique;\r\n    RAq0;\r\n    lines_cadre47;\r\n    Rb;\r\n    R;\r\n    Ampl_queue;\r\n    seq;\r\n    son_bille_bande;\r\n    muet;\r\n    bitmap_Billard_260;\r\n    Ech;\r\n    ctrl;\r\n    RAr0;\r\n    son_queue_plat;\r\n    ind_last_clef;\r\n    taille_billard;\r\n    ombre;\r\n    jouer_bande0;\r\n    ralenti = 1;\r\n    canal_bille0;\r\n    bille_visee;\r\n    dq;\r\n    bitmap_Billard_310;\r\n    ecl;\r\n    canal_bille1;\r\n    trajet_bille_joueur;\r\n    Params;\r\n    bitmap_Billard_280;\r\n    trans;\r\n    longueur;\r\n    lines_cadre71;\r\n    date;\r\n    Vqmax;\r\n    largeur_bandes = 0.28;\r\n    nb_sons_played;\r\n    jouer_bille0;\r\n    aff_trajets;\r\n    ligne_visee;\r\n    lines_free;\r\n    canal_queue;\r\n    son_bille_bille;\r\n    t_debut;\r\n    trajet_bille_visee;\r\n    cont_billard;\r\n    Simulateur;\r\n    xmax;\r\n    billes;\r\n    myTimer;\r\n\r\n    constructor (param1, param2, param3, param4) {\r\n        var _loc_5 = 0;\r\n        this.Ech = param3;\r\n        this.R = 0.03;\r\n        this.Rb = 36;\r\n        this.type = 0;\r\n        this.taille(param1);\r\n        this.Params = new parametres((this.xmax + this.R) * 2, (this.ymax + this.R) * 2);\r\n\r\n        var _loc_17 = 0;\r\n        this.ombre = [];\r\n        this.aff_trajets = false;\r\n        this.tous_trajets = true;\r\n        this.trajet_bille_joueur = false;\r\n        this.trajet_bille_visee = false;\r\n        // this.trajets = new Shape();\r\n        // this.cont_billard.addChild(this.trajets);\r\n        this.billes = [];\r\n\r\n        this.bille_visee = 1;\r\n        this.ecl = [];\r\n        // var _loc_15 = new Cecl(0, 0);\r\n        this.dq0 = 1.5 * this.R * this.Ech;\r\n        this.alphamin = true;\r\n        this.Vqmax = 3.5;\r\n        this.Simulateur = new Simul(this.xmax, this.ymax);\r\n        this.ind_last_clef = [];\r\n        _loc_5 = 0;\r\n        while (_loc_5 < 3)\r\n        {\r\n            \r\n            this.ind_last_clef[_loc_5] = this.Simulateur.nb_max_clefs * _loc_5;\r\n            _loc_5++;\r\n        }\r\n        this.calculs_faits = false;\r\n        // this.myTimer = new Timer(5);\r\n        // this.myTimer.addEventListener(\"timer\", this.timerHandler);\r\n        this.ampl_recul_max = 0.1;\r\n        this.RAp0 = [];\r\n        this.RAq0 = [];\r\n        this.RAr0 = [];\r\n        _loc_5 = 0;\r\n        while (_loc_5 < 3)\r\n        {\r\n            \r\n            this.RAp0[_loc_5] = 0;\r\n            this.RAq0[_loc_5] = 0;\r\n            this.RAr0[_loc_5] = 0;\r\n            _loc_5++;\r\n        }\r\n        this.alphamin = false;\r\n        console.log(this)\r\n        return;\r\n    }// end function\r\n\r\n    change_billard = (param1) => {\r\n        this.arret_son();\r\n        this.myTimer.stop();\r\n        if (param1 == 1)\r\n        {\r\n            this.taille(280);\r\n            var _loc_2 = false;\r\n            this.bitmap_Bandes_310.visible = false;\r\n            this.bitmap_Billard_310.visible = _loc_2;\r\n            var _loc_2 = true;\r\n            this.bitmap_Bandes_280.visible = true;\r\n            this.bitmap_Billard_280.visible = _loc_2;\r\n            var _loc_2 = false;\r\n            this.bitmap_Bandes_260.visible = false;\r\n            this.bitmap_Billard_260.visible = _loc_2;\r\n        }\r\n        else if (param1 == 2)\r\n        {\r\n            this.taille(260);\r\n            var _loc_2 = false;\r\n            this.bitmap_Bandes_310.visible = false;\r\n            this.bitmap_Billard_310.visible = _loc_2;\r\n            var _loc_2 = false;\r\n            this.bitmap_Bandes_280.visible = false;\r\n            this.bitmap_Billard_280.visible = _loc_2;\r\n            var _loc_2 = true;\r\n            this.bitmap_Bandes_260.visible = true;\r\n            this.bitmap_Billard_260.visible = _loc_2;\r\n        }\r\n        else if (param1 == 0)\r\n        {\r\n            this.taille(310);\r\n            var _loc_2 = true;\r\n            this.bitmap_Bandes_310.visible = true;\r\n            this.bitmap_Billard_310.visible = _loc_2;\r\n            var _loc_2 = false;\r\n            this.bitmap_Bandes_280.visible = false;\r\n            this.bitmap_Billard_280.visible = _loc_2;\r\n            var _loc_2 = false;\r\n            this.bitmap_Bandes_260.visible = false;\r\n            this.bitmap_Billard_260.visible = _loc_2;\r\n        }\r\n        this.ctrl.XC = this.Ech * this.longueur / 2;\r\n        this.ctrl.YC = this.Ech * this.largeur / 2;\r\n        this.Params.long_billard = (this.xmax + this.R) * 2;\r\n        this.Params.larg_billard = (this.ymax + this.R) * 2;\r\n        if (this.Simulateur != null)\r\n        {\r\n            this.Simulateur.XMAX = this.xmax;\r\n            this.Simulateur.YMAX = this.ymax;\r\n            this.Simulateur.XMIN = -this.xmax;\r\n            this.Simulateur.YMIN = -this.ymax;\r\n        }\r\n        this.tracer_grille();\r\n        this.tracer_lines();\r\n        this.Placer_billes_hasard();\r\n        this.Params.Vqueue = 1;\r\n        this.init_point();\r\n        return;\r\n    }// end function\r\n\r\n    arret_son = () => {}\r\n\r\n    init_point = () => {\r\n        this.arret_son();\r\n        this.myTimer.stop();\r\n        this.afficher_billes();\r\n        this.ctrl.aff_parametres();\r\n        this.placer_queue(this.dq0);\r\n        this.queue.visible = true;\r\n        this.calculs_faits = false;\r\n        this.aff_trajets = false;\r\n        this.trajets.graphics.clear();\r\n        this.tracer_ligne_visee();\r\n        this.ligne_visee.visible = true;\r\n        return;\r\n    }// end function\r\n\r\n    update_modejeu = (param1) => {\r\n        this.mode_jeu = param1;\r\n        this.arret_son();\r\n        // this.myTimer.stop();\r\n        if (param1 == 0)\r\n        {\r\n            this.Vqmax = 3.5;\r\n        }\r\n        if (param1 == 1)\r\n        {\r\n            this.Vqmax = 3.5;\r\n        }\r\n        if (param1 == 2)\r\n        {\r\n            this.Vqmax = 4.2;\r\n        }\r\n        if (param1 == 3)\r\n        {\r\n            this.Vqmax = 3.5;\r\n        }\r\n        if (param1 == 4)\r\n        {\r\n            this.Vqmax = 3.5;\r\n        }\r\n        if (param1 == 5)\r\n        {\r\n            this.Vqmax = 5.4;\r\n        }\r\n        return;\r\n    }// end function\r\n    Simuler = (param1, param2) => {\r\n        var _loc_2 = 0;\r\n        this.ralenti = param1;\r\n        // this.ligne_visee.visible = false;\r\n        this.arret_son();\r\n        return this.Simulateur.Calcul(param2);\r\n    }\r\n\r\n    taille = (param1) => {\r\n        this.taille_billard = param1;\r\n        if (param1 == 310)\r\n        {\r\n            this.longueur = 3.12;\r\n        }\r\n        if (param1 == 280)\r\n        {\r\n            this.longueur = 2.82;\r\n        }\r\n        if (param1 == 260)\r\n        {\r\n            this.longueur = 2.62;\r\n        }\r\n        this.xmax = (this.longueur - this.largeur_bandes) / 2 - 0.03;\r\n        this.ymax = (this.longueur - this.largeur_bandes) / 4 - 0.03;\r\n        this.largeur = 2 * (this.ymax + 0.03) + this.largeur_bandes;\r\n        return;\r\n    }// end function\r\n}","import * as BABYLON from 'babylonjs';\r\n\r\nexport default class Ball {\r\n    constructor( scene, name, ballRadius, position, texture, visibility ) {\r\n        this.scene = scene;\r\n        this.mesh = BABYLON.Mesh.CreateSphere(name, 16, ballRadius, this.scene);\r\n        this.mesh.position.y = position.y;\r\n        this.mesh.position.x = position.x;\r\n        this.mesh.position.z = position.z;\r\n\r\n        \r\n        var matCueBallWhite = new BABYLON.StandardMaterial(\"redMat\", this.scene);\r\n        matCueBallWhite.diffuseTexture = new BABYLON.Texture(texture, this.scene);\r\n        this.mesh.material = matCueBallWhite;\r\n\r\n        this.mesh.rotation.y = Math.PI * Math.random();\r\n        this.mesh.rotation.x = Math.PI * Math.random();\r\n        this.mesh.rotation.z = Math.PI * Math.random();\r\n\r\n        this.mesh.visibility = visibility;\r\n\r\n        this.RAp0 = 0;\r\n        this.RAq0 = 0;\r\n        this.RAr0 = 0;\r\n    }\r\n\r\n    getMesh = () => { return this.mesh }\r\n    getPosition = () => { return Object.assign({}, this.mesh.position) }\r\n    getVisibility = () => { return this.mesh.visibility }\r\n\r\n    updatePosition = (x, z) => {\r\n        this.mesh.position.x = x;\r\n        this.mesh.position.z = z;\r\n    }\r\n\r\n    updateRotation = (RAp, RAq, RAr) => {\r\n        const R = 0.03;\r\n        let Rx = (RAp - this.RAp0) / R\r\n        let Ry = (RAq - this.RAq0) / R\r\n        let Rz = (RAr - this.RAr0) / R\r\n\r\n        this.RAp0 = RAp\r\n        this.RAq0 = RAq\r\n        this.RAr0 = RAr\r\n\r\n        this.mesh.rotate(BABYLON.Axis.X, -Rx, BABYLON.Space.WORLD);\r\n        this.mesh.rotate(BABYLON.Axis.Y, -Rz, BABYLON.Space.WORLD);\r\n        this.mesh.rotate(BABYLON.Axis.Z, -Ry, BABYLON.Space.WORLD);\r\n    }\r\n\r\n    isPotted = () => { return !this.mesh.visibility; }\r\n\r\n    pot = () => { this.mesh.visibility = false; }\r\n}","import * as BABYLON from 'babylonjs';\r\n\r\nexport default class Bat {\r\n    constructor( scene, mesh ) {\r\n        this.scene = scene;\r\n        this.mesh = mesh;\r\n\r\n        this.mesh.position.y = 50;\r\n        this.mesh.position.z = 90;\r\n\r\n        this.directionLine = new BABYLON.MeshBuilder.CreateLines(\r\n            'direction-line',\r\n            {\r\n                points: [\r\n                    new BABYLON.Vector3(0, 0, 0),\r\n                    new BABYLON.Vector3(600, 0, 0)\r\n                ],\r\n                colors: [\r\n                    new BABYLON.Color4(0, 0, 0.8, 1),\r\n                    new BABYLON.Color4(0, 0, 0.8, 1),\r\n                ]\r\n            }\r\n        )\r\n    }\r\n\r\n    getMesh = () =>{ return this.mesh };\r\n    \r\n    update = (position, rotation) => {\r\n        this.mesh.position = position;\r\n        this.mesh.rotation = rotation;\r\n    }\r\n\r\n    updateDirectionLine = (position, angle) => {\r\n        this.directionLine.position = position;\r\n        this.directionLine.rotation.y = angle;\r\n    }\r\n}","import * as BABYLON from 'babylonjs';\r\n\r\nexport default class Table {\r\n    constructor (scene, meshes, modelStorePath) {\r\n        this.scene = scene;\r\n        this.meshes = meshes;\r\n        console.log('model path', modelStorePath)\r\n\r\n        for (var obj of this.meshes) {\r\n            if (obj.name == 'carpet') {\r\n                obj.receiveShadows = true;\r\n                obj.material.bumpTexture = new BABYLON.Texture(modelStorePath + 'carpet-specular.png', this.scene);\r\n                obj.material.bumpTexture.level = 2\r\n                obj.material.bumpTexture.uScale = 1;\r\n                obj.material.bumpTexture.vScale = 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMeshes = () => { return this.meshes }\r\n}","import * as BABYLON from 'babylonjs';\r\n\r\nconst MAX_TARGET_LENGTH = 150;\r\nexport default class Cameras {\r\n    constructor(scene, canvas) {\r\n        this.scene = scene;\r\n        this.canvas = canvas;\r\n\r\n        this.cameras = {\r\n            arcCam: undefined,\r\n            topCam: undefined,\r\n            targetCam: undefined\r\n        }\r\n\r\n        this.cameras.arcCam = new BABYLON.ArcRotateCamera(\"Camera-Arc\", 4.44, 1.05, 300, BABYLON.Vector3.Zero(), this.scene);\r\n        this.cameras.arcCam.attachControl(this.canvas);\r\n        this.cameras.arcCam.upperBetaLimit = 1.5;\r\n        this.cameras.arcCam.lowerBetaLimit = 0.9;\r\n\r\n        this.cameras.arcCam.wheelPrecision = 0.2;\r\n        \r\n        this.cameras.arcCam.upperRadiusLimit = 500;\r\n        this.cameras.arcCam.lowerRadiusLimit = 100;\r\n\r\n        this.cameras.targetCam = new BABYLON.ArcRotateCamera(\"Camera-Target\", 4.44, 1.35, MAX_TARGET_LENGTH, BABYLON.Vector3.Zero(), this.scene);\r\n        this.cameras.targetCam.upperRadiusLimit = MAX_TARGET_LENGTH;\r\n        this.cameras.targetCam.lowerRadiusLimit = MAX_TARGET_LENGTH;\r\n        this.cameras.targetCam.upperBetaLimit = 1.35;\r\n        this.cameras.targetCam.lowerBetaLimit = 1.35;\r\n        \r\n        this.cameras.topCam = new BABYLON.ArcRotateCamera(\"Camera-Top\", -Math.PI/2, 0, 330, BABYLON.Vector3.Zero(), this.scene);\r\n\r\n        this.cameras.topCam.upperBetaLimit = 0;\r\n        this.cameras.topCam.lowerBetaLimit = 0;\r\n\r\n        this.cameras.topCam.upperAlphaLimit = -Math.PI/2;\r\n        this.cameras.topCam.lowerAlphaLimit = -Math.PI/2;\r\n\r\n        this.cameras.topCam.upperRadiusLimit = 330;\r\n        this.cameras.topCam.lowerRadiusLimit = 330;\r\n\r\n        this.cameras.topCam.mode = BABYLON.Camera.ORTHOGRAPHIC_CAMERA;\r\n        this.cameras.topCam.orthoTop = 150;\r\n        this.cameras.topCam.orthoBottom = -150;\r\n        this.cameras.topCam.orthoLeft = -300;\r\n        this.cameras.topCam.orthoRight = 300;\r\n\r\n        this.target = {\r\n            position: undefined,\r\n            rotation: undefined\r\n        }\r\n\r\n        this.changeView(this.currentView);\r\n    }\r\n\r\n    changeView (value) {\r\n        var _self = this;\r\n        _self.currentView = value;\r\n        if (value === 'top') {\r\n            _self.scene.activeCamera = _self.cameras.topCam;\r\n            \r\n            _self.cameras.arcCam.detachControl(_self.canvas);\r\n        } else if (value === 'stand'){\r\n            _self.scene.activeCamera = _self.cameras.arcCam;\r\n            \r\n            _self.cameras.arcCam.attachControl(_self.canvas);\r\n\r\n            _self.cameras.arcCam.setTarget(BABYLON.Vector3.Zero())\r\n        } else if (value === 'targetting') {\r\n            _self.scene.activeCamera = _self.cameras.targetCam;\r\n            _self.cameras.arcCam.detachControl(_self.canvas);\r\n        }\r\n    }\r\n\r\n    updateTarget(position, rotation) {\r\n        let _self = this;\r\n        this.target.position = position;\r\n        this.target.rotation = rotation;\r\n\r\n        _self.cameras.targetCam.setTarget(\r\n            new BABYLON.Vector3(\r\n                _self.target.position.x,\r\n                _self.target.position.y,\r\n                _self.target.position.z\r\n            )\r\n        )\r\n        _self.cameras.targetCam.alpha = -_self.target.rotation.y\r\n    }\r\n\r\n    enableControl (value) {\r\n        if (value == false) {\r\n            this.cameras.arcCam.detachControl(this.canvas);\r\n        } else {\r\n            if (this.currentView == 'stand')\r\n            this.cameras.arcCam.attachControl(this.canvas);\r\n        }\r\n    }\r\n}","import * as BABYLON from 'babylonjs';\r\nimport {\r\n    CAROM_TABLE_LENGTH,\r\n    BALL_SIZE,\r\n\r\n    fileCaromTableModel,\r\n    fileBatModel,\r\n\r\n} from '../../../assets/constants';\r\n\r\nimport CBillard from './PhysicsEngine/cBillard';\r\n\r\nimport Ball from '../../../models/ball';\r\nimport Bat from '../../../models/bat';\r\nimport Table from '../../../models/table';\r\nimport Cameras from '../../../models/cameras';\r\n\r\nexport default class SceneManager {\r\n    constructor (\r\n        size,\r\n        modelStorePath,\r\n        currentView,\r\n        ballPositions,\r\n        controlOptions\r\n    ) {\r\n        this.scene = undefined;\r\n        this.canvas = undefined;\r\n\r\n        this.size = size;\r\n\r\n        this.ballRadius = 400 * BALL_SIZE / (this.size * 100);\r\n\r\n        this.modelStorePath = modelStorePath;\r\n\r\n        this.initBallPosition = ballPositions;\r\n        this.ballPositions = {\r\n            posCueBallWhite: {\r\n                x: CAROM_TABLE_LENGTH * ballPositions.posCueBallWhite.x / size,\r\n                z: CAROM_TABLE_LENGTH * ballPositions.posCueBallWhite.z / size\r\n            },\r\n            posCueBallYellow: {\r\n                x: CAROM_TABLE_LENGTH * ballPositions.posCueBallYellow.x / size,\r\n                z: CAROM_TABLE_LENGTH * ballPositions.posCueBallYellow.z / size\r\n            },\r\n            posTargetBall: {\r\n                x: CAROM_TABLE_LENGTH * ballPositions.posTargetBall.x / size,\r\n                z: CAROM_TABLE_LENGTH * ballPositions.posTargetBall.z / size\r\n            }\r\n        };\r\n\r\n        this.currentView = currentView;\r\n\r\n        this.cameras = undefined;\r\n\r\n        this.objects = {\r\n            table: undefined,\r\n            bat: undefined,\r\n            cueBallWhite: undefined,\r\n            cueBallYellow: undefined,\r\n            targetBall: undefined,\r\n            batContactLine: undefined,\r\n            batLookatPoint: undefined,\r\n            directionLine: undefined,\r\n        };\r\n\r\n        this.controlOptions = controlOptions;\r\n\r\n        this.grids = [];\r\n\r\n        this.pathCueWhite = undefined;\r\n        this.pathCueYellow = undefined;\r\n        this.pathTargetBall = undefined;\r\n\r\n        this.billard = new CBillard(\r\n            310,\r\n            undefined,\r\n            300,\r\n        );\r\n        \r\n        this.timerCount = 0;\r\n\r\n        this.RAp0 = [0, 0, 0]\r\n        this.RAq0 = [0, 0, 0]\r\n        this.RAr0 = [0, 0, 0]\r\n    }\r\n\r\n    drawBallPath = (value) => {\r\n        let res = this.pathData\r\n\r\n        if(!res || res.length == 0) return;\r\n        if(this.pathCueWhite){\r\n            this.pathCueWhite.dispose()\r\n        } \r\n        \r\n        if(this.pathCueYellow){\r\n            this.pathCueYellow.dispose()\r\n        }\r\n\r\n        if(this.pathTargetBall){\r\n            this.pathTargetBall.dispose()\r\n        } \r\n        \r\n        if (value) {\r\n            var whiteBallPoints = [];\r\n            for (var i = 0; i < 10000; i++) {\r\n                if (res[i]) {\r\n                    whiteBallPoints.push(new BABYLON.Vector3(\r\n                        CAROM_TABLE_LENGTH * res[i].X / this.size,\r\n                        this.ballRadius / 2,\r\n                        CAROM_TABLE_LENGTH * res[i].Y / this.size\r\n                    ))\r\n                }\r\n            }\r\n            this.pathCueWhite = BABYLON.MeshBuilder.CreateLines(\r\n                'lines',\r\n                {\r\n                    points: whiteBallPoints\r\n                }, \r\n                this.scene\r\n            );\r\n\r\n            var yellowBallPoints = [];\r\n            var colorYellow = [];\r\n            for (i = 10000; i < 20000; i++) {\r\n                if (res[i]) {\r\n                    yellowBallPoints.push(new BABYLON.Vector3(\r\n                        CAROM_TABLE_LENGTH * res[i].X / this.size,\r\n                        this.ballRadius / 2,\r\n                        CAROM_TABLE_LENGTH * res[i].Y / this.size\r\n                    ));\r\n                    colorYellow.push(new BABYLON.Color4(0.8, 0.8, 0, 1));\r\n                }\r\n            }\r\n\r\n            this.pathCueYellow = BABYLON.MeshBuilder.CreateLines(\r\n                'lines',\r\n                {\r\n                    points: yellowBallPoints,\r\n                    colors: colorYellow\r\n                }, \r\n                this.scene\r\n            );\r\n\r\n            var redBallPoints = [];\r\n            var colorRed = [];\r\n\r\n            for (i = 20000; i < 30000; i++) {\r\n                if (res[i]) {\r\n                    redBallPoints.push(new BABYLON.Vector3(\r\n                        CAROM_TABLE_LENGTH * res[i].X / this.size,\r\n                        this.ballRadius / 2,\r\n                        CAROM_TABLE_LENGTH * res[i].Y / this.size\r\n                    ));\r\n                    colorRed.push(new BABYLON.Color4(0.8, 0, 0, 1));\r\n                }\r\n            }\r\n\r\n            this.pathTargetBall = BABYLON.MeshBuilder.CreateLines(\r\n                'lines',\r\n                {\r\n                    points: redBallPoints,\r\n                    colors: colorRed\r\n                }, \r\n                this.scene\r\n            );\r\n        }        \r\n    }\r\n\r\n    configCameras = () => {\r\n        const _self = this;\r\n        _self.cameras = new Cameras(_self.scene, _self.canvas);\r\n\r\n        _self.changeView(_self.currentView);\r\n    }\r\n\r\n    loadModels = () => {\r\n        const _self = this;\r\n        const { modelStorePath } = this;\r\n\r\n        BABYLON.SceneLoader.ImportMesh(\"\", modelStorePath, fileBatModel, _self.scene, function (newMeshes) {\r\n            _self.objects.bat = new Bat(_self.scene, newMeshes[0]);\r\n            \r\n            BABYLON.SceneLoader.ImportMesh(\"\", modelStorePath, fileCaromTableModel, _self.scene, function (newMeshes) {\r\n                _self.objects.table = new Table(_self.scene, newMeshes, modelStorePath);\r\n                \r\n                _self.configCueBalls();\r\n                _self.updateBat(_self.controlOptions);\r\n            });\r\n        });\r\n    }\r\n\r\n    updateControlOptions = (data) => {\r\n        this.controlOptions = data;\r\n        this.updateBat(data);\r\n    }\r\n\r\n    updateBat = (data) => {\r\n        const {\r\n            cueLine,\r\n            cueAngle,\r\n            sideEnglish,\r\n            topSpin,\r\n        } = data;\r\n        const {size, ballRadius, cameras} = this;\r\n        const {bat, cueBallWhite} = this.objects;\r\n\r\n        let deltaSideEnglish = CAROM_TABLE_LENGTH * sideEnglish / size;\r\n        let deltaTopSpin = CAROM_TABLE_LENGTH * topSpin / size;\r\n\r\n        let pos = cueBallWhite.getPosition();\r\n\r\n        bat.update(\r\n            {\r\n                x: pos.x - deltaSideEnglish * Math.sin(cueLine) - deltaTopSpin * Math.sin(cueAngle) * Math.cos(cueLine),\r\n                z: pos.z + deltaSideEnglish * Math.cos(cueLine) - deltaTopSpin * Math.sin(cueAngle) * Math.sin(cueLine),\r\n                y: ballRadius/2 + deltaTopSpin * Math.cos(cueAngle)\r\n            },\r\n            {\r\n                x: 0,\r\n                y: -cueLine,\r\n                z: Math.PI/2 + cueAngle\r\n            }\r\n        );\r\n\r\n        bat.updateDirectionLine(\r\n            pos,\r\n            Math.PI - cueLine\r\n        )\r\n\r\n        cameras.updateTarget(\r\n            {\r\n                x: pos.x - deltaSideEnglish * Math.sin(cueLine) - deltaTopSpin * Math.sin(cueAngle) * Math.cos(cueLine),\r\n                z: pos.z + deltaSideEnglish * Math.cos(cueLine) - deltaTopSpin * Math.sin(cueAngle) * Math.sin(cueLine),\r\n                y: ballRadius/2 + deltaTopSpin * Math.cos(cueAngle)\r\n            },\r\n            {\r\n                x: 0,\r\n                y: -cueLine,\r\n                z: Math.PI/2 + cueAngle\r\n            }\r\n        )\r\n        cameras.changeView(this.currentView)\r\n    }\r\n\r\n    generateReflectionMaterial = (root, others) => {\r\n        let {scene} = this;\r\n\t\t\r\n\t\tvar probe = new BABYLON.ReflectionProbe(\"satelliteProbe\" + root.name, 512, scene);\r\n\t\tfor (var index = 0; index < others.length; index++) {\r\n\t\t\tprobe.renderList.push(others[index]);\t\t\t\r\n\t\t}\r\n\t\t\r\n        root.material.reflectionTexture = probe.cubeTexture;\r\n        root.material.reflectivityColor = new BABYLON.Color3(0.2, 0.2, 0.2);\r\n\t\t\r\n\t\troot.material.reflectionFresnelParameters = new BABYLON.FresnelParameters();\r\n        root.material.reflectionFresnelParameters.bias = 0;\r\n\t\tprobe.attachToMesh(root);\r\n    }\r\n    \r\n    configCueBalls = () => {\r\n        const _self = this;\r\n        const {\r\n            modelStorePath,\r\n            ballRadius\r\n        } = this;\r\n\r\n        const { table } = this.objects;\r\n        let {\r\n            posCueBallWhite,\r\n            posCueBallYellow,\r\n            posTargetBall\r\n        } = this.ballPositions;\r\n\r\n        _self.objects.cueBallWhite = new Ball(\r\n            _self.scene,\r\n            \"cue-ball-white\",\r\n            ballRadius,\r\n            {\r\n                x: posCueBallWhite.x,\r\n                y: ballRadius/2,\r\n                z: posCueBallWhite.z,\r\n            },\r\n            modelStorePath + \"cueball-white.jpg\",\r\n            true\r\n        )\r\n\r\n        _self.objects.cueBallYellow = new Ball(\r\n            _self.scene,\r\n            \"cue-ball-yellow\",\r\n            ballRadius,\r\n            {\r\n                x: posCueBallYellow.x,\r\n                y: ballRadius/2,\r\n                z: posCueBallYellow.z,\r\n            },\r\n            modelStorePath + \"cueball-yellow.jpg\",\r\n            true\r\n        )\r\n\r\n        _self.objects.targetBall = new Ball(\r\n            _self.scene,\r\n            \"cue-ball-red\",\r\n            ballRadius,\r\n            {\r\n                x: posTargetBall.x,\r\n                y: ballRadius/2,\r\n                z: posTargetBall.z,\r\n            },\r\n            modelStorePath + \"targetball.jpg\",\r\n            true\r\n        )\r\n    }\r\n\r\n    configGrids = () => {\r\n        const _self = this;\r\n        const grayRate = 0.7;\r\n        const color = [new BABYLON.Color4(grayRate,grayRate,grayRate,1), new BABYLON.Color4(grayRate,grayRate,grayRate,1)];\r\n        for (var i = 0; i < 15; i++) {\r\n            let gridPoints = [\r\n                new BABYLON.Vector3(-CAROM_TABLE_LENGTH*7/16 + i * CAROM_TABLE_LENGTH/16, 2, -CAROM_TABLE_LENGTH/4),\r\n                new BABYLON.Vector3(-CAROM_TABLE_LENGTH*7/16 + i * CAROM_TABLE_LENGTH/16, 2, CAROM_TABLE_LENGTH/4)\r\n            ];\r\n            _self.grids.push(BABYLON.MeshBuilder.CreateLines(\"lines\", {points: gridPoints, colors: color}, _self.scene));\r\n        }\r\n        for (i = 0; i < 7; i++) {\r\n            let gridPoints = [\r\n                new BABYLON.Vector3(-CAROM_TABLE_LENGTH/2, 2, -CAROM_TABLE_LENGTH*3/16 + i * CAROM_TABLE_LENGTH/16),\r\n                new BABYLON.Vector3(CAROM_TABLE_LENGTH/2, 2, -CAROM_TABLE_LENGTH*3/16 + i * CAROM_TABLE_LENGTH/16)\r\n            ];\r\n            _self.grids.push(BABYLON.MeshBuilder.CreateLines(\"lines\", {points: gridPoints, colors: color}, _self.scene));\r\n        }\r\n    }\r\n\r\n    toggleGrids = (visible) => {\r\n        const {grids} = this;\r\n        for (var i = 0; i < grids.length; i++) {\r\n            grids[i].visibility = visible;\r\n        }\r\n    }\r\n\r\n    initializeScene = (scene, canvas) => {\r\n        let _self = this;\r\n        _self.scene = scene;\r\n        _self.canvas = canvas;\r\n\r\n        _self.scene.clearColor = new BABYLON.Color3(0.05, 0.05, 0.05);\r\n\r\n        new BABYLON.HemisphericLight('light', BABYLON.Vector3.Up(), scene);\r\n\r\n        _self.configCameras();\r\n        _self.loadModels();\r\n        _self.configGrids();\r\n\r\n        _self.scene.getEngine().runRenderLoop(() => {\r\n            if (scene) {\r\n                scene.render();\r\n                _self.animateBalls();\r\n            }\r\n        });\r\n\r\n        canvas.addEventListener(\"pointerdown\", _self.onPointerDown, false);\r\n        canvas.addEventListener(\"pointerup\", _self.onPointerUp, false);\r\n        canvas.addEventListener(\"pointermove\", _self.onPointerMove, false);\r\n    }\r\n\r\n    getGroundPosition = () => {\r\n        let {scene} = this;\r\n        var pickinfo = scene.pick(scene.pointerX, scene.pointerY, function (mesh) { return mesh.name == 'carpet'; });\r\n        if (pickinfo.hit) {\r\n            return pickinfo.pickedPoint;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    onPointerDown = (evt) => {\r\n        let _self = this;\r\n        let {scene} = this;\r\n        if (evt.button !== 0) {\r\n            return;\r\n        }\r\n\r\n        // check if we are under a mesh\r\n        var pickInfo = scene.pick(scene.pointerX, scene.pointerY, function (mesh) {return (mesh.name === 'cue-ball-white' || mesh.name === 'cue-ball-yellow' || mesh.name === 'cue-ball-red')});\r\n        if (pickInfo.hit) {\r\n            _self.currentMesh = pickInfo.pickedMesh;\r\n            _self.startingPoint = _self.getGroundPosition(evt);\r\n\r\n            if (_self.startingPoint) {\r\n                setTimeout(function () {\r\n                    _self.cameras.enableControl(false);\r\n                }, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    onPointerUp = () => {\r\n        let _self = this;\r\n        let {startingPoint} = this;\r\n        if (startingPoint) {\r\n            _self.cameras.enableControl(true);\r\n            _self.startingPoint = null;\r\n            _self.currentMesh = null;\r\n            return;\r\n        }\r\n    }\r\n\r\n    onPointerMove = (evt) => {\r\n        let _self = this;\r\n        let {startingPoint, currentMesh} = this;\r\n        if (!startingPoint) {\r\n            return;\r\n        }\r\n\r\n        var current = _self.getGroundPosition(evt);\r\n\r\n        if (!current) {\r\n            return;\r\n        }\r\n        \r\n        currentMesh.position = current;\r\n        currentMesh.position.y = _self.ballRadius/2\r\n\r\n        startingPoint = current;\r\n        _self.updateBat(_self.controlOptions);\r\n    }\r\n\r\n    changeView (view) {\r\n        const _self = this;\r\n        _self.currentView = view;\r\n        _self.cameras.changeView(view);\r\n    }\r\n\r\n    moveAndRotateBall = (obj, t, tmp, ) => {\r\n        let range = 10000;\r\n        let index = -1;\r\n        let _self = this;\r\n        let i;\r\n        for(i = tmp * range ; i < (tmp + 1) * range; i++){\r\n            if(_self.pathData[i])\r\n            {\r\n                if(_self.pathData[i].time < (t - _self.t0)){\r\n                    index = i;\r\n                }\r\n            } else { break;}\r\n        }\r\n        if(index >= 0){\r\n            let data = _self.pathData[index];\r\n\r\n            let posX = CAROM_TABLE_LENGTH * data.X / _self.size;\r\n            let posY = CAROM_TABLE_LENGTH * data.Y / _self.size;\r\n\r\n            obj.updatePosition(posX, posY);\r\n            \r\n            obj.updateRotation(\r\n                _self.pathData[index].RAp,\r\n                _self.pathData[index].RAq,\r\n                _self.pathData[index].RAr,\r\n            )\r\n            \r\n            if (index == i-1) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    animateBalls = () => {\r\n        let _self = this;\r\n        let { cueBallWhite, cueBallYellow, targetBall } = this.objects;\r\n        if(!_self.pathData || _self.pathData.length == 0) return;\r\n        if (_self.t0 == undefined) return;\r\n        let t = new Date().getTime() / 1000;\r\n\r\n        var res1 = this.moveAndRotateBall(cueBallWhite, t, 0);\r\n        var res2 = this.moveAndRotateBall(cueBallYellow, t, 1);\r\n        var res3 = this.moveAndRotateBall(targetBall, t, 2);\r\n        console.log(res1, res2, res3);\r\n        if (res1 == false && res2 == false && res3 == false) _self.pathData = [];\r\n    }\r\n\r\n    playSimulation = () => {\r\n        var _self = this;\r\n        const {controlOptions} = this;\r\n        const {\r\n            cueBallWhite,\r\n            cueBallYellow,\r\n            targetBall\r\n        } = this.objects;\r\n        var res = this.billard.Simuler(\r\n            1,\r\n            {\r\n                Xinit: [\r\n                    _self.size * cueBallWhite.getPosition().x / CAROM_TABLE_LENGTH,\r\n                    _self.size * cueBallYellow.getPosition().x / CAROM_TABLE_LENGTH,\r\n                    _self.size * targetBall.getPosition().x / CAROM_TABLE_LENGTH\r\n                ],\r\n                Yinit: [\r\n                    _self.size * cueBallWhite.getPosition().z / CAROM_TABLE_LENGTH,\r\n                    _self.size * cueBallYellow.getPosition().z / CAROM_TABLE_LENGTH,\r\n                    _self.size * targetBall.getPosition().z / CAROM_TABLE_LENGTH\r\n                ],\r\n                RApInit: [0, 0, 0],\r\n                RAqInit: [0, 0, 0],\r\n                RArInit: [0, 0, 0],\r\n                el: controlOptions.sideEnglish,\r\n                er: controlOptions.topSpin,\r\n                alphaQ: controlOptions.cueAngle,\r\n                betaQ: controlOptions.cueLine,\r\n                Vqueue:controlOptions.speed,\r\n            }\r\n        );\r\n        console.log(res)\r\n\r\n        if(!res || res.length == 0) return;\r\n        \r\n        this.pathData = res;\r\n\r\n        this.t0 = new Date().getTime() / 1000;\r\n    }\r\n}","import React from 'react';\r\n\r\nimport { Engine, Scene } from 'react-babylonjs';\r\n\r\nimport './styles.css';\r\n\r\nimport SceneManager from './sceneManager';\r\n\r\nclass SimulatorEngine extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showPath: false,\r\n        }\r\n\r\n        this.board = new SceneManager(\r\n            this.props.size,\r\n            this.props.modelStorePath,\r\n            this.props.currentView,\r\n            {\r\n                posCueBallWhite: {\r\n                    x: this.props.posCueBallWhite.x,\r\n                    z: this.props.posCueBallWhite.z\r\n                },\r\n                posCueBallYellow: {\r\n                    x: this.props.posCueBallYellow.x,\r\n                    z: this.props.posCueBallYellow.z\r\n                },\r\n                posTargetBall: {\r\n                    x: this.props.posTargetBall.x,\r\n                    z: this.props.posTargetBall.z\r\n                }\r\n            },\r\n            {\r\n                cueLine: this.props.cueLine,\r\n                cueAngle: this.props.cueAngle,\r\n                sideEnglish: this.props.sideEnglish,\r\n                topSpin: this.props.topSpin,\r\n                speed: this.props.speed,\r\n            }\r\n        );\r\n\r\n        this.simulatorDom = new React.createRef();\r\n    }\r\n\r\n    meshPicked = ( mesh ) => {\r\n        // console.log('mesh picked', mesh);\r\n    }\r\n\r\n    drawBallPath = (value) => {\r\n        this.board.drawBallPath(value);\r\n    }\r\n\r\n    onSceneMount = ( e ) => {\r\n        const { canvas, scene } = e;\r\n        this.board.initializeScene(scene, canvas);\r\n    }\r\n\r\n    changeView (option) {\r\n        this.board.changeView(option);\r\n    }\r\n\r\n    toggleGrids = (visible) => {\r\n        this.board.toggleGrids(visible);\r\n    }\r\n\r\n    playSimulation = () => {\r\n        this.board.playSimulation();\r\n    }\r\n\r\n    updateControlOptions = (data) => {\r\n        this.board.updateControlOptions(data);\r\n    }\r\n\r\n    componentDidMount = () => {}\r\n    render () {\r\n        return (\r\n            <Engine canvasId=\"carom-simulator-canvas\">\r\n                <Scene\r\n                    onMeshPicked={this.meshPicked}\r\n                    onSceneMount={this.onSceneMount}\r\n                />\r\n            </Engine>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SimulatorEngine;","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faMinus, faPlus } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport './slider.css';\r\n\r\nexport default class InputSlider extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n\r\n    componentWillReceiveProps = (props) => {\r\n        const {value} = props;\r\n        this.setState({value:value});\r\n    }\r\n\r\n    updateValue = (value) => {\r\n        this.setState({value:value})\r\n        this.props.onUpdate(this.props.itemKey, value);\r\n    }\r\n\r\n    onChangeValue = (evt) => {\r\n        const value = evt.target.value;\r\n        this.updateValue(value);\r\n    }\r\n\r\n    onMinusPressed = () => {\r\n        var currentValue = this.state.value;\r\n        let { min, step } = this.props;\r\n        if (step === undefined) step = 0.1;\r\n        step *= 10;\r\n        currentValue = (currentValue*10 - step)/10;\r\n        if (currentValue <  min) currentValue = min;\r\n        this.updateValue(currentValue);\r\n    }\r\n\r\n    onPlusPressed = () => {\r\n        var currentValue = this.state.value;\r\n        let { max, step } = this.props;\r\n        if (step === undefined) step = 0.1;\r\n        step *= 10;\r\n        currentValue = (currentValue*10 + step)/10;\r\n        if (currentValue > max) currentValue = max;\r\n        this.updateValue(currentValue);\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            value,\r\n        } = this.props;\r\n\r\n        let {\r\n            containerClass,\r\n            label,\r\n            min,\r\n            max,\r\n            unitDom,\r\n            step,\r\n            vertical,\r\n            width,\r\n            sliderStyle\r\n        } = this.props\r\n        if (step === undefined) step = 0.1;\r\n        let sliderClass=\"slider\";\r\n        if (vertical) sliderClass += \" vertical\";\r\n\r\n        return (\r\n            <div className={containerClass} style={{\r\n                width: width?width:'inherit'\r\n            }}>\r\n                <div style={{display:'flex'}}>\r\n                    <span style={{flex:1, textAlign:'center'}}>\r\n                        {label}\r\n                        <span> : {value}{unitDom}</span>\r\n                    </span>\r\n                </div>\r\n                <div style={{display:'flex'}}>\r\n                    <FontAwesomeIcon\r\n                        icon={faMinus}\r\n                        className=\"btn-change-value\"\r\n                        onClick={this.onMinusPressed}\r\n                    />\r\n                    <input\r\n                        type=\"range\"\r\n                        min={min}\r\n                        max={max}\r\n                        value={value}\r\n                        className={sliderClass}\r\n                        style={sliderStyle}\r\n                        step={step}\r\n                        onChange={this.onChangeValue}\r\n                    />\r\n                    <FontAwesomeIcon\r\n                        icon={faPlus}\r\n                        className=\"btn-change-value\"\r\n                        onClick={this.onPlusPressed}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n    faTh,\r\n    faCrosshairs,\r\n    faVolumeMute,\r\n    faBackward,\r\n    faForward,\r\n    faStop,\r\n    faPlay\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport ballImage from './cueball.png';\r\nimport InputSlider from './slider';\r\nimport './style.css';\r\n\r\nconst ballDiameter = 52.5;\r\nconst maxTipOffset = 15;\r\n\r\nexport default class ControllerCollection extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            ballImageSize: 180,\r\n            cueLine: Math.round(1800 * this.props.cueLine / Math.PI) / 10,\r\n            cueAngle: Math.round(1800 * this.props.cueAngle / Math.PI) / 10,\r\n            sideEnglish: Math.round(this.props.sideEnglish * 10000) / 10,\r\n            topSpin: Math.round(this.props.topSpin * 10000) / 10,\r\n            speed: Math.round(this.props.speed * 100),\r\n            tipPositionLeft: 0,\r\n            tipPositionTop: 0,\r\n            isPointerDown: false,\r\n        }\r\n        this.domBallImage = new React.createRef();\r\n    }\r\n\r\n    checkRadialBounding = (sideEnglish, topSpin) => {\r\n        return (Math.sqrt(Math.pow(sideEnglish, 2) + Math.pow(topSpin, 2)) < maxTipOffset)\r\n    }\r\n\r\n    updateTipPosition = e => {\r\n        let x = e.pageX;\r\n        let y = e.pageY;\r\n        let elem = this.domBallImage.current;\r\n        let rect = elem.getBoundingClientRect();\r\n        x -= rect.x;\r\n        y -= rect.y;\r\n        let sideEnglish = (x / this.state.ballImageSize - 0.5) * ballDiameter;\r\n        sideEnglish = Math.round(sideEnglish * 10) / 10;\r\n        let topSpin = (0.5 - y / this.state.ballImageSize) * ballDiameter;\r\n        topSpin = Math.round(topSpin * 10) / 10;\r\n\r\n        if (this.checkRadialBounding(sideEnglish, topSpin)){\r\n            this.setState({\r\n                tipPositionLeft: x,\r\n                tipPositionTop: y,\r\n                sideEnglish: sideEnglish,\r\n                topSpin: topSpin,\r\n            })\r\n            this.dispatchUpdateEvent();\r\n        } else {\r\n            x -= this.state.ballImageSize/2;\r\n            y -= this.state.ballImageSize/2;\r\n            let dist = Math.sqrt(x*x + y*y);\r\n            \r\n            sideEnglish = maxTipOffset * Math.cos(Math.acos(x/dist));\r\n            sideEnglish = Math.round(sideEnglish * 10) / 10;\r\n            topSpin = maxTipOffset * Math.sin(-Math.asin(y/dist));\r\n            topSpin = Math.round(topSpin * 10) / 10;\r\n\r\n            let tipPositionLeft = (sideEnglish / ballDiameter + 0.5) * this.state.ballImageSize - 6;\r\n            let tipPositionTop = (0.5 - topSpin / ballDiameter) * this.state.ballImageSize - 6;\r\n            this.setState({\r\n                tipPositionLeft: tipPositionLeft,\r\n                tipPositionTop: tipPositionTop,\r\n                sideEnglish: sideEnglish,\r\n                topSpin: topSpin,\r\n            })\r\n            this.dispatchUpdateEvent();\r\n        }\r\n    }\r\n\r\n    dispatchUpdateEvent = () => {\r\n        let eventValues = Object.assign({}, this.state);\r\n\r\n        eventValues.cueLine = Math.PI * eventValues.cueLine / 180;\r\n        eventValues.cueAngle = Math.PI * eventValues.cueAngle / 180;\r\n        eventValues.sideEnglish /= 1000;\r\n        eventValues.topSpin /= 1000;\r\n        eventValues.speed /= 100;\r\n        this.props.onControlOptionsUpdated(eventValues);\r\n    }\r\n\r\n    onInputSliderUpdated = (key, value) => {\r\n        let tmp = Object.assign({}, this.state);\r\n        tmp[key] = parseFloat(value);\r\n        \r\n        if (this.checkRadialBounding(tmp.sideEnglish, tmp.topSpin)) {\r\n            this.setState(tmp);\r\n            this.dispatchUpdateEvent();\r\n        }\r\n    }\r\n\r\n    render () {\r\n        const {ballImageSize, tipPositionLeft, tipPositionTop, isPointerDown} = this.state;\r\n        const {cueLine, cueAngle, sideEnglish, topSpin, speed} = this.state;\r\n        const {showGrid, showPath} = this.props;\r\n        var btnGridClass = \"toggle-btn\";\r\n        var btnShowPathClass = \"toggle-btn\";\r\n        var btnMuteClass = \"toggle-btn\";\r\n\r\n        if (showGrid === true) btnGridClass += \" active\";\r\n        if (showPath === true) btnShowPathClass += \" active\";\r\n\r\n        let newTipPositionTop = 0;\r\n        let newTipPositionLeft = 0;\r\n\r\n        if (isPointerDown) {\r\n            newTipPositionLeft = tipPositionLeft - 6;\r\n            newTipPositionTop = tipPositionTop - 6;\r\n        } else {\r\n            newTipPositionLeft = (sideEnglish / ballDiameter + 0.5) * ballImageSize - 6;\r\n            newTipPositionTop = (0.5 - topSpin / ballDiameter) * ballImageSize - 6;\r\n        }\r\n        return (\r\n            <div className=\"controller-collection\">\r\n                <div className=\"common-controller-container\">\r\n                    <FontAwesomeIcon\r\n                        className={btnGridClass}\r\n                        icon={faTh}\r\n                        onClick={() => {this.props.onToggleShowGrid(!showGrid)}}\r\n                    />\r\n\r\n                    <FontAwesomeIcon\r\n                        className={btnShowPathClass}\r\n                        icon={faCrosshairs}\r\n                        onClick={() => {this.props.onToggleShowPath(!showPath)}}\r\n                    />\r\n\r\n                    <FontAwesomeIcon\r\n                        className={btnMuteClass}\r\n                        icon={faVolumeMute}\r\n                    />\r\n                </div>\r\n                <div className=\"angle-selector-container\">\r\n                    <InputSlider\r\n                        label=\"Cue Line\"\r\n                        containerClass=\"slider-container\"\r\n                        min={0}\r\n                        max={360}\r\n                        width={400}\r\n                        value={cueLine}\r\n                        unitDom={<sup>o</sup>}\r\n                        itemKey=\"cueLine\"\r\n                        onUpdate={this.onInputSliderUpdated}\r\n                    />\r\n                    <InputSlider\r\n                        label=\"Cue Angle\"\r\n                        containerClass=\"slider-container\"\r\n                        min={2}\r\n                        max={89}\r\n                        value={cueAngle}\r\n                        unitDom={<sup>o</sup>}\r\n                        itemKey=\"cueAngle\"\r\n                        onUpdate={this.onInputSliderUpdated}\r\n                    />\r\n                </div>\r\n                <div className=\"tip-controller-container\">\r\n                    <div className=\"tip-position-visualizer\" style={{width: ballImageSize}}>\r\n                        <img\r\n                            ref={this.domBallImage}\r\n                            src={ballImage}\r\n                            style={{width: ballImageSize}}\r\n                            draggable={false}\r\n                            onPointerUp={e=>{\r\n                                this.setState({\r\n                                    isPointerDown: false\r\n                                })\r\n                                this.updateTipPosition(e)\r\n                            }}\r\n                            onPointerMove={e=>{\r\n                                if(this.state.isPointerDown) {\r\n                                    this.updateTipPosition(e)\r\n                                }\r\n                            }}\r\n                            onMouseDown={e=>{\r\n                                this.setState({\r\n                                    isPointerDown: true\r\n                                })\r\n                                this.updateTipPosition(e)\r\n                            }}\r\n                        />\r\n                        <div\r\n                            className=\"tip-position\"\r\n                            style={{\r\n                                top: newTipPositionTop,\r\n                                left: newTipPositionLeft\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <InputSlider\r\n                        label=\"Side English\"\r\n                        containerClass=\"slider-container\"\r\n                        min={-15.1}\r\n                        max={15.1}\r\n                        width={ballImageSize}\r\n                        value={sideEnglish}\r\n                        unitDom={<span>mm</span>}\r\n                        itemKey=\"sideEnglish\"\r\n                        onUpdate={this.onInputSliderUpdated}\r\n                    /><br/>\r\n                    <InputSlider\r\n                        label=\"Top Spin\"\r\n                        containerClass=\"slider-container\"\r\n                        min={-15.1}\r\n                        max={15.1}\r\n                        width={ballImageSize}\r\n                        value={topSpin}\r\n                        unitDom={<span>mm</span>}\r\n                        itemKey=\"topSpin\"\r\n                        onUpdate={this.onInputSliderUpdated}\r\n                    />\r\n                </div>\r\n                <div className=\"play-controller-container\">\r\n                    <InputSlider\r\n                        label=\"Speed\"\r\n                        containerClass=\"slider-container\"\r\n                        width={300}\r\n                        min={0}\r\n                        max={450}\r\n                        value={speed}\r\n                        step={1}\r\n                        unitDom={<span>cm/s</span>}\r\n                        itemKey=\"speed\"\r\n                        onUpdate={this.onInputSliderUpdated}\r\n                    />\r\n                    <FontAwesomeIcon\r\n                        className=\"play-controller\"\r\n                        icon={faBackward}\r\n                    />\r\n                    <FontAwesomeIcon\r\n                        className=\"play-controller\"\r\n                        icon={faStop}\r\n                    />\r\n                    <FontAwesomeIcon\r\n                        className=\"play-controller\"\r\n                        icon={faPlay}\r\n                        onClick={this.props.onPlayPressed}\r\n                    />\r\n                    <FontAwesomeIcon\r\n                        className=\"play-controller\"\r\n                        icon={faForward}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nimport ViewSelector from '../../view/viewSelector';\r\nimport SimulatorEngine from './simulatorEngine';\r\nimport ControllerCollection from '../../view/controller';\r\n\r\nimport './styles.css';\r\n\r\nimport {\r\n    CAROM_INDEX_SIZE,\r\n    CAROM_INDEX_WHITE_X,\r\n    CAROM_INDEX_WHITE_Y,\r\n    CAROM_INDEX_YELLOW_X,\r\n    CAROM_INDEX_YELLOW_Y,\r\n    CAROM_INDEX_TARGET_X,\r\n    CAROM_INDEX_TARGET_Y,\r\n    CAROM_INDEX_CUELINE,\r\n    CAROM_INDEX_CUEANGLE,\r\n    CAROM_INDEX_SIDEENGLISH,\r\n    CAROM_INDEX_TOPSPIN,\r\n    CAROM_INDEX_SPEED\r\n} from '../../assets/constants';\r\n\r\nclass CaromSimulator extends React.Component {\r\n    constructor () {\r\n        super();\r\n\r\n        this.state = {\r\n            currentView : 'top',\r\n            showGrid : true,\r\n            showPath: false,\r\n            size: 310,\r\n            cueLine: 30,\r\n            cueAngle: 5,\r\n            sideEnglish: -8.7,\r\n            topSpin: 7.5,\r\n            speed: 380,\r\n            posCueBallWhite: {},\r\n            posCueBallYellow: {},\r\n            posTargetBall: {}\r\n        }\r\n        this.simulator = React.createRef();\r\n    }\r\n    componentWillMount = () => {\r\n        this.updateSimulateInfo();\r\n    }\r\n    updateSimulateInfo = () => {\r\n        var info = [\r\n            'Santiago  Soto Sanchez',\r\n            '...',\r\n            '0',\r\n            '310',\r\n            '2',\r\n            '1',\r\n            '1.1661666666666661',\r\n            '0.6288333333333332',\r\n            '0.8181666666666672',\r\n            '0.5041666666666665',\r\n            '-0.6036666666666667',\r\n            '-0.003833333333333161',\r\n            '4.015999999999998',\r\n            '0.520497057626843',\r\n            '0.21066799020683835',\r\n            '-0.0013500000000002585',\r\n            '-0.0146999999999997',\r\n        ];\r\n        let size = 2.8;\r\n\r\n        let cueLine = parseFloat(info[CAROM_INDEX_CUELINE]);\r\n\r\n        let cueAngle = parseFloat(info[CAROM_INDEX_CUEANGLE]);\r\n\r\n        let sideEnglish = parseFloat(info[CAROM_INDEX_SIDEENGLISH]);\r\n\r\n        let topSpin = parseFloat(info[CAROM_INDEX_TOPSPIN]);\r\n\r\n        let speed = parseFloat(info[CAROM_INDEX_SPEED]);\r\n\r\n        let posCueBallWhite = {\r\n            x: parseFloat(info[CAROM_INDEX_WHITE_X]),\r\n            z: parseFloat(info[CAROM_INDEX_WHITE_Y])\r\n        }\r\n\r\n        let posCueBallYellow = {\r\n            x: parseFloat(info[CAROM_INDEX_YELLOW_X]),\r\n            z: parseFloat(info[CAROM_INDEX_YELLOW_Y])\r\n        }\r\n\r\n        let posTargetBall = {\r\n            x: parseFloat(info[CAROM_INDEX_TARGET_X]),\r\n            z: parseFloat(info[CAROM_INDEX_TARGET_Y])\r\n        }\r\n\r\n        let tmp = {\r\n            size: size,\r\n            cueLine: cueLine,\r\n            cueAngle: cueAngle,\r\n            sideEnglish: sideEnglish,\r\n            topSpin: topSpin,\r\n            speed: speed,\r\n            posCueBallWhite: posCueBallWhite,\r\n            posCueBallYellow: posCueBallYellow,\r\n            posTargetBall: posTargetBall\r\n        }\r\n\r\n        this.setState(tmp)\r\n    }\r\n\r\n    viewSelectorItemClicked = (item) => {\r\n        this.setState({currentView: item});\r\n        this.simulator.current.changeView(item);\r\n    }\r\n\r\n    onToggleShowGrid = (value) => {\r\n        this.setState({showGrid: value})\r\n        this.simulator.current.toggleGrids(value);\r\n    }\r\n\r\n    onToggleShowPath = (value) => {\r\n        this.setState({showPath: value})\r\n        this.simulator.current.drawBallPath(value);\r\n    }\r\n\r\n    onPlayPressed = () => {\r\n        this.simulator.current.playSimulation();\r\n    }\r\n\r\n    onControlOptionsUpdated = (data) => {\r\n        this.simulator.current.updateControlOptions(data);\r\n    }\r\n\r\n    componentDidMount = () => {\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            currentView,\r\n\r\n            showGrid,\r\n            showPath,\r\n\r\n            size,\r\n            cueLine,\r\n            cueAngle,\r\n            sideEnglish,\r\n            topSpin,\r\n            speed,\r\n\r\n            posCueBallWhite,\r\n            posCueBallYellow,\r\n            posTargetBall,\r\n        } = this.state;\r\n        return (\r\n            <div style={{position: 'relative'}}>\r\n                <ViewSelector\r\n                    currentView={currentView}\r\n                    viewSelectorItemClicked={this.viewSelectorItemClicked}\r\n                />\r\n                <SimulatorEngine\r\n                    modelStorePath={this.props.modelStorePath}\r\n                    ref={this.simulator}\r\n\r\n                    size={size}\r\n                    currentView={currentView}\r\n                    cueLine = {cueLine}\r\n                    cueAngle = {cueAngle}\r\n                    sideEnglish = {sideEnglish}\r\n                    topSpin = {topSpin}\r\n                    speed = {speed}\r\n\r\n                    posCueBallWhite = {posCueBallWhite}\r\n                    posCueBallYellow = {posCueBallYellow}\r\n                    posTargetBall = {posTargetBall}\r\n                />\r\n                <ControllerCollection\r\n                    showGrid={showGrid}\r\n                    showPath={showPath}\r\n                    cueLine = {cueLine}\r\n                    cueAngle = {cueAngle}\r\n                    sideEnglish = {sideEnglish}\r\n                    topSpin = {topSpin}\r\n                    speed = {speed}\r\n\r\n                    onControlOptionsUpdated={this.onControlOptionsUpdated}\r\n\r\n                    onToggleShowGrid={this.onToggleShowGrid}\r\n                    onToggleShowPath = {this.onToggleShowPath}\r\n                    onPlayPressed = {this.onPlayPressed}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CaromSimulator;","export default class parametres {\r\n    noba;\r\n    NBILLES;\r\n    quant;\r\n    RApInit;\r\n    RArInit;\r\n    larg_billard;\r\n    RAqInit;\r\n    empocheeInit;\r\n    betaQ;\r\n    el;\r\n    Xinit;\r\n    Yinit;\r\n    er;\r\n    HBande = 0.035;\r\n    long_billard;\r\n    alphaQ;\r\n    Vqueue;\r\n    bille_visee;\r\n\r\n    constructor(param1, param2)\r\n    {\r\n        var _loc_3 = 0;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = 0;\r\n        var _loc_6 = false;\r\n        this.NBILLES = 16;\r\n        this.long_billard = param1;\r\n        this.larg_billard = param2;\r\n        this.Xinit = [];\r\n        this.Yinit = [];\r\n        this.RApInit = [];\r\n        this.RAqInit = [];\r\n        this.RArInit = [];\r\n        this.empocheeInit = [];\r\n        _loc_3 = 0;\r\n        while (_loc_3 < this.NBILLES)\r\n        {\r\n            \r\n            this.RApInit[_loc_3] = 0;\r\n            this.RAqInit[_loc_3] = 0;\r\n            this.RArInit[_loc_3] = 0;\r\n            _loc_3++;\r\n        }\r\n        var _loc_7 = 0.03;\r\n        this.Xinit[0] = 0;\r\n        this.Yinit[0] = (-param2) / 4;\r\n        this.empocheeInit[0] = false;\r\n        _loc_3 = 1;\r\n        while (_loc_3 < 16)\r\n        {\r\n            \r\n            do\r\n            {\r\n                \r\n                this.Xinit[_loc_3] = (_loc_3 - 8) * 0.1;\r\n                this.Yinit[_loc_3] = 0;\r\n                _loc_6 = true;\r\n                _loc_5 = 0;\r\n                while (_loc_5 < _loc_3 && _loc_6)\r\n                {\r\n                    \r\n                    _loc_4 = (this.Xinit[_loc_3] - this.Xinit[_loc_5]) * (this.Xinit[_loc_3] - this.Xinit[_loc_5]) + (this.Yinit[_loc_3] - this.Yinit[_loc_5]) * (this.Yinit[_loc_3] - this.Yinit[_loc_5]);\r\n                    if (_loc_4 < 0.004)\r\n                    {\r\n                        _loc_6 = false;\r\n                    }\r\n                    _loc_5++;\r\n                }\r\n                this.empocheeInit[_loc_3] = false;\r\n            }while (!_loc_6)\r\n            _loc_3++;\r\n        }\r\n        this.Vqueue = 1.5;\r\n        this.el = 0;\r\n        this.er = 0;\r\n        this.alphaQ = 0.033916;\r\n        this.betaQ = -7 * Math.PI / 8;\r\n        return;\r\n    }// end function\r\n\r\n    direction_beta(param1, param2, param3) {\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = 0.03;\r\n        _loc_6 = Math.sqrt((this.Xinit[0] - param2) * (this.Xinit[0] - param2) + (this.Yinit[0] - param3) * (this.Yinit[0] - param3));\r\n        param1 = param1 * (2 * _loc_7);\r\n        _loc_4 = Math.asin(param1 / _loc_6);\r\n        _loc_5 = this.atanjimi(param3 - this.Yinit[0], param2 - this.Xinit[0]);\r\n        if (_loc_5 - _loc_4 > Math.PI)\r\n        {\r\n            return _loc_5 - _loc_4 - 2 * Math.PI;\r\n        }\r\n        if (_loc_5 - _loc_4 < -Math.PI)\r\n        {\r\n            return _loc_5 - _loc_4 + 2 * Math.PI;\r\n        }\r\n        return _loc_5 - _loc_4;\r\n    }// end function\r\n\r\n    ToucheBandeX(param1) {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = NaN;\r\n        var _loc_11 = NaN;\r\n        var _loc_12 = NaN;\r\n        var _loc_13 = NaN;\r\n        var _loc_14 = NaN;\r\n        var _loc_15 = NaN;\r\n        var _loc_16 = NaN;\r\n        var _loc_17 = NaN;\r\n        var _loc_18 = NaN;\r\n        var _loc_7 = 0.03;\r\n        var _loc_19 = 1e-005;\r\n        var _loc_20 = 1.4;\r\n        var _loc_21 = 0.006;\r\n        var _loc_22 = 0.015;\r\n        while (this.betaQ < 0)\r\n        {\r\n            \r\n            this.betaQ = this.betaQ + 2 * Math.PI;\r\n        }\r\n        while (this.betaQ >= 2 * Math.PI)\r\n        {\r\n            \r\n            this.betaQ = this.betaQ - 2 * Math.PI;\r\n        }\r\n        _loc_14 = this.betaQ;\r\n        _loc_13 = param1;\r\n        _loc_17 = Math.cos(_loc_14);\r\n        _loc_18 = Math.sin(_loc_14);\r\n        _loc_15 = Math.cos(_loc_13);\r\n        _loc_16 = Math.sin(_loc_13);\r\n        _loc_12 = Math.sqrt(_loc_7 * _loc_7 - this.er * this.er - this.el * this.el);\r\n        _loc_9 = (_loc_12 * _loc_15 - this.er * _loc_16) * _loc_17 - this.el * _loc_18;\r\n        _loc_10 = _loc_12 * _loc_16 + this.er * _loc_15;\r\n        _loc_11 = (_loc_12 * _loc_15 - this.er * _loc_16) * _loc_18 + this.el * _loc_17;\r\n        _loc_2 = this.Xinit[0] + _loc_9;\r\n        _loc_3 = _loc_7 + _loc_10;\r\n        _loc_4 = this.Yinit[0] + _loc_11;\r\n        _loc_6 = this.long_billard / 2;\r\n        if (Math.abs(_loc_17) < _loc_19)\r\n        {\r\n            return false;\r\n        }\r\n        if (_loc_14 > Math.PI / 2 && _loc_14 < 3 * Math.PI / 2)\r\n        {\r\n            _loc_17 = -_loc_17;\r\n            _loc_2 = -_loc_2;\r\n        }\r\n        _loc_8 = (_loc_6 - _loc_2) / _loc_17;\r\n        if (_loc_8 > _loc_20)\r\n        {\r\n            return false;\r\n        }\r\n        _loc_5 = _loc_21 + (_loc_22 - _loc_21) / _loc_20 * _loc_8 / _loc_15;\r\n        if (_loc_8 * _loc_16 / _loc_15 + _loc_3 > this.HBande + _loc_5 / _loc_15)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    }// end function\r\n\r\n    atanjimi(param1, param2) {\r\n        var _loc_3 = NaN;\r\n        if (Math.abs(param2) < 1e-006)\r\n        {\r\n            if (param1 > 0)\r\n            {\r\n                return Math.PI / 2;\r\n            }\r\n            return (-Math.PI) / 2;\r\n        }\r\n        _loc_3 = Math.atan(param1 / param2);\r\n        if (param2 > 0)\r\n        {\r\n            return _loc_3;\r\n        }\r\n        if (param1 < 0)\r\n        {\r\n            return _loc_3 - Math.PI;\r\n        }\r\n        return _loc_3 + Math.PI;\r\n    }// end function\r\n\r\n    Quantite() {\r\n        var _loc_1 = 0;\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = [];\r\n        var _loc_4 = [];\r\n        var _loc_5 = 0.03;\r\n        _loc_2 = this.betaQ + Math.PI;\r\n        _loc_1 = 1;\r\n        while (_loc_1 < this.NBILLES)\r\n        {\r\n            \r\n            _loc_3[_loc_1] = false;\r\n            if (!this.empocheeInit[_loc_1])\r\n            {\r\n                if ((this.Xinit[_loc_1] - this.Xinit[0]) * Math.cos(_loc_2) + (this.Yinit[_loc_1] - this.Yinit[0]) * Math.sin(_loc_2) > 0)\r\n                {\r\n                    _loc_4[_loc_1] = (this.Yinit[_loc_1] - this.Yinit[0]) * Math.cos(_loc_2) - (this.Xinit[_loc_1] - this.Xinit[0]) * Math.sin(_loc_2);\r\n                    if (_loc_4[_loc_1] < 2 * _loc_5 && _loc_4[_loc_1] > -2 * _loc_5)\r\n                    {\r\n                        _loc_3[_loc_1] = true;\r\n                    }\r\n                }\r\n            }\r\n            _loc_1++;\r\n        }\r\n        this.bille_visee = -1;\r\n        var _loc_6 = 100;\r\n        _loc_1 = 1;\r\n        while (_loc_1 < this.NBILLES)\r\n        {\r\n            \r\n            if (_loc_3[_loc_1])\r\n            {\r\n                if ((this.Xinit[_loc_1] - this.Xinit[0]) * (this.Xinit[_loc_1] - this.Xinit[0]) + (this.Yinit[_loc_1] - this.Yinit[0]) * (this.Yinit[_loc_1] - this.Yinit[0]) < _loc_6)\r\n                {\r\n                    this.bille_visee = _loc_1;\r\n                    _loc_6 = (this.Xinit[_loc_1] - this.Xinit[0]) * (this.Xinit[_loc_1] - this.Xinit[0]) + (this.Yinit[_loc_1] - this.Yinit[0]) * (this.Yinit[_loc_1] - this.Yinit[0]);\r\n                }\r\n            }\r\n            _loc_1++;\r\n        }\r\n        if (this.bille_visee != -1)\r\n        {\r\n            this.noba = true;\r\n            this.quant = _loc_4[this.bille_visee] / 2 / _loc_5;\r\n        }\r\n        else\r\n        {\r\n            this.noba = false;\r\n            this.quant = 0;\r\n        }\r\n        return this.quant;\r\n    }// end function\r\n\r\n    ToucheBille(param1) {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = NaN;\r\n        var _loc_11 = NaN;\r\n        var _loc_14 = NaN;\r\n        var _loc_15 = NaN;\r\n        var _loc_16 = NaN;\r\n        var _loc_22 = 0;\r\n        var _loc_7 = 0.03;\r\n        var _loc_12 = 0.002;\r\n        var _loc_13 = 0.032;\r\n        var _loc_17 = 1.4;\r\n        var _loc_18 = 0.006;\r\n        var _loc_19 = 0.015;\r\n        var _loc_20 = param1;\r\n        var _loc_21 = this.betaQ;\r\n        _loc_22 = 1;\r\n        while (_loc_22 < this.NBILLES)\r\n        {\r\n            \r\n            _loc_2 = this.Xinit[0] + _loc_13 * Math.cos(_loc_21) * Math.cos(_loc_20) - this.el * Math.sin(_loc_21) - this.er * Math.sin(_loc_20) * Math.cos(_loc_21);\r\n            _loc_3 = 0.03 + _loc_13 * Math.sin(_loc_20) + this.er * Math.cos(_loc_20);\r\n            _loc_4 = this.Yinit[0] + _loc_13 * Math.sin(_loc_21) * Math.cos(_loc_20) + this.el * Math.cos(_loc_21) - this.er * Math.sin(_loc_20) * Math.sin(_loc_21);\r\n            _loc_8 = this.Xinit[_loc_22];\r\n            _loc_9 = 0.03;\r\n            _loc_10 = this.Yinit[_loc_22];\r\n            _loc_6 = 0;\r\n            while (_loc_6 < _loc_17)\r\n            {\r\n                \r\n                _loc_5 = _loc_18 + (_loc_19 - _loc_18) / _loc_17 * _loc_6;\r\n                _loc_14 = _loc_2 + _loc_6 * Math.cos(_loc_20) * Math.cos(_loc_21);\r\n                _loc_15 = _loc_3 + _loc_6 * Math.sin(_loc_20);\r\n                _loc_16 = _loc_4 + _loc_6 * Math.cos(_loc_20) * Math.sin(_loc_21);\r\n                _loc_11 = (_loc_14 - _loc_8) * (_loc_14 - _loc_8) + (_loc_15 - _loc_9) * (_loc_15 - _loc_9) + (_loc_16 - _loc_10) * (_loc_16 - _loc_10);\r\n                if (_loc_11 < (_loc_7 + _loc_5 + _loc_12) * (_loc_7 + _loc_5 + _loc_12))\r\n                {\r\n                    return true;\r\n                }\r\n                _loc_6 = _loc_6 + 0.01;\r\n            }\r\n            _loc_22++;\r\n        }\r\n        return false;\r\n    }// end function\r\n\r\n    ToucheBandeZ(param1) {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = NaN;\r\n        var _loc_11 = NaN;\r\n        var _loc_12 = NaN;\r\n        var _loc_13 = NaN;\r\n        var _loc_14 = NaN;\r\n        var _loc_15 = NaN;\r\n        var _loc_16 = NaN;\r\n        var _loc_17 = NaN;\r\n        var _loc_18 = NaN;\r\n        var _loc_19 = NaN;\r\n        var _loc_8 = 0.03;\r\n        var _loc_20 = 1e-005;\r\n        var _loc_21 = 1.4;\r\n        var _loc_22 = 0.006;\r\n        var _loc_23 = 0.015;\r\n        while (this.betaQ < 0)\r\n        {\r\n            \r\n            this.betaQ = this.betaQ + 2 * Math.PI;\r\n        }\r\n        while (this.betaQ >= 2 * Math.PI)\r\n        {\r\n            \r\n            this.betaQ = this.betaQ - 2 * Math.PI;\r\n        }\r\n        _loc_15 = this.betaQ;\r\n        _loc_14 = param1;\r\n        _loc_18 = Math.cos(_loc_15);\r\n        _loc_19 = Math.sin(_loc_15);\r\n        _loc_16 = Math.cos(_loc_14);\r\n        _loc_17 = Math.sin(_loc_14);\r\n        _loc_13 = Math.sqrt(_loc_8 * _loc_8 - this.er * this.er - this.el * this.el);\r\n        _loc_10 = (_loc_13 * _loc_16 - this.er * _loc_17) * _loc_18 - this.el * _loc_19;\r\n        _loc_11 = _loc_13 * _loc_17 + this.er * _loc_16;\r\n        _loc_12 = (_loc_13 * _loc_16 - this.er * _loc_17) * _loc_19 + this.el * _loc_18;\r\n        _loc_2 = this.Xinit[0] + _loc_10;\r\n        _loc_3 = _loc_8 + _loc_11;\r\n        _loc_4 = this.Yinit[0] + _loc_12;\r\n        _loc_7 = this.larg_billard / 2;\r\n        if (Math.abs(_loc_19) < _loc_20)\r\n        {\r\n            return false;\r\n        }\r\n        if (_loc_15 > Math.PI)\r\n        {\r\n            _loc_19 = -_loc_19;\r\n            _loc_4 = -_loc_4;\r\n        }\r\n        _loc_9 = (_loc_7 - _loc_4) / _loc_19;\r\n        if (_loc_9 > _loc_21)\r\n        {\r\n            return false;\r\n        }\r\n        _loc_5 = _loc_22 + (_loc_23 - _loc_22) / _loc_21 * _loc_9 / _loc_16;\r\n        if (_loc_9 * _loc_17 / _loc_16 + _loc_3 > this.HBande + _loc_5 / _loc_16)\r\n        {\r\n            return false;\r\n        }\r\n        return true;\r\n    }// end function\r\n\r\n    AlphaQmin() {\r\n        var _loc_1 = 0;\r\n        while (this.ToucheBandeZ(_loc_1) || this.ToucheBandeX(_loc_1) || this.ToucheBille(_loc_1))\r\n        {\r\n            \r\n            _loc_1 = _loc_1 + Math.PI / 90;\r\n        }\r\n        return _loc_1;\r\n    }// end function\r\n}","export default class son {\r\n    played;\r\n    intensite;\r\n    type_choc;\r\n    temps;\r\n\r\n    constructor () {\r\n        this.played = false;\r\n        return;\r\n    }\r\n}","export default class evt {\r\n    RAp;\r\n    RAr;\r\n    RAq;\r\n    time;\r\n    X;\r\n    Y;\r\n\r\n    constructor () {\r\n        return;\r\n    }\r\n}","import son from './son';\r\nimport evt from './evt';\r\nexport default class simul {\r\n    r0;\r\n    b1 = -0.96912;\r\n    b3 = 0.76856;\r\n    first_bille_choquee;\r\n    b2;\r\n    RAp;\r\n    RAq;\r\n    RAr;\r\n    time_empochee;\r\n    RSG = 1;\r\n    RAp0;\r\n    RTROU = 0.0533;\r\n    empochee_fin;\r\n    fgpas = 0.00225;\r\n    D;\r\n    RApfin;\r\n    YMAX;\r\n    RAq0;\r\n    R;\r\n    frpas = 6.3e-005;\r\n    X;\r\n    Y;\r\n    vqueue;\r\n    Rq;\r\n    Rr;\r\n    duree;\r\n    Rp;\r\n    EPSILON_COIN = 0.8;\r\n    RAr0;\r\n    deltaVN;\r\n    beta_gliss;\r\n    XTROU2 = 0;\r\n    VN0;\r\n    sorties;\r\n    calculs_finis;\r\n    Vinit;\r\n    QCQ = 2;\r\n    Rfppas = 0.000135;\r\n    deltaclef;\r\n    f1 = 0.375;\r\n    f2 = 0.61;\r\n    fbille = 0.075;\r\n    eff_s;\r\n    Rfp = 0.225;\r\n    nb_clefs;\r\n    pas = 0.0005;\r\n    VMz;\r\n    fp1 = 0.3;\r\n    RAqfin;\r\n    intens;\r\n    resolution;\r\n    er;\r\n    el;\r\n    alpha_bande;\r\n    ARRET = 0;\r\n    VN;\r\n    Xfin;\r\n    angle_poche_coin = 0.890118;\r\n    DateMax;\r\n    fg = 3.75;\r\n    YTROU = 0.652;\r\n    VT;\r\n    angle_poche_centrale = -0.244346;\r\n    nb_sons;\r\n    immobile;\r\n    fr = 0.09;\r\n    distance13;\r\n    X0;\r\n    XMIN;\r\n    choc12;\r\n    choc13;\r\n    Vy;\r\n    Vx;\r\n    XC = -1.1867;\r\n    EMPOCHEE = 4;\r\n    XE = -0.0633;\r\n    XF = -0.03333;\r\n    evts;\r\n    XB = -1.2467;\r\n    Y0;\r\n    XA = -1.27;\r\n    delta_fgpas = 0.00786;\r\n    XD;\r\n    date_arret;\r\n    RArfin;\r\n    YB = 0.57055;\r\n    YC = 0.635;\r\n    YF = 0.635;\r\n    nb3;\r\n    YA = 0.55167;\r\n    Yfin;\r\n    YTROU2 = 0.6883;\r\n    e_s;\r\n    YD;\r\n    YE = 0.635;\r\n    VQx;\r\n    VQy;\r\n    etat;\r\n    VRp;\r\n    VRq;\r\n    VRr;\r\n    YMIN;\r\n    XTROU = -1.2867;\r\n    nb_max_sons;\r\n    EPSILON = 0.86;\r\n    effet;\r\n    alph;\r\n    nb_max_clefs;\r\n    d13;\r\n    done;\r\n    Vx0;\r\n    nbandes;\r\n    Vy0;\r\n    TSP = 3;\r\n    RendementChoc;\r\n    date;\r\n    p0;\r\n    evts_son;\r\n    beta_adh;\r\n    q0;\r\n    nb_b_avant;\r\n    XMAX;\r\n    beta;\r\n    a3 = 4.0108;\r\n    deltaclefRot;\r\n    a1 = -1.235;\r\n    a2 = -0.80978;\r\n\r\n    constructor(param1, param2)\r\n    {\r\n        var _loc_3 = 0;\r\n        this.XD = this.XC - 0.03 * Math.sin(39 * Math.PI / 180);\r\n        this.YD = this.YC - 0.03 * Math.cos(39 * Math.PI / 180);\r\n        this.b2 = this.YD - this.a2 * this.XD;\r\n        this.XMAX = param1;\r\n        this.YMAX = param2;\r\n        this.XMIN = -param1;\r\n        this.YMIN = -param2;\r\n        this.nb_max_clefs = 10000;\r\n        this.nb_clefs = [];\r\n        _loc_3 = 0;\r\n        while (_loc_3 < 16)\r\n        {\r\n            \r\n            this.nb_clefs[_loc_3] = 0;\r\n            _loc_3++;\r\n        }\r\n        this.evts = [];\r\n        this.nb_max_sons = 100;\r\n        this.nb_sons = 0;\r\n        this.evts_son = [];\r\n        this.sorties = [];\r\n        this.eff_s = [];\r\n        this.etat = [];\r\n        this.X0 = [];\r\n        this.Y0 = [];\r\n        this.X = [];\r\n        this.Y = [];\r\n        this.Xfin = [];\r\n        this.Yfin = [];\r\n        this.RAp = [];\r\n        this.RAq = [];\r\n        this.RAr = [];\r\n        this.RAp0 = [];\r\n        this.RAq0 = [];\r\n        this.RAr0 = [];\r\n        this.RApfin = [];\r\n        this.RAqfin = [];\r\n        this.RArfin = [];\r\n        this.empochee_fin = [];\r\n        this.Vx = [];\r\n        this.Vy = [];\r\n        this.Rp = [];\r\n        this.Rq = [];\r\n        this.Rr = [];\r\n        this.VQx = [];\r\n        this.VQy = [];\r\n        this.etat = [];\r\n        this.time_empochee = [];\r\n        this.immobile = [];\r\n        this.date_arret = [];\r\n        this.D = 0.06;\r\n        this.R = 0.03;\r\n        this.RendementChoc = 0.8;\r\n        this.deltaclefRot = this.R * Math.PI / 10;\r\n        this.resolution = 0.01;\r\n        this.done = false;\r\n        this.sorties[0] = 0;\r\n        this.sorties[1] = 0;\r\n        this.sorties[2] = 0;\r\n        this.sorties[3] = 7.5;\r\n        this.sorties[4] = 7.5;\r\n        this.sorties[5] = 7.5;\r\n        this.sorties[6] = 16;\r\n        this.sorties[7] = 16;\r\n        this.sorties[8] = 16;\r\n        this.sorties[9] = 33;\r\n        this.sorties[10] = 32;\r\n        this.sorties[11] = 23.5;\r\n        this.sorties[12] = 52;\r\n        this.sorties[13] = 43;\r\n        this.sorties[14] = 31;\r\n        this.sorties[15] = 72;\r\n        this.sorties[16] = 53;\r\n        this.sorties[17] = 35;\r\n        this.sorties[18] = 86;\r\n        this.sorties[19] = 60;\r\n        this.sorties[20] = 38;\r\n        this.sorties[21] = 100;\r\n        this.sorties[22] = 69;\r\n        this.sorties[23] = 44;\r\n        this.sorties[24] = 108;\r\n        this.sorties[25] = 79;\r\n        this.sorties[26] = 53;\r\n        this.sorties[27] = 120;\r\n        this.sorties[28] = 90;\r\n        this.sorties[29] = 60;\r\n        this.eff_s[0] = -1.5;\r\n        this.eff_s[1] = 0;\r\n        this.eff_s[2] = 1.5;\r\n        this.eff_s[3] = -1.5;\r\n        this.eff_s[4] = 0.5;\r\n        this.eff_s[5] = 1.2;\r\n        this.eff_s[6] = -1.3;\r\n        this.eff_s[7] = 0.7;\r\n        this.eff_s[8] = 1.3;\r\n        this.eff_s[9] = -0.5;\r\n        this.eff_s[10] = 1.3;\r\n        this.eff_s[11] = 1.2;\r\n        this.eff_s[12] = -0.5;\r\n        this.eff_s[13] = 1.3;\r\n        this.eff_s[14] = 1.1;\r\n        this.eff_s[15] = -0.3;\r\n        this.eff_s[16] = 0.8;\r\n        this.eff_s[17] = 1.2;\r\n        this.eff_s[18] = 0;\r\n        this.eff_s[19] = 0.7;\r\n        this.eff_s[20] = 1.2;\r\n        this.eff_s[21] = 0;\r\n        this.eff_s[22] = 0.5;\r\n        this.eff_s[23] = 1.5;\r\n        this.eff_s[24] = -0.6;\r\n        this.eff_s[25] = 0.2;\r\n        this.eff_s[26] = 1.5;\r\n        this.eff_s[27] = -0.65;\r\n        this.eff_s[28] = 0;\r\n        this.eff_s[29] = 1.5;\r\n        return;\r\n    }// end function\r\n\r\n    choc_bande(param1) {\r\n        var _loc_2 = NaN;\r\n        if (this.X[param1] > this.XMIN && this.X[param1] < this.XMAX && this.Y[param1] > this.YMIN && this.Y[param1] < this.YMAX)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.X[param1] < this.XMIN && this.Vx[param1] > 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.X[param1] > this.XMAX && this.Vx[param1] < 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.Y[param1] > this.YMAX && this.Vy[param1] < 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.Y[param1] < this.YMIN && this.Vy[param1] > 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.etat[param1] == this.RSG)\r\n        {\r\n            this.Rp[param1] = -this.Vy[param1];\r\n            this.Rq[param1] = this.Vx[param1];\r\n        }\r\n        else if (this.etat[param1] == this.QCQ)\r\n        {\r\n            this.Rp[param1] = -this.Vy[param1] + this.VQy[param1];\r\n            this.Rq[param1] = this.Vx[param1] - this.VQx[param1];\r\n        }\r\n        this.init_pars(param1);\r\n        this.VMz = this.VT - this.VRr;\r\n        this.VN0 = -this.VN;\r\n        this.VN = this.VN * (-this.EPSILON);\r\n        this.deltaVN = this.VN0 + this.VN;\r\n        this.intens = this.VN0 / 20;\r\n        if (this.intens > 1)\r\n        {\r\n            this.intens = 1;\r\n        }\r\n        this.beta_adh = 2 / 7 * Math.sqrt(this.VMz * this.VMz + this.VRq * this.VRq);\r\n        this.beta_gliss = this.f1 * this.deltaVN;\r\n        if (Math.abs(this.VMz) < 1e-005)\r\n        {\r\n            this.alpha_bande = Math.PI / 2;\r\n        }\r\n        else\r\n        {\r\n            this.alpha_bande = Math.abs(Math.atan(this.VRq / this.VMz));\r\n        }\r\n        _loc_2 = Math.abs(this.fp1 * this.deltaVN);\r\n        if (Math.abs(this.VRp) < _loc_2)\r\n        {\r\n            this.VRp = 0;\r\n        }\r\n        else if (this.VRp > 0)\r\n        {\r\n            this.VRp = this.VRp - _loc_2;\r\n        }\r\n        else\r\n        {\r\n            this.VRp = this.VRp + _loc_2;\r\n        }\r\n        _loc_2 = Math.abs(this.f2 * this.deltaVN);\r\n        this.VRq = this.VRq + _loc_2;\r\n        this.choc_adh(param1);\r\n        this.recup_pars(param1);\r\n        this.VQx[param1] = this.Vx[param1] - this.Rq[param1];\r\n        this.VQy[param1] = this.Vy[param1] + this.Rp[param1];\r\n        this.etat[param1] = this.QCQ;\r\n        return true;\r\n    }// end function\r\n\r\n    mise_a_jour(param1) {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = false;\r\n        if (this.etat[param1] == this.RSG)\r\n        {\r\n            _loc_2 = Math.sqrt(this.Vx[param1] * this.Vx[param1] + this.Vy[param1] * this.Vy[param1]);\r\n            if (_loc_2 < this.frpas)\r\n            {\r\n                var _loc_8 = 0;\r\n                this.Vy[param1] = 0;\r\n                this.Vx[param1] = _loc_8;\r\n                var _loc_8 = 0;\r\n                this.Rq[param1] = 0;\r\n                this.Rp[param1] = _loc_8;\r\n                if (Math.abs(this.Rr[param1]) < this.Rfppas)\r\n                {\r\n                    this.date_arret[param1] = this.date * this.pas;\r\n                    this.etat[param1] = this.ARRET;\r\n                    this.Rr[param1] = 0;\r\n                    this.add_clef(param1);\r\n                    return true;\r\n                }\r\n                this.etat[param1] = this.TSP;\r\n            }\r\n            if (this.etat[param1] != this.TSP)\r\n            {\r\n                _loc_3 = 1 - this.frpas / _loc_2;\r\n                this.Vx[param1] = this.Vx[param1] * _loc_3;\r\n                this.Vy[param1] = this.Vy[param1] * _loc_3;\r\n                this.Rp[param1] = -this.Vy[param1];\r\n                this.Rq[param1] = this.Vx[param1];\r\n            }\r\n            if (Math.abs(this.Rr[param1]) < this.Rfppas)\r\n            {\r\n                this.Rr[param1] = 0;\r\n            }\r\n            else if (this.Rr[param1] > 0)\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] - this.Rfppas;\r\n            }\r\n            else\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] + this.Rfppas;\r\n            }\r\n        }\r\n        if (this.etat[param1] == this.QCQ)\r\n        {\r\n            _loc_4 = Math.sqrt(this.VQx[param1] * this.VQx[param1] + this.VQy[param1] * this.VQy[param1]);\r\n            if (_loc_4 < this.delta_fgpas)\r\n            {\r\n                this.etat[param1] = this.RSG;\r\n            }\r\n            else\r\n            {\r\n                _loc_5 = (-this.fgpas) * this.VQx[param1] / _loc_4;\r\n                _loc_6 = (-this.fgpas) * this.VQy[param1] / _loc_4;\r\n                this.Vx[param1] = this.Vx[param1] + _loc_5;\r\n                this.Vy[param1] = this.Vy[param1] + _loc_6;\r\n                _loc_3 = 1 - this.delta_fgpas / _loc_4;\r\n                this.VQx[param1] = this.VQx[param1] * _loc_3;\r\n                this.VQy[param1] = this.VQy[param1] * _loc_3;\r\n            }\r\n            this.Rp[param1] = -this.Vy[param1] + this.VQy[param1];\r\n            this.Rq[param1] = this.Vx[param1] - this.VQx[param1];\r\n            if (Math.abs(this.Rr[param1]) < this.Rfppas)\r\n            {\r\n                this.Rr[param1] = 0;\r\n            }\r\n            else if (this.Rr[param1] > 0)\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] - this.Rfppas;\r\n            }\r\n            else\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] + this.Rfppas;\r\n            }\r\n        }\r\n        if (this.etat[param1] == this.TSP)\r\n        {\r\n            var _loc_8 = 0;\r\n            this.Vy[param1] = 0;\r\n            this.Vx[param1] = _loc_8;\r\n            var _loc_8 = 0;\r\n            this.Rq[param1] = 0;\r\n            this.Rp[param1] = _loc_8;\r\n            if (Math.abs(this.Rr[param1]) < this.Rfppas)\r\n            {\r\n                this.Rr[param1] = 0;\r\n                this.date_arret[param1] = this.date * this.pas;\r\n                this.etat[param1] = this.ARRET;\r\n                return true;\r\n            }\r\n            if (this.Rr[param1] > 0)\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] - 2 * this.Rfppas;\r\n            }\r\n            else\r\n            {\r\n                this.Rr[param1] = this.Rr[param1] + 2 * this.Rfppas;\r\n            }\r\n        }\r\n        this.X[param1] = this.X[param1] + this.Vx[param1] * this.pas;\r\n        this.Y[param1] = this.Y[param1] + this.Vy[param1] * this.pas;\r\n        this.RAp[param1] = this.RAp[param1] + this.Rp[param1] * this.pas;\r\n        this.RAq[param1] = this.RAq[param1] + this.Rq[param1] * this.pas;\r\n        this.RAr[param1] = this.RAr[param1] + this.Rr[param1] * this.pas;\r\n        return false;\r\n    }// end function\r\n\r\n    choc_adh(param1) {\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = 0;\r\n        if (Math.abs(this.VT) < 1e-005)\r\n        {\r\n            _loc_2 = 90;\r\n        }\r\n        else\r\n        {\r\n            _loc_2 = 180 / Math.PI * Math.atan(this.VN0 / this.VT);\r\n        }\r\n        this.effet = 100 * this.R / 2 * this.VRr / Math.sqrt(this.VN0 * this.VN0 + this.VT * this.VT);\r\n        if (this.effet <= -1.5)\r\n        {\r\n            this.effet = -1.499;\r\n        }\r\n        else if (this.effet > 1.5)\r\n        {\r\n            this.effet = 1.499;\r\n        }\r\n        if (Math.abs(this.VT) < 1e-005)\r\n        {\r\n            if (this.effet > 0)\r\n            {\r\n                _loc_3 = this.sorties[9 * 3 + 1] + (this.sorties[9 * 3 + 2] - this.sorties[9 * 3 + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                _loc_3 = this.sorties[9 * 3] + (this.sorties[9 * 3 + 1] - this.sorties[9 * 3]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            _loc_2 = 180 / Math.PI * Math.atan(this.VN0 / this.VT);\r\n            _loc_10 = parseInt(_loc_2 / 10);\r\n            if (this.effet > 0)\r\n            {\r\n                _loc_4 = this.sorties[3 * _loc_10 + 1] + (this.sorties[3 * _loc_10 + 2] - this.sorties[3 * _loc_10 + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                _loc_4 = this.sorties[3 * _loc_10 + 0] + (this.sorties[3 * _loc_10 + 1] - this.sorties[3 * _loc_10 + 0]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n            if (this.effet > 0)\r\n            {\r\n                _loc_5 = this.sorties[3 * (_loc_10 + 1) + 1] + (this.sorties[3 * (_loc_10 + 1) + 2] - this.sorties[3 * (_loc_10 + 1) + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                _loc_5 = this.sorties[3 * (_loc_10 + 1) + 0] + (this.sorties[3 * (_loc_10 + 1) + 1] - this.sorties[3 * (_loc_10 + 1) + 0]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n            _loc_3 = _loc_4 + (_loc_5 - _loc_4) / 10 * (_loc_2 - 10 * _loc_10);\r\n        }\r\n        if (Math.abs(_loc_3 - 90) < 1e-005)\r\n        {\r\n            this.VT = 0;\r\n        }\r\n        else if (_loc_3 < 90)\r\n        {\r\n            this.VT = this.VN / Math.tan(_loc_3 / 180 * Math.PI);\r\n        }\r\n        else\r\n        {\r\n            this.VT = (-this.VN) * Math.tan((_loc_3 - 90) / 180 * Math.PI);\r\n        }\r\n        if (Math.abs(this.VT) < 1e-005)\r\n        {\r\n            if (this.effet > 0)\r\n            {\r\n                this.e_s = this.eff_s[9 * 3 + 1] + (this.eff_s[9 * 3 + 2] - this.eff_s[9 * 3 + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                this.e_s = this.eff_s[9 * 3 + 0] + (this.eff_s[9 * 3 + 1] - this.eff_s[9 * 3 + 0]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (this.effet > 0)\r\n            {\r\n                _loc_6 = this.eff_s[3 * _loc_10 + 1] + (this.eff_s[3 * _loc_10 + 2] - this.eff_s[3 * _loc_10 + 1]) * (this.effet / 1.5);\r\n                _loc_7 = this.eff_s[3 * (_loc_10 + 1) + 1] + (this.eff_s[3 * (_loc_10 + 1) + 2] - this.eff_s[3 * (_loc_10 + 1) + 1]) * (this.effet / 1.5);\r\n            }\r\n            else\r\n            {\r\n                _loc_6 = this.eff_s[3 * _loc_10 + 0] + (this.eff_s[3 * _loc_10 + 1] - this.eff_s[3 * _loc_10 + 0]) * (this.effet + 1.5) / 1.5;\r\n                _loc_7 = this.eff_s[3 * (_loc_10 + 1) + 0] + (this.eff_s[3 * (_loc_10 + 1) + 1] - this.eff_s[3 * (_loc_10 + 1) + 0]) * (this.effet + 1.5) / 1.5;\r\n            }\r\n            this.e_s = _loc_6 + (_loc_7 - _loc_6) / 10 * (_loc_2 - 10 * _loc_10);\r\n        }\r\n        _loc_9 = (5 * this.VN + 2 * this.VRq) / 7;\r\n        _loc_8 = (5 * this.VT - 2 * this.VRp) / 7;\r\n        this.VRr = 0.02 * this.e_s / this.R * Math.sqrt(_loc_9 * _loc_9 + _loc_8 * _loc_8);\r\n        return;\r\n    }// end function\r\n\r\n    recup_pars(param1) {\r\n        if (this.X[param1] > this.XMAX && this.Vx[param1] > 0)\r\n        {\r\n            this.Vx[param1] = -this.VN;\r\n            this.Rq[param1] = -this.VRq;\r\n            if (this.Vy[param1] > 0)\r\n            {\r\n                this.Vy[param1] = this.VT;\r\n                this.Rp[param1] = this.VRp;\r\n                this.Rr[param1] = -this.VRr;\r\n            }\r\n            else\r\n            {\r\n                this.Vy[param1] = -this.VT;\r\n                this.Rp[param1] = -this.VRp;\r\n                this.Rr[param1] = this.VRr;\r\n            }\r\n        }\r\n        if (this.X[param1] < this.XMIN && this.Vx[param1] < 0)\r\n        {\r\n            this.Vx[param1] = this.VN;\r\n            this.Rq[param1] = this.VRq;\r\n            if (this.Vy[param1] > 0)\r\n            {\r\n                this.Vy[param1] = this.VT;\r\n                this.Rp[param1] = this.VRp;\r\n                this.Rr[param1] = this.VRr;\r\n            }\r\n            else\r\n            {\r\n                this.Vy[param1] = -this.VT;\r\n                this.Rp[param1] = -this.VRp;\r\n                this.Rr[param1] = -this.VRr;\r\n            }\r\n        }\r\n        if (this.Y[param1] < this.YMIN && this.Vy[param1] < 0)\r\n        {\r\n            this.Vy[param1] = this.VN;\r\n            this.Rp[param1] = -this.VRq;\r\n            if (this.Vx[param1] > 0)\r\n            {\r\n                this.Vx[param1] = this.VT;\r\n                this.Rq[param1] = -this.VRp;\r\n                this.Rr[param1] = -this.VRr;\r\n            }\r\n            else\r\n            {\r\n                this.Vx[param1] = -this.VT;\r\n                this.Rq[param1] = this.VRp;\r\n                this.Rr[param1] = this.VRr;\r\n            }\r\n        }\r\n        if (this.Y[param1] > this.YMAX && this.Vy[param1] > 0)\r\n        {\r\n            this.Vy[param1] = -this.VN;\r\n            this.Rp[param1] = this.VRq;\r\n            if (this.Vx[param1] > 0)\r\n            {\r\n                this.Vx[param1] = this.VT;\r\n                this.Rq[param1] = -this.VRp;\r\n                this.Rr[param1] = this.VRr;\r\n            }\r\n            else\r\n            {\r\n                this.Vx[param1] = -this.VT;\r\n                this.Rq[param1] = this.VRp;\r\n                this.Rr[param1] = -this.VRr;\r\n            }\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    Symetrise_Params(param1, param2) {\r\n        if (param2 == 1 || param2 == 4)\r\n        {\r\n            this.X[param1] = -this.X[param1];\r\n            this.Vx[param1] = -this.Vx[param1];\r\n            this.VQx[param1] = -this.VQx[param1];\r\n        }\r\n        if (param2 == 3 || param2 == 4)\r\n        {\r\n            this.Y[param1] = -this.Y[param1];\r\n            this.Vy[param1] = -this.Vy[param1];\r\n            this.VQy[param1] = -this.VQy[param1];\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    choc_gliss(param1) {\r\n        if (this.VMz > 0)\r\n        {\r\n            this.VT = this.VT - this.beta_gliss * Math.cos(this.alpha_bande);\r\n            this.VRr = this.VRr + 2.5 * this.beta_gliss * Math.cos(this.alpha_bande);\r\n        }\r\n        else\r\n        {\r\n            this.VT = this.VT + this.beta_gliss * Math.cos(this.alpha_bande);\r\n            this.VRr = this.VRr - 2.5 * this.beta_gliss * Math.cos(this.alpha_bande);\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    choc_billes(param1) {\r\n        var _loc_3 = 0;\r\n        var _loc_4 = 0;\r\n        var _loc_6 = false;\r\n        var _loc_7 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = 0;\r\n        var _loc_10 = NaN;\r\n        var _loc_11 = NaN;\r\n        var _loc_12 = NaN;\r\n        var _loc_13 = NaN;\r\n        var _loc_14 = NaN;\r\n        var _loc_15 = NaN;\r\n        var _loc_16 = NaN;\r\n        var _loc_17 = NaN;\r\n        var _loc_18 = NaN;\r\n        var _loc_19 = NaN;\r\n        var _loc_20 = NaN;\r\n        var _loc_21 = NaN;\r\n        var _loc_22 = NaN;\r\n        var _loc_23 = NaN;\r\n        var _loc_24 = NaN;\r\n        var _loc_25 = NaN;\r\n        var _loc_26 = NaN;\r\n        var _loc_27 = NaN;\r\n        var _loc_28 = NaN;\r\n        var _loc_29 = 0;\r\n        var _loc_2 = false;\r\n        var _loc_5 = [];\r\n        _loc_3 = 0;\r\n        while (_loc_3 < 16)\r\n        {\r\n            \r\n            _loc_5[_loc_3] = false;\r\n            _loc_3++;\r\n        }\r\n        _loc_3 = 0;\r\n        while (_loc_3 < 16)\r\n        {\r\n            \r\n            if (this.etat[_loc_3] != this.EMPOCHEE && !_loc_5[_loc_3])\r\n            {\r\n                _loc_6 = false;\r\n                _loc_9 = _loc_3 + 1;\r\n                while (_loc_9 < 16 && !_loc_6)\r\n                {\r\n                    \r\n                    if (this.etat[_loc_9] != this.EMPOCHEE)\r\n                    {\r\n                        _loc_7 = (this.X[_loc_3] - this.X[_loc_9]) * (this.X[_loc_3] - this.X[_loc_9]) + (this.Y[_loc_3] - this.Y[_loc_9]) * (this.Y[_loc_3] - this.Y[_loc_9]);\r\n                        if (_loc_7 < this.D * this.D && (this.etat[_loc_3] != this.ARRET || this.etat[_loc_9] != this.ARRET))\r\n                        {\r\n                            if ((this.Vx[_loc_3] - this.Vx[_loc_9]) * (this.X[_loc_9] - this.X[_loc_3]) + (this.Vy[_loc_3] - this.Vy[_loc_9]) * (this.Y[_loc_9] - this.Y[_loc_3]) > 0)\r\n                            {\r\n                                _loc_6 = true;\r\n                                var _loc_30 = true;\r\n                                _loc_5[_loc_9] = true;\r\n                                _loc_5[_loc_3] = _loc_30;\r\n                                _loc_4 = _loc_9;\r\n                                _loc_2 = true;\r\n                                param1[0] = _loc_3;\r\n                                param1[1] = _loc_4;\r\n                            }\r\n                        }\r\n                    }\r\n                    _loc_9++;\r\n                }\r\n                if (_loc_6)\r\n                {\r\n                    var _loc_30 = false;\r\n                    this.immobile[_loc_4] = false;\r\n                    this.immobile[_loc_3] = _loc_30;\r\n                    this.add_clef(_loc_3);\r\n                    this.add_clef(_loc_4);\r\n                    _loc_5[_loc_3] = true;\r\n                    if (this.etat[_loc_3] == this.RSG)\r\n                    {\r\n                        this.Rp[_loc_3] = -this.Vy[_loc_3];\r\n                        this.Rq[_loc_3] = this.Vx[_loc_3];\r\n                    }\r\n                    if (this.etat[_loc_3] == this.QCQ)\r\n                    {\r\n                        this.Rp[_loc_3] = -this.Vy[_loc_3] + this.VQy[_loc_3];\r\n                        this.Rq[_loc_3] = this.Vx[_loc_3] - this.VQx[_loc_3];\r\n                    }\r\n                    if (this.etat[_loc_3] == this.ARRET)\r\n                    {\r\n                        this.Rp[_loc_3] = 0;\r\n                        this.Rq[_loc_3] = 0;\r\n                    }\r\n                    _loc_5[_loc_4] = true;\r\n                    if (this.etat[_loc_4] == this.RSG)\r\n                    {\r\n                        this.Rp[_loc_4] = -this.Vy[_loc_4];\r\n                        this.Rq[_loc_4] = this.Vx[_loc_4];\r\n                    }\r\n                    if (this.etat[_loc_4] == this.QCQ)\r\n                    {\r\n                        this.Rp[_loc_4] = -this.Vy[_loc_4] + this.VQy[_loc_4];\r\n                        this.Rq[_loc_4] = this.Vx[_loc_4] - this.VQx[_loc_4];\r\n                    }\r\n                    if (this.etat[_loc_4] == this.ARRET)\r\n                    {\r\n                        this.Rp[_loc_4] = 0;\r\n                        this.Rq[_loc_4] = 0;\r\n                    }\r\n                    _loc_18 = this.Vx[_loc_3] * (this.X[_loc_4] - this.X[_loc_3]) + this.Vy[_loc_3] * (this.Y[_loc_4] - this.Y[_loc_3]);\r\n                    _loc_10 = _loc_18 * (this.X[_loc_4] - this.X[_loc_3]) / _loc_7;\r\n                    _loc_11 = _loc_18 * (this.Y[_loc_4] - this.Y[_loc_3]) / _loc_7;\r\n                    _loc_12 = this.Vx[_loc_3] - _loc_10;\r\n                    _loc_13 = this.Vy[_loc_3] - _loc_11;\r\n                    _loc_19 = this.Vx[_loc_4] * (this.X[_loc_3] - this.X[_loc_4]) + this.Vy[_loc_4] * (this.Y[_loc_3] - this.Y[_loc_4]);\r\n                    _loc_14 = _loc_19 * (this.X[_loc_3] - this.X[_loc_4]) / _loc_7;\r\n                    _loc_15 = _loc_19 * (this.Y[_loc_3] - this.Y[_loc_4]) / _loc_7;\r\n                    _loc_16 = this.Vx[_loc_4] - _loc_14;\r\n                    _loc_17 = this.Vy[_loc_4] - _loc_15;\r\n                    _loc_21 = _loc_10 - _loc_14;\r\n                    _loc_22 = _loc_11 - _loc_15;\r\n                    this.intens = (_loc_21 * _loc_21 + _loc_22 * _loc_22) / 5;\r\n                    if (this.intens > 1)\r\n                    {\r\n                        this.intens = 1;\r\n                    }\r\n                    this.evts_son[this.nb_sons] = new son();\r\n                    this.evts_son[this.nb_sons].played = false;\r\n                    this.evts_son[this.nb_sons].temps = this.date * this.pas;\r\n                    this.evts_son[this.nb_sons].intensite = this.intens;\r\n                    this.evts_son[this.nb_sons].type_choc = 2;\r\n                    var _loc_30 = this;\r\n                    var _loc_31 = this.nb_sons + 1;\r\n                    _loc_30.nb_sons = _loc_31;\r\n                    _loc_20 = _loc_10;\r\n                    _loc_10 = _loc_14;\r\n                    _loc_14 = _loc_20;\r\n                    _loc_14 = _loc_14 * this.RendementChoc;\r\n                    _loc_10 = _loc_10 * this.RendementChoc;\r\n                    _loc_20 = _loc_11;\r\n                    _loc_11 = _loc_15;\r\n                    _loc_15 = _loc_20;\r\n                    _loc_15 = _loc_15 * this.RendementChoc;\r\n                    _loc_11 = _loc_11 * this.RendementChoc;\r\n                    this.Vx[_loc_3] = _loc_10 + _loc_12;\r\n                    this.Vy[_loc_3] = _loc_11 + _loc_13;\r\n                    this.VQx[_loc_3] = this.Vx[_loc_3] - this.Rq[_loc_3];\r\n                    this.VQy[_loc_3] = this.Vy[_loc_3] + this.Rp[_loc_3];\r\n                    if (this.etat[_loc_4] == this.ARRET)\r\n                    {\r\n                        this.Vx[_loc_4] = this.Vx[_loc_4] * 0.94;\r\n                        this.Vy[_loc_4] = this.Vy[_loc_4] * 0.94;\r\n                        _loc_8 = Math.sqrt(_loc_7);\r\n                        _loc_18 = _loc_18 / _loc_8;\r\n                        _loc_18 = Math.abs(_loc_18);\r\n                        _loc_27 = this.fbille * _loc_18;\r\n                        _loc_23 = Math.abs(this.Rp[_loc_3] * (this.Y[_loc_4] - this.Y[_loc_3]) - this.Rq[_loc_3] * (this.X[_loc_4] - this.X[_loc_3])) / _loc_8;\r\n                        _loc_25 = (this.Vx[_loc_3] * (this.Y[_loc_4] - this.Y[_loc_3]) - this.Vy[_loc_3] * (this.X[_loc_4] - this.X[_loc_3])) / _loc_8;\r\n                        _loc_26 = _loc_25 - this.Rr[_loc_3];\r\n                        if (Math.abs(_loc_26) < 1e-005)\r\n                        {\r\n                            _loc_24 = Math.PI / 2;\r\n                        }\r\n                        else\r\n                        {\r\n                            _loc_24 = Math.abs(Math.atan(_loc_23 / _loc_26));\r\n                        }\r\n                        if (_loc_26 > 0)\r\n                        {\r\n                            _loc_29 = 1;\r\n                        }\r\n                        else\r\n                        {\r\n                            _loc_29 = -1;\r\n                        }\r\n                        _loc_28 = _loc_29 * _loc_27 * Math.cos(_loc_24);\r\n                        this.Rr[_loc_4] = 2.5 * _loc_28;\r\n                        this.Rr[_loc_3] = this.Rr[_loc_3] - 2.5 * _loc_28;\r\n                        _loc_16 = _loc_28 * (this.Y[_loc_4] - this.Y[_loc_3]) / _loc_8;\r\n                        _loc_17 = (-_loc_28) * (this.X[_loc_4] - this.X[_loc_3]) / _loc_8;\r\n                    }\r\n                    this.Vx[_loc_4] = _loc_14 + _loc_16;\r\n                    this.Vy[_loc_4] = _loc_15 + _loc_17;\r\n                    this.VQx[_loc_4] = this.Vx[_loc_4] - this.Rq[_loc_4];\r\n                    this.VQy[_loc_4] = this.Vy[_loc_4] + this.Rp[_loc_4];\r\n                    this.etat[_loc_4] = this.QCQ;\r\n                    this.etat[_loc_3] = this.QCQ;\r\n                }\r\n            }\r\n            _loc_3++;\r\n        }\r\n        return _loc_2;\r\n    }// end function\r\n\r\n    fin_parcours() {\r\n        var _loc_1 = 0;\r\n        _loc_1 = 0;\r\n        while (_loc_1 < 16)\r\n        {\r\n            \r\n            if (this.etat[_loc_1] != this.ARRET && this.etat[_loc_1] != this.EMPOCHEE)\r\n            {\r\n                if (this.Vx[_loc_1] * this.Vx[_loc_1] + this.Vy[_loc_1] * this.Vy[_loc_1] < this.frpas * this.frpas)\r\n                {\r\n                    if (Math.abs(this.Rr[_loc_1]) < this.Rfppas)\r\n                    {\r\n                        this.date_arret[_loc_1] = this.date * this.pas;\r\n                        this.etat[_loc_1] = this.ARRET;\r\n                        var _loc_2 = 0;\r\n                        this.Vy[_loc_1] = 0;\r\n                        this.Vx[_loc_1] = _loc_2;\r\n                        var _loc_2 = 0;\r\n                        this.Rr[_loc_1] = 0;\r\n                        this.Rq[_loc_1] = _loc_2;\r\n                        this.Rp[_loc_1] = _loc_2;\r\n                    }\r\n                    else\r\n                    {\r\n                        this.etat[_loc_1] = this.TSP;\r\n                        return false;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n            _loc_1++;\r\n        }\r\n        return true;\r\n    }// end function\r\n\r\n    choc_poche(param1, param2) {\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = NaN;\r\n        if (this.etat[param1] == this.RSG)\r\n        {\r\n            this.Rp[param1] = -this.Vy[param1];\r\n            this.Rq[param1] = this.Vx[param1];\r\n        }\r\n        else if (this.etat[param1] == this.QCQ)\r\n        {\r\n            this.Rp[param1] = -this.Vy[param1] + this.VQy[param1];\r\n            this.Rq[param1] = this.Vx[param1] - this.VQx[param1];\r\n        }\r\n        _loc_3 = this.Vx[param1] * Math.cos(param2) + this.Vy[param1] * Math.sin(param2);\r\n        _loc_4 = (-this.Vx[param1]) * Math.sin(param2) + this.Vy[param1] * Math.cos(param2);\r\n        _loc_3 = _loc_3 * (-this.EPSILON_COIN);\r\n        this.Vx[param1] = _loc_3 * Math.cos(param2) - _loc_4 * Math.sin(param2);\r\n        this.Vy[param1] = _loc_3 * Math.sin(param2) + _loc_4 * Math.cos(param2);\r\n        this.VQx[param1] = this.Vx[param1] - this.Rq[param1];\r\n        this.VQy[param1] = this.Vy[param1] + this.Rp[param1];\r\n        this.etat[param1] = this.QCQ;\r\n        return;\r\n    }// end function\r\n\r\n    add_clef(param1) {\r\n        var _loc_2 = 0;\r\n        var _loc_3 = this.nb_max_clefs * param1 + this.nb_clefs[param1];\r\n        this.evts[_loc_3] = new evt();\r\n        this.evts[_loc_3].X = this.X[param1];\r\n        this.evts[_loc_3].Y = this.Y[param1];\r\n        this.evts[_loc_3].RAp = this.RAp[param1];\r\n        this.evts[_loc_3].RAq = this.RAq[param1];\r\n        this.evts[_loc_3].RAr = this.RAr[param1];\r\n        this.evts[_loc_3].time = this.date * this.pas;\r\n        var _loc_4 = this.nb_clefs;\r\n        var _loc_5 = param1;\r\n        var _loc_6 = _loc_4[param1] + 1;\r\n        _loc_4[_loc_5] = _loc_6;\r\n        this.X0[param1] = this.X[param1];\r\n        this.Y0[param1] = this.Y[param1];\r\n        this.RAp0[param1] = this.RAp[param1];\r\n        this.RAq0[param1] = this.RAq[param1];\r\n        this.RAr0[param1] = this.RAr[param1];\r\n        return;\r\n    }// end function\r\n\r\n    init_pars(param1) {\r\n        if (this.X[param1] > this.XMAX && this.Vx[param1] > 0)\r\n        {\r\n            this.VN = -this.Vx[param1];\r\n            this.VRq = -this.Rq[param1];\r\n            if (this.Vy[param1] > 0)\r\n            {\r\n                this.VT = this.Vy[param1];\r\n                this.VRp = this.Rp[param1];\r\n                this.VRr = -this.Rr[param1];\r\n            }\r\n            else\r\n            {\r\n                this.VT = -this.Vy[param1];\r\n                this.VRp = -this.Rp[param1];\r\n                this.VRr = this.Rr[param1];\r\n            }\r\n        }\r\n        if (this.X[param1] < this.XMIN && this.Vx[param1] < 0)\r\n        {\r\n            this.VN = this.Vx[param1];\r\n            this.VRq = this.Rq[param1];\r\n            if (this.Vy[param1] > 0)\r\n            {\r\n                this.VT = this.Vy[param1];\r\n                this.VRp = this.Rp[param1];\r\n                this.VRr = this.Rr[param1];\r\n            }\r\n            else\r\n            {\r\n                this.VT = -this.Vy[param1];\r\n                this.VRp = -this.Rp[param1];\r\n                this.VRr = -this.Rr[param1];\r\n            }\r\n        }\r\n        if (this.Y[param1] < this.YMIN && this.Vy[param1] < 0)\r\n        {\r\n            this.VN = this.Vy[param1];\r\n            this.VRq = -this.Rp[param1];\r\n            if (this.Vx[param1] > 0)\r\n            {\r\n                this.VT = this.Vx[param1];\r\n                this.VRp = -this.Rq[param1];\r\n                this.VRr = -this.Rr[param1];\r\n            }\r\n            else\r\n            {\r\n                this.VT = -this.Vx[param1];\r\n                this.VRp = this.Rq[param1];\r\n                this.VRr = this.Rr[param1];\r\n            }\r\n        }\r\n        if (this.Y[param1] > this.YMAX && this.Vy[param1] > 0)\r\n        {\r\n            this.VN = -this.Vy[param1];\r\n            this.VRq = this.Rp[param1];\r\n            if (this.Vx[param1] > 0)\r\n            {\r\n                this.VT = this.Vx[param1];\r\n                this.VRp = -this.Rq[param1];\r\n                this.VRr = this.Rr[param1];\r\n            }\r\n            else\r\n            {\r\n                this.VT = -this.Vx[param1];\r\n                this.VRp = this.Rq[param1];\r\n                this.VRr = -this.Rr[param1];\r\n            }\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    Calcul(param1) {\r\n        var _loc_2 = 0;\r\n        var _loc_3 = 0;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = 0;\r\n        var _loc_9 = NaN;\r\n        var _loc_4 = [0, 0];\r\n        _loc_2 = 0;\r\n        while (_loc_2 < 16)\r\n        {\r\n            \r\n            this.nb_clefs[_loc_2] = 0;\r\n            _loc_3 = 0;\r\n            while (_loc_3 < this.nb_max_clefs)\r\n            {\r\n                \r\n                this.evts[this.nb_max_clefs * _loc_2 + _loc_3] = null;\r\n                _loc_3++;\r\n            }\r\n            _loc_2++;\r\n        }\r\n        this.nb_sons = 0;\r\n        _loc_2 = 0;\r\n        while (_loc_2 < this.nb_max_sons)\r\n        {\r\n            \r\n            this.evts_son[_loc_2] = null;\r\n            _loc_2++;\r\n        }\r\n        _loc_2 = 0;\r\n        while (_loc_2 < 16)\r\n        {\r\n            \r\n            this.X[_loc_2] = param1.Xinit[_loc_2];\r\n            this.Y[_loc_2] = param1.Yinit[_loc_2];\r\n            this.RAp[_loc_2] = param1.RApInit[_loc_2];\r\n            this.RAq[_loc_2] = param1.RAqInit[_loc_2];\r\n            this.RAr[_loc_2] = param1.RArInit[_loc_2];\r\n            this.add_clef(_loc_2);\r\n            _loc_2++;\r\n        }\r\n        this.el = param1.el;\r\n        this.er = param1.er;\r\n        this.alph = param1.alphaQ;\r\n        this.beta = param1.betaQ;\r\n        this.vqueue = param1.Vqueue;\r\n        this.calculs_finis = false;\r\n        this.nbandes = 0;\r\n        this.done = false;\r\n        this.distance13 = 2;\r\n        this.first_bille_choquee = 0;\r\n        this.choc12 = false;\r\n        this.choc13 = false;\r\n        this.done = false;\r\n        this.deltaclef = this.resolution;\r\n        this.date = 0;\r\n        this.beta = this.beta + Math.PI;\r\n        this.Vinit = 1.4 * this.vqueue * Math.cos(this.alph / 1.2);\r\n        _loc_5 = -2 * this.Vinit / Math.cos(this.alph / 1.1) * this.er / this.R;\r\n        var _loc_8 = Math.PI / 20;\r\n        if (this.alph > _loc_8)\r\n        {\r\n            _loc_9 = Math.PI / 2 / (Math.PI / 2 - _loc_8) * (this.alph - _loc_8);\r\n        }\r\n        else\r\n        {\r\n            _loc_9 = 0;\r\n        }\r\n        _loc_6 = 4 * this.vqueue * Math.sin(_loc_9) * this.el / this.R;\r\n        this.Vx[0] = this.Vinit * Math.cos(this.beta);\r\n        this.Vx0 = this.Vx[0];\r\n        this.Vy[0] = this.Vinit * Math.sin(this.beta);\r\n        this.Vy0 = this.Vy[0];\r\n        var _loc_10 = _loc_5 * Math.sin(this.beta) + _loc_6 * Math.cos(this.beta);\r\n        this.Rp[0] = _loc_5 * Math.sin(this.beta) + _loc_6 * Math.cos(this.beta);\r\n        this.p0 = _loc_10;\r\n        var _loc_10 = (-_loc_5) * Math.cos(this.beta) + _loc_6 * Math.sin(this.beta);\r\n        this.Rq[0] = (-_loc_5) * Math.cos(this.beta) + _loc_6 * Math.sin(this.beta);\r\n        this.q0 = _loc_10;\r\n        var _loc_10 = 2 * this.el / this.R * this.Vinit;\r\n        this.Rr[0] = 2 * this.el / this.R * this.Vinit;\r\n        this.r0 = _loc_10;\r\n        this.VQx[0] = this.Vx[0] - this.Rq[0];\r\n        this.VQy[0] = this.Vy[0] + this.Rp[0];\r\n        this.etat[0] = this.QCQ;\r\n        this.time_empochee[0] = 1000;\r\n        this.immobile[0] = false;\r\n        this.date_arret[0] = 1000;\r\n        _loc_2 = 1;\r\n        while (_loc_2 < 16)\r\n        {\r\n            \r\n            this.Vx[_loc_2] = 0;\r\n            this.Vy[_loc_2] = 0;\r\n            this.VQx[_loc_2] = 0;\r\n            this.VQy[_loc_2] = 0;\r\n            this.Rp[_loc_2] = 0;\r\n            this.Rq[_loc_2] = 0;\r\n            this.Rr[_loc_2] = 0;\r\n            if (param1.empocheeInit[_loc_2])\r\n            {\r\n                this.etat[_loc_2] = this.EMPOCHEE;\r\n                this.time_empochee[_loc_2] = 0;\r\n            }\r\n            else\r\n            {\r\n                this.etat[_loc_2] = this.ARRET;\r\n                this.time_empochee[_loc_2] = 1000;\r\n                this.immobile[_loc_2] = true;\r\n                this.date_arret[_loc_2] = 1000;\r\n                this.add_clef(_loc_2);\r\n            }\r\n            _loc_2++;\r\n        }\r\n        this.evts_son[this.nb_sons] = new son();\r\n        this.evts_son[this.nb_sons].played = false;\r\n        this.evts_son[this.nb_sons].temps = 0;\r\n        this.evts_son[this.nb_sons].intensite = this.Vinit / 5.4;\r\n        if (this.alph > Math.PI / 4)\r\n        {\r\n            this.evts_son[this.nb_sons].type_choc = 0;\r\n        }\r\n        else\r\n        {\r\n            this.evts_son[this.nb_sons].type_choc = 1;\r\n        }\r\n        var _loc_10 = this;\r\n        var _loc_11 = this.nb_sons + 1;\r\n        _loc_10.nb_sons = _loc_11;\r\n        while (!this.fin_parcours())\r\n        {\r\n            \r\n            var _loc_10 = this;\r\n            var _loc_11 = this.date + 1;\r\n            _loc_10.date = _loc_11;\r\n            if (this.choc_billes(_loc_4))\r\n            {\r\n            }\r\n            _loc_2 = 0;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                if (this.etat[_loc_2] != this.ARRET && this.etat[_loc_2] != this.EMPOCHEE)\r\n                {\r\n                    _loc_7 = this.traiter_poches(_loc_2);\r\n                    if (_loc_7 == 1)\r\n                    {\r\n                        if (this.choc_bande(_loc_2))\r\n                        {\r\n                            this.add_clef(_loc_2);\r\n                            this.evts_son[this.nb_sons] = new son();\r\n                            this.evts_son[this.nb_sons].played = false;\r\n                            this.evts_son[this.nb_sons].temps = this.date * this.pas;\r\n                            this.evts_son[this.nb_sons].intensite = this.intens;\r\n                            this.evts_son[this.nb_sons].type_choc = 3;\r\n                            var _loc_10 = this;\r\n                            var _loc_11 = this.nb_sons + 1;\r\n                            _loc_10.nb_sons = _loc_11;\r\n                        }\r\n                    }\r\n                    if (_loc_7 == 3)\r\n                    {\r\n                        this.add_clef(_loc_2);\r\n                    }\r\n                    if (_loc_7 == 4)\r\n                    {\r\n                        this.add_clef(_loc_2);\r\n                        this.evts_son[this.nb_sons] = new son();\r\n                        this.evts_son[this.nb_sons].played = false;\r\n                        this.evts_son[this.nb_sons].temps = this.date * this.pas;\r\n                        this.evts_son[this.nb_sons].intensite = 0.8;\r\n                        this.evts_son[this.nb_sons].type_choc = 4;\r\n                        var _loc_10 = this;\r\n                        var _loc_11 = this.nb_sons + 1;\r\n                        _loc_10.nb_sons = _loc_11;\r\n                    }\r\n                    if (this.mise_a_jour(_loc_2))\r\n                    {\r\n                        this.add_clef(_loc_2);\r\n                    }\r\n                }\r\n                if (Math.abs(this.X[_loc_2] - this.X0[_loc_2]) > this.deltaclef || Math.abs(this.Y[_loc_2] - this.Y0[_loc_2]) > this.deltaclef || Math.abs(this.RAp[_loc_2] - this.RAp0[_loc_2]) > this.deltaclefRot || Math.abs(this.RAq[_loc_2] - this.RAq0[_loc_2]) > this.deltaclefRot || Math.abs(this.RAr[_loc_2] - this.RAr0[_loc_2]) > this.deltaclefRot)\r\n                {\r\n                    this.add_clef(_loc_2);\r\n                }\r\n                _loc_2++;\r\n            }\r\n        }\r\n        if (this.fin_parcours())\r\n        {\r\n            this.calculs_finis = true;\r\n            _loc_2 = 0;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                this.Xfin[_loc_2] = this.X[_loc_2];\r\n                this.Yfin[_loc_2] = this.Y[_loc_2];\r\n                this.RApfin[_loc_2] = this.RAp[_loc_2];\r\n                this.RAqfin[_loc_2] = this.RAq[_loc_2];\r\n                this.RArfin[_loc_2] = this.RAr[_loc_2];\r\n                this.empochee_fin[_loc_2] = this.etat[_loc_2] == this.EMPOCHEE;\r\n                this.add_clef(_loc_2);\r\n                _loc_2++;\r\n            }\r\n            this.duree = this.date * this.pas;\r\n        }\r\n        else\r\n        {\r\n            _loc_2 = 0;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                this.add_clef(_loc_2);\r\n                _loc_2++;\r\n            }\r\n        }\r\n        return this.evts;\r\n    }// end function\r\n\r\n    traiter_poches(param1) {\r\n        var _loc_2 = 0;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = NaN;\r\n        var _loc_8 = NaN;\r\n        if (this.X[param1] > 0 && this.Y[param1] > 0)\r\n        {\r\n            _loc_2 = 1;\r\n        }\r\n        if (this.X[param1] < 0 && this.Y[param1] > 0)\r\n        {\r\n            _loc_2 = 2;\r\n        }\r\n        if (this.X[param1] < 0 && this.Y[param1] < 0)\r\n        {\r\n            _loc_2 = 3;\r\n        }\r\n        if (this.X[param1] > 0 && this.Y[param1] < 0)\r\n        {\r\n            _loc_2 = 4;\r\n        }\r\n        this.Symetrise_Params(param1, _loc_2);\r\n        var _loc_3 = 0;\r\n        if (Math.sqrt((this.X[param1] - this.XTROU) * (this.X[param1] - this.XTROU) + (this.Y[param1] - this.YTROU) * (this.Y[param1] - this.YTROU)) < this.RTROU)\r\n        {\r\n            this.etat[param1] = this.EMPOCHEE;\r\n            this.time_empochee[param1] = this.date * this.pas;\r\n            _loc_3 = 4;\r\n            this.Symetrise_Params(param1, _loc_2);\r\n            return _loc_3;\r\n        }\r\n        if (Math.sqrt((this.X[param1] - this.XTROU2) * (this.X[param1] - this.XTROU2) + (this.Y[param1] - this.YTROU2) * (this.Y[param1] - this.YTROU2)) < this.RTROU)\r\n        {\r\n            this.etat[param1] = this.EMPOCHEE;\r\n            this.time_empochee[param1] = this.date * this.pas;\r\n            _loc_3 = 4;\r\n            this.Symetrise_Params(param1, _loc_2);\r\n            return _loc_3;\r\n        }\r\n        if (this.X[param1] < this.XMIN)\r\n        {\r\n            if (this.Y[param1] < this.YA && this.Vx[param1] < 0)\r\n            {\r\n                _loc_3 = 1;\r\n            }\r\n            else\r\n            {\r\n                _loc_4 = Math.sqrt((this.X[param1] - this.XA) * (this.X[param1] - this.XA) + (this.Y[param1] - this.YA) * (this.Y[param1] - this.YA));\r\n                _loc_6 = 5 * Math.PI / 180;\r\n                if (_loc_4 < this.R)\r\n                {\r\n                    if (this.Vx[param1] * (this.X[param1] - this.XA) + this.Vy[param1] * (this.Y[param1] - this.YA) < 0)\r\n                    {\r\n                        _loc_5 = Math.acos((this.X[param1] - this.XA) / _loc_4);\r\n                        this.choc_poche(param1, _loc_5);\r\n                        _loc_3 = 3;\r\n                    }\r\n                }\r\n                else if (this.Y[param1] > this.YB && (this.Vy[param1] < 0 || Math.atan((-this.Vy[param1]) / this.Vx[param1]) < this.angle_poche_coin) && this.Y[param1] < this.a1 * this.X[param1] + this.b1)\r\n                {\r\n                    this.choc_poche(param1, Math.PI / 2 - this.angle_poche_coin);\r\n                    _loc_3 = 3;\r\n                }\r\n                else\r\n                {\r\n                    _loc_3 = 2;\r\n                }\r\n            }\r\n        }\r\n        if (this.Y[param1] > this.YMAX)\r\n        {\r\n            if (this.X[param1] > this.XC && this.X[param1] < this.XE && this.Vy[param1] > 0)\r\n            {\r\n                _loc_3 = 1;\r\n            }\r\n            else if (this.X[param1] < this.XC)\r\n            {\r\n                _loc_7 = Math.sqrt((this.X[param1] - this.XC) * (this.X[param1] - this.XC) + (this.Y[param1] - this.YC) * (this.Y[param1] - this.YC));\r\n                if (_loc_7 < this.R)\r\n                {\r\n                    if (this.Vx[param1] * (this.X[param1] - this.XC) + this.Vy[param1] * (this.Y[param1] - this.YC) < 0)\r\n                    {\r\n                        _loc_5 = Math.acos((this.XC - this.X[param1]) / _loc_7);\r\n                        this.choc_poche(param1, _loc_5);\r\n                        _loc_3 = 3;\r\n                    }\r\n                }\r\n                else if (this.Y[param1] > this.YD && (this.Vx[param1] > 0 || Math.atan((-this.Vy[param1]) / this.Vx[param1]) > Math.PI / 2 - this.angle_poche_coin) && this.Y[param1] > this.a2 * this.X[param1] + this.b2)\r\n                {\r\n                    this.choc_poche(param1, this.angle_poche_coin);\r\n                    _loc_3 = 3;\r\n                }\r\n            }\r\n            else if (this.X[param1] > this.XE)\r\n            {\r\n                _loc_8 = Math.sqrt((this.X[param1] - this.XE) * (this.X[param1] - this.XE) + (this.Y[param1] - this.YE) * (this.Y[param1] - this.YE));\r\n                if (_loc_8 < this.R && this.Y[param1] < this.YE)\r\n                {\r\n                    if (this.Vx[param1] * (this.X[param1] - this.XE) + this.Vy[param1] * (this.Y[param1] - this.YE) < 0)\r\n                    {\r\n                        _loc_5 = Math.PI / 2 + Math.acos((this.YE - this.Y[param1]) / _loc_8);\r\n                        this.choc_poche(param1, _loc_5);\r\n                        _loc_3 = 3;\r\n                    }\r\n                }\r\n                else if (this.Y[param1] > this.YE && this.Y[param1] > this.a3 * this.X[param1] + this.b3)\r\n                {\r\n                    this.choc_poche(param1, this.angle_poche_centrale);\r\n                    _loc_3 = 3;\r\n                }\r\n                else\r\n                {\r\n                    _loc_3 = 2;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                _loc_3 = 2;\r\n            }\r\n        }\r\n        this.Symetrise_Params(param1, _loc_2);\r\n        return _loc_3;\r\n    }\r\n}","import parametres from './parametres';\r\nimport simul from './simul';\r\n\r\nexport default class {\r\n    ampl_recul_max;\r\n    mode_jeu = 7;\r\n    temps_recul;\r\n    queue;\r\n    calculs_faits;\r\n    largeur;\r\n    trajets;\r\n    seq_origine;\r\n    jouer_poche0;\r\n    canal_bande0;\r\n    canal_bande1;\r\n    RAp0 = [];\r\n    alphamin;\r\n    tous_trajets;\r\n    type;\r\n    t0;\r\n    bitmap_Bandes_280;\r\n    new_seq;\r\n    dq0;\r\n    grille;\r\n    ymax;\r\n    son_queue_pique;\r\n    RAq0 = [];\r\n    Rb;\r\n    Ampl_queue;\r\n    son_poche;\r\n    seq;\r\n    R;\r\n    son_bille_bande;\r\n    muet;\r\n    cl = [];\r\n    Ech;\r\n    ctrl;\r\n    RAr0 = [];\r\n    son_queue_plat;\r\n    ind_last_clef = [];\r\n    taille_billard;\r\n    ombre = [];\r\n    jouer_bande0;\r\n    ralenti = 1;\r\n    canal_bille0;\r\n    bille_visee;\r\n    dq;\r\n    canal_bille1;\r\n    ecl = [];\r\n    trajet_bille_joueur;\r\n    Params;\r\n    longueur;\r\n    nb_sons_played;\r\n    bitmap_Billard_280;\r\n    Vqmax;\r\n    largeur_bandes = 0.26;\r\n    date;\r\n    trans;\r\n    jouer_bille0;\r\n    aff_trajets;\r\n    ligne_visee;\r\n    canal_queue;\r\n    son_bille_bille;\r\n    canal_poche0;\r\n    t_debut;\r\n    trajet_bille_visee;\r\n    cont_billard;\r\n    Simulateur;\r\n    canal_poche1;\r\n    xmax;\r\n    billes = [];\r\n    myTimer;\r\n\r\n    constructor(param1, param2, param3, param4)\r\n    {\r\n        var _loc_5 = 0;\r\n        this.cl = [];\r\n        this.Ech = param3;\r\n        this.R = 0.03;\r\n        this.Rb = 36;\r\n        this.type = 0;\r\n        this.taille(param1);\r\n        \r\n        this.Params = new parametres((this.xmax + this.R) * 2, (this.ymax + this.R) * 2);\r\n        _loc_5 = 0;\r\n        this.aff_trajets = false;\r\n        this.tous_trajets = true;\r\n        this.trajet_bille_joueur = false;\r\n        this.trajet_bille_visee = false;\r\n        this.cl[0] = 16777215;\r\n        this.cl[8] = 0;\r\n        this.cl[9] = 16777113;\r\n        this.cl[1] = 16776960;\r\n        this.cl[10] = 10092543;\r\n        this.cl[2] = 255;\r\n        this.cl[3] = 16711680;\r\n        this.cl[11] = 16751001;\r\n        this.cl[4] = 16711935;\r\n        this.cl[12] = 16751103;\r\n        this.cl[5] = 16750848;\r\n        this.cl[13] = 16750950;\r\n        this.cl[6] = 65280;\r\n        this.cl[14] = 10092441;\r\n        this.cl[7] = 6684723;\r\n        this.cl[15] = 10053120;\r\n        this.billes = [];\r\n        this.bille_visee = 1;\r\n        this.ecl = [];\r\n        _loc_5 = 0;\r\n        var _loc_27 = 0.25;\r\n        this.dq0 = 1.5 * this.R * this.Ech;\r\n        this.alphamin = true;\r\n        this.Vqmax = 4.2;\r\n        this.Simulateur = new simul(this.xmax, this.ymax);\r\n        this.ind_last_clef = [];\r\n        _loc_5 = 0;\r\n        while (_loc_5 < 16)\r\n        {\r\n            \r\n            this.ind_last_clef[_loc_5] = this.Simulateur.nb_max_clefs * _loc_5;\r\n            _loc_5++;\r\n        }\r\n        this.calculs_faits = false;\r\n        this.ampl_recul_max = 0.1;\r\n        this.RAp0 = [];\r\n        this.RAq0 = [];\r\n        this.RAr0 = [];\r\n        _loc_5 = 0;\r\n        while (_loc_5 < 16)\r\n        {\r\n            \r\n            this.RAp0[_loc_5] = 0;\r\n            this.RAq0[_loc_5] = 0;\r\n            this.RAr0[_loc_5] = 0;\r\n            _loc_5++;\r\n        }\r\n        if (this.new_seq)\r\n        {\r\n            this.seq.seq_id = \"\";\r\n            this.seq_origine.seq_id = \"\";\r\n        }\r\n        this.alphamin = false;\r\n        return;\r\n    }// end function\r\n\r\n    tracer_grille() {\r\n        var _loc_1 = 0;\r\n        this.grille.graphics.clear();\r\n        this.grille.graphics.lineStyle(1, 16776960, 0.2);\r\n        _loc_1 = -3;\r\n        while (_loc_1 < 4)\r\n        {\r\n            \r\n            this.grille.graphics.moveTo(this.ctrl.XC - this.Ech * (this.xmax + this.R), this.ctrl.YC + _loc_1 * this.Ech * (this.ymax + this.R) / 4);\r\n            this.grille.graphics.lineTo(this.ctrl.XC + this.Ech * (this.xmax + this.R), this.ctrl.YC + _loc_1 * this.Ech * (this.ymax + this.R) / 4);\r\n            _loc_1++;\r\n        }\r\n        _loc_1 = -7;\r\n        while (_loc_1 < 8)\r\n        {\r\n            \r\n            this.grille.graphics.moveTo(this.ctrl.XC + _loc_1 * this.Ech * (this.xmax + this.R) / 8, this.ctrl.YC + this.Ech * (this.ymax + this.R));\r\n            this.grille.graphics.lineTo(this.ctrl.XC + _loc_1 * this.Ech * (this.xmax + this.R) / 8, this.ctrl.YC - this.Ech * (this.ymax + this.R));\r\n            _loc_1++;\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    finir_init() {\r\n        this.tracer_ligne_visee();\r\n        this.afficher_billes();\r\n        this.placer_queue(this.dq0);\r\n        this.tracer_grille();\r\n        this.seq.titre = new String(this.ctrl.msg.msg[5]);\r\n        return;\r\n    }// end function\r\n\r\n    entier(param1) {\r\n        var _loc_2 = 10 * param1;\r\n        _loc_2 = _loc_2 / 10;\r\n        if (param1 - _loc_2 > 0.5)\r\n        {\r\n            return (_loc_2 + 1);\r\n        }\r\n        return _loc_2;\r\n    }// end function\r\n\r\n    remettre_bille(param1) {\r\n        var _loc_2 = false;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = 0;\r\n        if (this.mode_jeu == 9 && param1 > 9)\r\n        {\r\n            return;\r\n        }\r\n        if (this.mode_jeu == 10 && param1 > 10)\r\n        {\r\n            return;\r\n        }\r\n        do\r\n        {\r\n            \r\n            this.Params.Xinit[param1] = (Math.random() - 0.5) * 2 * this.xmax;\r\n            this.Params.Yinit[param1] = (Math.random() - 0.5) * 2 * this.ymax;\r\n            _loc_2 = true;\r\n            _loc_4 = 0;\r\n            while (_loc_4 < 16 && _loc_2)\r\n            {\r\n                \r\n                if (!this.Params.empocheeInit[_loc_4] && param1 != _loc_4)\r\n                {\r\n                    _loc_3 = (this.Params.Xinit[param1] - this.Params.Xinit[_loc_4]) * (this.Params.Xinit[param1] - this.Params.Xinit[_loc_4]) + (this.Params.Yinit[param1] - this.Params.Yinit[_loc_4]) * (this.Params.Yinit[param1] - this.Params.Yinit[_loc_4]);\r\n                    if (_loc_3 < 0.004)\r\n                    {\r\n                        _loc_2 = false;\r\n                    }\r\n                }\r\n                _loc_4++;\r\n            }\r\n        }while (!_loc_2)\r\n        this.Params.empocheeInit[param1] = false;\r\n        return;\r\n    }// end function\r\n\r\n    placer_queue(param1) {\r\n        var _loc_4 = NaN;\r\n        var _loc_2 = -this.Params.betaQ;\r\n        var _loc_3 = 4 + this.Ech * this.Params.el;\r\n        // this.queue.x = this.ctrl.XC + this.entier(this.Params.Xinit[0] * this.Ech + _loc_3 * Math.sin(_loc_2) + param1 * Math.cos(_loc_2));\r\n        // this.queue.y = this.ctrl.YC - this.entier(this.Params.Yinit[0] * this.Ech + _loc_3 * Math.cos(_loc_2) - param1 * Math.sin(_loc_2));\r\n        // _loc_4 = this.Params.AlphaQmin();\r\n        if (this.alphamin)\r\n        {\r\n            this.Params.alphaQ = _loc_4;\r\n        }\r\n        else if (this.Params.alphaQ < _loc_4)\r\n        {\r\n            this.Params.alphaQ = _loc_4;\r\n        }\r\n        this.queue.rotation = _loc_2 * 180 / Math.PI;\r\n        this.queue.scaleX = 0.25 * Math.cos(this.Params.alphaQ);\r\n        return;\r\n    }// end function\r\n\r\n    restore_seq() {\r\n        var _loc_1 = 0;\r\n        var _loc_2 = 0;\r\n        console.log(\"avant restore\", this.seq.nb_points, this.seq_origine.nb_points);\r\n        if (this.seq_origine.nb_points == 0)\r\n        {\r\n            return;\r\n        }\r\n        this.seq.nb_points = this.seq_origine.nb_points;\r\n        this.seq.pt_courant = 0;\r\n        this.seq.auteur = this.seq_origine.auteur;\r\n        this.seq.titre = this.seq_origine.titre;\r\n        this.seq.seq_auto = this.seq_origine.seq_auto;\r\n        this.ctrl.aff_auteur.text = this.seq.auteur;\r\n        this.ctrl.aff_auteur.setTextFormat(this.ctrl.myFormatJauneKozoomCentre);\r\n        this.ctrl.aff_titre.visible = true;\r\n        _loc_1 = 0;\r\n        while (_loc_1 < this.seq_origine.nb_points)\r\n        {\r\n            \r\n            this.seq.points_b[_loc_1].taille_billard = this.seq_origine.points_b[_loc_1].taille_billard;\r\n            this.seq.points_b[_loc_1].mode_jeu = this.seq_origine.points_b[_loc_1].mode_jeu;\r\n            _loc_2 = 0;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                this.seq.points_b[_loc_1].Xinit[_loc_2] = this.seq_origine.points_b[_loc_1].Xinit[_loc_2];\r\n                this.seq.points_b[_loc_1].Yinit[_loc_2] = this.seq_origine.points_b[_loc_1].Yinit[_loc_2];\r\n                _loc_2++;\r\n            }\r\n            this.seq.points_b[_loc_1].Vqueue = this.seq_origine.points_b[_loc_1].Vqueue;\r\n            this.seq.points_b[_loc_1].alphaQ = this.seq_origine.points_b[_loc_1].alphaQ;\r\n            this.seq.points_b[_loc_1].betaQ = this.seq_origine.points_b[_loc_1].betaQ;\r\n            this.seq.points_b[_loc_1].el = this.seq_origine.points_b[_loc_1].el;\r\n            this.seq.points_b[_loc_1].er = this.seq_origine.points_b[_loc_1].er;\r\n            _loc_1++;\r\n        }\r\n        console.log(\"apres restore\", this.seq.nb_points, this.seq_origine.nb_points);\r\n        return;\r\n    }// end function\r\n\r\n    Placer_billes_hasard() {\r\n        var _loc_1 = false;\r\n        var _loc_2 = NaN;\r\n        var _loc_3 = 0;\r\n        var _loc_4 = 0;\r\n        _loc_3 = 0;\r\n        while (_loc_3 < 16)\r\n        {\r\n            \r\n            do\r\n            {\r\n                \r\n                this.Params.Xinit[_loc_3] = (Math.random() - 0.5) * 2 * this.xmax;\r\n                this.Params.Yinit[_loc_3] = (Math.random() - 0.5) * 2 * this.ymax;\r\n                _loc_1 = true;\r\n                _loc_4 = 0;\r\n                while (_loc_4 < _loc_3 && _loc_1)\r\n                {\r\n                    \r\n                    _loc_2 = (this.Params.Xinit[_loc_3] - this.Params.Xinit[_loc_4]) * (this.Params.Xinit[_loc_3] - this.Params.Xinit[_loc_4]) + (this.Params.Yinit[_loc_3] - this.Params.Yinit[_loc_4]) * (this.Params.Yinit[_loc_3] - this.Params.Yinit[_loc_4]);\r\n                    if (_loc_2 < 0.0016)\r\n                    {\r\n                        _loc_1 = false;\r\n                    }\r\n                    _loc_4++;\r\n                }\r\n            }while (!_loc_1)\r\n            _loc_3++;\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    charger_point(param1, param2) {\r\n        var _loc_3 = 0;\r\n        _loc_3 = 0;\r\n        while (_loc_3 < 16)\r\n        {\r\n            \r\n            this.Params.Xinit[_loc_3] = param1.Xinit[_loc_3];\r\n            this.Params.Yinit[_loc_3] = param1.Yinit[_loc_3];\r\n            this.Params.empocheeInit[_loc_3] = param1.empocheeInit[_loc_3];\r\n            _loc_3++;\r\n        }\r\n        this.Params.alphaQ = param1.alphaQ;\r\n        this.Params.betaQ = param1.betaQ;\r\n        this.Params.Vqueue = param1.Vqueue;\r\n        this.Params.el = param1.el;\r\n        this.Params.er = param1.er;\r\n        this.init_point();\r\n        if (param2)\r\n        {\r\n            this.Simulateur.Calcul(this.Params);\r\n            this.calculs_faits = true;\r\n            this.aff_trajets = true;\r\n            this.afficher_trajets();\r\n        }\r\n        this.ctrl.modif_pt_seq = false;\r\n        return;\r\n    }// end function\r\n\r\n    replacer() {\r\n        this.arret_son();\r\n        this.ctrl.simulation_en_cours = false;\r\n        this.myTimer.stop();\r\n        this.afficher_billes();\r\n        this.placer_queue(this.dq0);\r\n        this.queue.visible = true;\r\n        return;\r\n    }// end function\r\n\r\n    afficher_trajets() {\r\n        var _loc_1 = 0;\r\n        _loc_1 = 0;\r\n        while (_loc_1 < 16)\r\n        {\r\n            \r\n            var _loc_2 = !this.Params.empocheeInit[_loc_1];\r\n            this.ombre[_loc_1].visible = !this.Params.empocheeInit[_loc_1];\r\n            this.ecl[_loc_1].visible = _loc_2;\r\n            this.billes[_loc_1].cont_bille.visible = _loc_2;\r\n            _loc_1++;\r\n        }\r\n        this.ligne_visee.visible = true;\r\n        this.trajets.graphics.clear();\r\n        if (!this.tous_trajets && !this.trajet_bille_joueur && !this.trajet_bille_visee)\r\n        {\r\n            return;\r\n        }\r\n        if (!this.calculs_faits)\r\n        {\r\n            this.Simulateur.Calcul(this.Params);\r\n            this.calculs_faits = true;\r\n        }\r\n        if (this.tous_trajets)\r\n        {\r\n            _loc_1 = 0;\r\n            while (_loc_1 < 16)\r\n            {\r\n                \r\n                this.aff_trajet_bille(_loc_1);\r\n                _loc_1++;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (this.trajet_bille_joueur)\r\n            {\r\n                this.aff_trajet_bille(0);\r\n            }\r\n            if (this.trajet_bille_visee && this.Params.noba)\r\n            {\r\n                this.aff_trajet_bille(this.bille_visee);\r\n            }\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    timerHandler(event) {\r\n        var _loc_2 = 0;\r\n        var _loc_3 = 0;\r\n        var _loc_4 = NaN;\r\n        var _loc_5 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_9 = NaN;\r\n        var _loc_10 = NaN;\r\n        // this.date = (getTimer() / 1000 - this.t0) * this.ralenti;\r\n        if (this.date < this.temps_recul)\r\n        {\r\n            this.queue.visible = true;\r\n            this.dq = this.dq0 + this.Ampl_queue * (1 - Math.cos(Math.PI * this.date / this.temps_recul));\r\n            this.placer_queue(this.dq);\r\n            return;\r\n        }\r\n        if (this.date < this.t_debut)\r\n        {\r\n            this.queue.visible = true;\r\n            this.dq = this.R * this.Ech + (2 * this.Ampl_queue + this.dq0 - this.R * this.Ech) * Math.cos(Math.PI / 2 * (this.date - this.temps_recul) / (this.t_debut - this.temps_recul));\r\n            this.placer_queue(this.dq);\r\n        }\r\n        if (this.date > (this.t_debut + 1))\r\n        {\r\n            this.queue.visible = false;\r\n        }\r\n        if (this.date < this.t_debut)\r\n        {\r\n            return;\r\n        }\r\n        if (!this.muet)\r\n        {\r\n            _loc_2 = this.nb_sons_played;\r\n            while (_loc_2 < this.Simulateur.nb_sons)\r\n            {\r\n                \r\n                if (!this.Simulateur.evts_son[_loc_2].played && this.Simulateur.evts_son[_loc_2].temps < this.date - this.t_debut)\r\n                {\r\n                    if (this.Simulateur.evts_son[_loc_2].type_choc == 0)\r\n                    {\r\n                        this.canal_queue = this.son_queue_plat.play(0, 1);\r\n                        this.trans = this.canal_queue.soundTransform;\r\n                        this.trans.volume = this.Simulateur.evts_son[_loc_2].intensite;\r\n                        this.canal_queue.soundTransform = this.trans;\r\n                    }\r\n                    else if (this.Simulateur.evts_son[_loc_2].type_choc == 1)\r\n                    {\r\n                        this.canal_queue = this.son_queue_pique.play(0, 1);\r\n                        this.trans = this.canal_queue.soundTransform;\r\n                        this.trans.volume = this.Simulateur.evts_son[_loc_2].intensite;\r\n                        this.canal_queue.soundTransform = this.trans;\r\n                    }\r\n                    else if (this.Simulateur.evts_son[_loc_2].type_choc == 2)\r\n                    {\r\n                        if (this.jouer_bille0)\r\n                        {\r\n                            this.canal_bille0 = this.son_bille_bille.play(0, 1);\r\n                            this.trans = this.canal_bille0.soundTransform;\r\n                            this.trans.volume = this.Simulateur.evts_son[_loc_2].intensite;\r\n                            this.canal_bille0.soundTransform = this.trans;\r\n                            if (this.canal_bille1 != null)\r\n                            {\r\n                                this.canal_bille1.stop();\r\n                            }\r\n                            this.jouer_bille0 = false;\r\n                        }\r\n                        else\r\n                        {\r\n                            this.canal_bille1 = this.son_bille_bille.play(0, 1);\r\n                            this.trans = this.canal_bille1.soundTransform;\r\n                            this.trans.volume = this.Simulateur.evts_son[_loc_2].intensite;\r\n                            this.canal_bille1.soundTransform = this.trans;\r\n                            if (this.canal_bille0 != null)\r\n                            {\r\n                                this.canal_bille0.stop();\r\n                            }\r\n                            this.jouer_bille0 = true;\r\n                        }\r\n                    }\r\n                    else if (this.Simulateur.evts_son[_loc_2].type_choc == 3)\r\n                    {\r\n                        if (this.jouer_bande0)\r\n                        {\r\n                            this.canal_bande0 = this.son_bille_bande.play(0, 1);\r\n                            this.trans = this.canal_bande0.soundTransform;\r\n                            this.trans.volume = this.Simulateur.evts_son[_loc_2].intensite;\r\n                            this.canal_bande0.soundTransform = this.trans;\r\n                            if (this.canal_bande1 != null)\r\n                            {\r\n                                this.canal_bande1.stop();\r\n                            }\r\n                            this.jouer_bande0 = false;\r\n                        }\r\n                        else\r\n                        {\r\n                            this.canal_bande1 = this.son_bille_bande.play(0, 1);\r\n                            this.trans = this.canal_bande1.soundTransform;\r\n                            this.trans.volume = this.Simulateur.evts_son[_loc_2].intensite;\r\n                            this.canal_bande1.soundTransform = this.trans;\r\n                            if (this.canal_bande0 != null)\r\n                            {\r\n                                this.canal_bande0.stop();\r\n                            }\r\n                            this.jouer_bande0 = true;\r\n                        }\r\n                    }\r\n                    else if (this.Simulateur.evts_son[_loc_2].type_choc == 4)\r\n                    {\r\n                        if (this.jouer_poche0)\r\n                        {\r\n                            this.canal_poche0 = this.son_poche.play(0, 1);\r\n                            this.trans = this.canal_poche0.soundTransform;\r\n                            this.trans.volume = this.Simulateur.evts_son[_loc_2].intensite;\r\n                            this.canal_poche0.soundTransform = this.trans;\r\n                            if (this.canal_poche1 != null)\r\n                            {\r\n                                this.canal_poche1.stop();\r\n                            }\r\n                            this.jouer_poche0 = false;\r\n                        }\r\n                        else\r\n                        {\r\n                            this.canal_poche1 = this.son_poche.play(0, 1);\r\n                            this.trans = this.canal_poche1.soundTransform;\r\n                            this.trans.volume = this.Simulateur.evts_son[_loc_2].intensite;\r\n                            this.canal_poche1.soundTransform = this.trans;\r\n                            if (this.canal_poche0 != null)\r\n                            {\r\n                                this.canal_poche0.stop();\r\n                            }\r\n                            this.jouer_poche0 = true;\r\n                        }\r\n                    }\r\n                    this.Simulateur.evts_son[_loc_2].played = true;\r\n                    var _loc_11 = this;\r\n                    var _loc_12 = this.nb_sons_played + 1;\r\n                    _loc_11.nb_sons_played = _loc_12;\r\n                }\r\n                _loc_2++;\r\n            }\r\n        }\r\n        _loc_2 = 0;\r\n        while (_loc_2 < 16)\r\n        {\r\n            \r\n            if (!this.Simulateur.immobile[_loc_2] && this.Simulateur.date_arret[_loc_2] > this.date - this.t_debut)\r\n            {\r\n                if (this.date - this.t_debut > this.Simulateur.time_empochee[_loc_2])\r\n                {\r\n                    var _loc_11 = false;\r\n                    this.ombre[_loc_2].visible = false;\r\n                    this.ecl[_loc_2].visible = _loc_11;\r\n                    this.billes[_loc_2].cont_bille.visible = _loc_11;\r\n                }\r\n                else\r\n                {\r\n                    _loc_3 = this.ind_last_clef[_loc_2];\r\n                    while (this.Simulateur.evts[(_loc_3 + 1)] != null && this.date - this.t_debut > this.Simulateur.evts[(_loc_3 + 1)].time)\r\n                    {\r\n                        \r\n                        _loc_3++;\r\n                    }\r\n                    this.ind_last_clef[_loc_2] = _loc_3;\r\n                    if (this.Simulateur.evts[(_loc_3 + 1)] != null)\r\n                    {\r\n                        _loc_10 = (this.date - this.t_debut - this.Simulateur.evts[_loc_3].time) / (this.Simulateur.evts[(_loc_3 + 1)].time - this.Simulateur.evts[_loc_3].time);\r\n                        this.billes[_loc_2].cont_bille.x = this.ctrl.XC + this.entier(this.Ech * (this.Simulateur.evts[_loc_3].X + (this.Simulateur.evts[(_loc_3 + 1)].X - this.Simulateur.evts[_loc_3].X) * _loc_10));\r\n                        this.billes[_loc_2].cont_bille.y = this.ctrl.YC - this.entier(this.Ech * (this.Simulateur.evts[_loc_3].Y + (this.Simulateur.evts[(_loc_3 + 1)].Y - this.Simulateur.evts[_loc_3].Y) * _loc_10));\r\n                        this.ecl[_loc_2].x = this.billes[_loc_2].cont_bille.x - this.Rb / 4;\r\n                        this.ecl[_loc_2].y = this.billes[_loc_2].cont_bille.y - this.Rb / 4;\r\n                        this.ombre[_loc_2].x = this.billes[_loc_2].cont_bille.x - this.Rb / 3;\r\n                        this.ombre[_loc_2].y = this.billes[_loc_2].cont_bille.y - this.Rb / 3;\r\n                        _loc_4 = this.Simulateur.evts[_loc_3].RAp + (this.Simulateur.evts[(_loc_3 + 1)].RAp - this.Simulateur.evts[_loc_3].RAp) * _loc_10;\r\n                        _loc_5 = this.Simulateur.evts[_loc_3].RAq + (this.Simulateur.evts[(_loc_3 + 1)].RAq - this.Simulateur.evts[_loc_3].RAq) * _loc_10;\r\n                        _loc_6 = this.Simulateur.evts[_loc_3].RAr + (this.Simulateur.evts[(_loc_3 + 1)].RAr - this.Simulateur.evts[_loc_3].RAr) * _loc_10;\r\n                        _loc_7 = (_loc_4 - this.RAp0[_loc_2]) / this.R;\r\n                        _loc_8 = (_loc_5 - this.RAq0[_loc_2]) / this.R;\r\n                        _loc_9 = (_loc_6 - this.RAr0[_loc_2]) / this.R;\r\n                        this.RAp0[_loc_2] = _loc_4;\r\n                        this.RAq0[_loc_2] = _loc_5;\r\n                        this.RAr0[_loc_2] = _loc_6;\r\n                        this.billes[_loc_2].tourner_bille(_loc_7, _loc_8, _loc_9);\r\n                    }\r\n                }\r\n            }\r\n            _loc_2++;\r\n        }\r\n        if (this.date - this.t_debut > this.Simulateur.duree)\r\n        {\r\n            this.myTimer.stop();\r\n            this.aff_trajets = true;\r\n            this.afficher_trajets();\r\n            this.arret_son();\r\n            if (this.ctrl.FS)\r\n            {\r\n                this.replacer();\r\n            }\r\n        }\r\n        event.updateAfterEvent();\r\n        return;\r\n    }// end function\r\n\r\n    afficher_billes() {\r\n        var _loc_1 = 0;\r\n        _loc_1 = 0;\r\n        while (_loc_1 < 16)\r\n        {\r\n            \r\n            this.afficher_une_bille(_loc_1);\r\n            _loc_1++;\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    replacer_rien() {\r\n        var _loc_1 = 0;\r\n        var _loc_2 = false;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = 0;\r\n        this.arret_son();\r\n        this.ctrl.simulation_en_cours = false;\r\n        this.myTimer.stop();\r\n        _loc_1 = 1;\r\n        while (_loc_1 < 16)\r\n        {\r\n            \r\n            this.Params.empocheeInit[_loc_1] = true;\r\n            _loc_1++;\r\n        }\r\n        this.init_point();\r\n        return;\r\n    }// end function\r\n\r\n    aff_trajet_bille(param1) {\r\n        var _loc_2 = 0;\r\n        _loc_2 = this.Simulateur.nb_max_clefs * param1;\r\n        this.trajets.graphics.lineStyle(2, this.billes[param1].couleur, 0.7);\r\n        this.trajets.graphics.moveTo(this.ctrl.XC + this.Ech * this.Simulateur.evts[_loc_2].X, this.ctrl.YC - this.Ech * this.Simulateur.evts[_loc_2].Y);\r\n        while (this.Simulateur.evts[(_loc_2 + 1)] != null)\r\n        {\r\n            \r\n            _loc_2 = _loc_2 + 1;\r\n            this.trajets.graphics.lineTo(this.ctrl.XC + this.Ech * this.Simulateur.evts[_loc_2].X, this.ctrl.YC - this.Ech * this.Simulateur.evts[_loc_2].Y);\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    suivant() {\r\n        var _loc_1 = 0;\r\n        var _loc_2 = false;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = 0;\r\n        this.arret_son();\r\n        this.ctrl.simulation_en_cours = false;\r\n        this.myTimer.stop();\r\n        if (!this.calculs_faits)\r\n        {\r\n            this.Simulateur.Calcul(this.Params);\r\n            this.calculs_faits = true;\r\n        }\r\n        _loc_1 = 0;\r\n        while (_loc_1 < 16)\r\n        {\r\n            \r\n            this.Params.Xinit[_loc_1] = this.Simulateur.Xfin[_loc_1];\r\n            this.Params.Yinit[_loc_1] = this.Simulateur.Yfin[_loc_1];\r\n            this.Params.RApInit[_loc_1] = 0;\r\n            this.Params.RAqInit[_loc_1] = 0;\r\n            this.Params.RArInit[_loc_1] = 0;\r\n            this.Params.empocheeInit[_loc_1] = this.Simulateur.empochee_fin[_loc_1];\r\n            _loc_1++;\r\n        }\r\n        if (this.Params.empocheeInit[0])\r\n        {\r\n            this.Params.empocheeInit[0] = false;\r\n            do\r\n            {\r\n                \r\n                this.Params.Xinit[0] = (Math.random() - 0.5) * 2 * this.xmax;\r\n                this.Params.Yinit[0] = (Math.random() - 0.5) * 2 * this.ymax;\r\n                _loc_2 = true;\r\n                _loc_4 = 1;\r\n                while (_loc_4 < 16 && _loc_2)\r\n                {\r\n                    \r\n                    if (!this.Params.empocheeInit[_loc_4])\r\n                    {\r\n                        _loc_3 = (this.Params.Xinit[0] - this.Params.Xinit[_loc_4]) * (this.Params.Xinit[0] - this.Params.Xinit[_loc_4]) + (this.Params.Yinit[0] - this.Params.Yinit[_loc_4]) * (this.Params.Yinit[0] - this.Params.Yinit[_loc_4]);\r\n                        if (_loc_3 < 0.004)\r\n                        {\r\n                            _loc_2 = false;\r\n                        }\r\n                    }\r\n                    _loc_4++;\r\n                }\r\n            }while (!_loc_2)\r\n        }\r\n        this.init_point();\r\n        return;\r\n    }// end function\r\n\r\n    tracer_ligne_visee() {\r\n        var _loc_1 = NaN;\r\n        var _loc_2 = NaN;\r\n        var _loc_6 = NaN;\r\n        var _loc_7 = NaN;\r\n        var _loc_8 = NaN;\r\n        var _loc_10 = NaN;\r\n        this.ligne_visee.graphics.clear();\r\n        this.Params.Quantite();\r\n        var _loc_3 = this.Params.betaQ + Math.PI;\r\n        var _loc_4 = this.Params.Xinit[0];\r\n        var _loc_5 = this.Params.Yinit[0];\r\n        var _loc_9 = Math.tan(_loc_3);\r\n        if (!this.Params.noba)\r\n        {\r\n            _loc_2 = this.largeur / 2 - 0.03;\r\n            if (Math.cos(_loc_3) > 0)\r\n            {\r\n                _loc_1 = this.longueur / 2 - 0.03;\r\n            }\r\n            else if (Math.cos(_loc_3) < 0)\r\n            {\r\n                _loc_1 = (-this.longueur) / 2 + 0.03;\r\n            }\r\n            if (Math.cos(_loc_3) == 0)\r\n            {\r\n                if (Math.sin(_loc_3) > 0)\r\n                {\r\n                    _loc_7 = 0;\r\n                    _loc_8 = _loc_2;\r\n                }\r\n                else\r\n                {\r\n                    _loc_7 = 0;\r\n                    _loc_8 = -_loc_2;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                _loc_6 = (_loc_1 - _loc_4) * _loc_9 + _loc_5;\r\n                if (_loc_6 > _loc_2)\r\n                {\r\n                    _loc_7 = _loc_4 + (_loc_2 - _loc_5) / _loc_9;\r\n                    _loc_8 = _loc_2;\r\n                }\r\n                else if (_loc_6 < -_loc_2)\r\n                {\r\n                    _loc_7 = _loc_4 - (_loc_2 + _loc_5) / _loc_9;\r\n                    _loc_8 = -_loc_2;\r\n                }\r\n                else\r\n                {\r\n                    _loc_7 = _loc_1;\r\n                    _loc_8 = (_loc_1 - _loc_4) * _loc_9 + _loc_5;\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            _loc_10 = Math.sqrt((this.Params.Xinit[this.Params.bille_visee] - _loc_4) * (this.Params.Xinit[this.Params.bille_visee] - _loc_4) + (this.Params.Yinit[this.Params.bille_visee] - _loc_5) * (this.Params.Yinit[this.Params.bille_visee] - _loc_5));\r\n            if (Math.cos(_loc_3) != 0)\r\n            {\r\n                _loc_7 = _loc_4 + _loc_10 * Math.cos(_loc_3);\r\n                _loc_8 = _loc_5 + _loc_10 * Math.sin(_loc_3);\r\n            }\r\n            else if (Math.sin(_loc_3) > 0)\r\n            {\r\n                _loc_7 = _loc_4;\r\n                _loc_8 = _loc_5 + _loc_10;\r\n            }\r\n            else\r\n            {\r\n                _loc_7 = _loc_4;\r\n                _loc_8 = _loc_5 - _loc_10;\r\n            }\r\n        }\r\n        this.ligne_visee.graphics.lineStyle(1, 16777215, 0.4);\r\n        this.ligne_visee.graphics.moveTo(this.ctrl.XC + this.Ech * _loc_4, this.ctrl.YC - this.Ech * _loc_5);\r\n        this.ligne_visee.graphics.lineTo(this.ctrl.XC + this.Ech * _loc_7, this.ctrl.YC - this.Ech * _loc_8);\r\n        return;\r\n    }// end function\r\n\r\n    save_seq() {\r\n        var _loc_1 = 0;\r\n        var _loc_2 = 0;\r\n        console.log(\"avant save_seq\", this.seq.nb_points, this.seq_origine.nb_points);\r\n        this.seq_origine.nb_points = this.seq.nb_points;\r\n        this.seq_origine.pt_courant = 0;\r\n        this.seq_origine.auteur = this.seq.auteur;\r\n        this.seq_origine.titre = this.seq.titre;\r\n        this.seq_origine.seq_auto = this.seq.seq_auto;\r\n        _loc_1 = 0;\r\n        while (_loc_1 < this.seq.nb_points)\r\n        {\r\n            \r\n            this.seq_origine.points_b[_loc_1].taille_billard = this.seq.points_b[_loc_1].taille_billard;\r\n            this.seq_origine.points_b[_loc_1].mode_jeu = this.seq.points_b[_loc_1].mode_jeu;\r\n            _loc_2 = 0;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                this.seq_origine.points_b[_loc_1].Xinit[_loc_2] = this.seq.points_b[_loc_1].Xinit[_loc_2];\r\n                this.seq_origine.points_b[_loc_1].Yinit[_loc_2] = this.seq.points_b[_loc_1].Yinit[_loc_2];\r\n                _loc_2++;\r\n            }\r\n            this.seq_origine.points_b[_loc_1].Vqueue = this.seq.points_b[_loc_1].Vqueue;\r\n            this.seq_origine.points_b[_loc_1].alphaQ = this.seq.points_b[_loc_1].alphaQ;\r\n            this.seq_origine.points_b[_loc_1].betaQ = this.seq.points_b[_loc_1].betaQ;\r\n            this.seq_origine.points_b[_loc_1].el = this.seq.points_b[_loc_1].el;\r\n            this.seq_origine.points_b[_loc_1].er = this.seq.points_b[_loc_1].er;\r\n            _loc_1++;\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    arret_son() {\r\n        if (this.canal_bille0 != null)\r\n        {\r\n            this.canal_bille0.stop();\r\n        }\r\n        if (this.canal_bille1 != null)\r\n        {\r\n            this.canal_bille1.stop();\r\n        }\r\n        if (this.canal_bande0 != null)\r\n        {\r\n            this.canal_bande0.stop();\r\n        }\r\n        if (this.canal_bande1 != null)\r\n        {\r\n            this.canal_bande1.stop();\r\n        }\r\n        return;\r\n    }// end function\r\n\r\n    init_point(){\r\n        this.ctrl.simulation_en_cours = false;\r\n        this.arret_son();\r\n        this.myTimer.stop();\r\n        this.afficher_billes();\r\n        this.ctrl.aff_parametres();\r\n        this.placer_queue(this.dq0);\r\n        this.queue.visible = true;\r\n        this.calculs_faits = false;\r\n        this.aff_trajets = false;\r\n        this.trajets.graphics.clear();\r\n        this.tracer_ligne_visee();\r\n        this.ligne_visee.visible = true;\r\n        return;\r\n    }// end function\r\n\r\n    update_modejeu(param1) {\r\n        var _loc_2 = 0;\r\n        this.mode_jeu = param1;\r\n        this.ctrl.simulation_en_cours = false;\r\n        this.myTimer.stop();\r\n        if (param1 == 7)\r\n        {\r\n            _loc_2 = 10;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                this.Params.empocheeInit[_loc_2] = false;\r\n                _loc_2++;\r\n            }\r\n        }\r\n        if (param1 == 8)\r\n        {\r\n            _loc_2 = 10;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                this.Params.empocheeInit[_loc_2] = false;\r\n                _loc_2++;\r\n            }\r\n        }\r\n        if (param1 == 9)\r\n        {\r\n            _loc_2 = 10;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                this.Params.empocheeInit[_loc_2] = true;\r\n                _loc_2++;\r\n            }\r\n        }\r\n        if (param1 == 10)\r\n        {\r\n            _loc_2 = 11;\r\n            while (_loc_2 < 16)\r\n            {\r\n                \r\n                this.Params.empocheeInit[_loc_2] = true;\r\n                _loc_2++;\r\n            }\r\n        }\r\n        this.afficher_billes();\r\n        return;\r\n    }// end function\r\n\r\n    replacer_tout() {\r\n        var _loc_1 = 0;\r\n        var _loc_2 = false;\r\n        var _loc_3 = NaN;\r\n        var _loc_4 = 0;\r\n        this.arret_son();\r\n        this.ctrl.simulation_en_cours = false;\r\n        this.myTimer.stop();\r\n        if (this.mode_jeu < 9)\r\n        {\r\n            _loc_4 = 16;\r\n        }\r\n        if (this.mode_jeu == 9)\r\n        {\r\n            _loc_4 = 10;\r\n        }\r\n        if (this.mode_jeu == 10)\r\n        {\r\n            _loc_4 = 11;\r\n        }\r\n        _loc_1 = 0;\r\n        while (_loc_1 < _loc_4)\r\n        {\r\n            \r\n            if (this.Params.empocheeInit[_loc_1])\r\n            {\r\n                this.remettre_bille(_loc_1);\r\n            }\r\n            _loc_1++;\r\n        }\r\n        this.init_point();\r\n        return;\r\n    }// end function\r\n\r\n    Simuler(param1, param2) {\r\n        console.log('simulate');\r\n        var _loc_2 = 0;\r\n        this.ralenti = param1;\r\n        this.Params = param2\r\n        // this.placer_queue(this.dq0);\r\n        // this.queue.visible = true;\r\n        // if (!this.calculs_faits)\r\n        // {\r\n            return this.Simulateur.Calcul(this.Params);\r\n        // }\r\n    }// end function\r\n\r\n    taille(param1) {\r\n        this.taille_billard = param1;\r\n        if (param1 == 280)\r\n        {\r\n            this.longueur = 2.8;\r\n        }\r\n        this.xmax = (this.longueur - this.largeur_bandes) / 2 - 0.03;\r\n        this.ymax = (this.longueur - this.largeur_bandes) / 4 - 0.03;\r\n        this.largeur = 2 * (this.ymax + 0.03) + this.largeur_bandes;\r\n        return;\r\n    }// end function\r\n\r\n    afficher_une_bille(param1) {\r\n        var _loc_2 = !this.Params.empocheeInit[param1];\r\n        this.ombre[param1].visible = !this.Params.empocheeInit[param1];\r\n        this.ecl[param1].visible = _loc_2;\r\n        this.billes[param1].cont_bille.visible = _loc_2;\r\n        this.billes[param1].cont_bille.x = this.ctrl.XC + this.entier(this.Params.Xinit[param1] * this.Ech);\r\n        this.billes[param1].cont_bille.y = this.ctrl.YC - this.entier(this.Params.Yinit[param1] * this.Ech);\r\n        this.ombre[param1].x = this.billes[param1].cont_bille.x - this.Rb / 3;\r\n        this.ombre[param1].y = this.billes[param1].cont_bille.y - this.Rb / 3;\r\n        this.ecl[param1].x = this.billes[param1].cont_bille.x - this.Rb / 4;\r\n        this.ecl[param1].y = this.billes[param1].cont_bille.y - this.Rb / 4;\r\n        this.billes[param1].positionner_texture();\r\n        return;\r\n    }\r\n}","import * as BABYLON from 'babylonjs';\r\n\r\nexport default class Lights {\r\n    constructor(scene, table_length) {\r\n        this.scene = scene;\r\n        this.lights = [];\r\n        this.shadowGenerators = [];\r\n\r\n        let pos = [\r\n            [-1, -1],\r\n            [1, -1],\r\n            [-1, 1],\r\n            [1, 1]\r\n        ]\r\n        for (var i = 0; i < pos.length; i++) {\r\n            let y = table_length / 2;\r\n            let x = pos[i][0] * table_length / 3;\r\n            let z = pos[i][1] * table_length / 6;\r\n            var light = new BABYLON.SpotLight(\"spotLight\" + i, new BABYLON.Vector3(x, y, z), new BABYLON.Vector3(0, -1, 0), Math.PI, 1, scene);\r\n\r\n            this.lights.push(light);\r\n            var shadowGenerator = new BABYLON.ShadowGenerator(512, light);\r\n            shadowGenerator.useBlurExponentialShadowMap = true;\r\n            shadowGenerator.useKernelBlur = true;\r\n            shadowGenerator.blurKernel = 64;\r\n            shadowGenerator.forceBackFacesOnly = true;\r\n            shadowGenerator.getShadowMap().refreshRate = BABYLON.RenderTargetTexture.REFRESHRATE_RENDER_ONEVERYFRAME;\r\n\r\n            this.shadowGenerators.push(shadowGenerator);\r\n        }\r\n        // new BABYLON.HemisphericLight('light', BABYLON.Vector3.Up(), scene);\r\n    }\r\n\r\n    getLights = () => { return this.lights }\r\n\r\n    registerShadowObjects = (objects) => {\r\n        for (var gen of this.shadowGenerators) {\r\n            for (var obj of objects) {\r\n                gen.getShadowMap().renderList.push(obj);\r\n            }\r\n        }\r\n    }\r\n}","import * as BABYLON from 'babylonjs';\r\nimport {\r\n    POOL_TABLE_LENGTH,\r\n    BALL_SIZE,\r\n\r\n    filePoolTableModel,\r\n    fileBatModel,\r\n\r\n} from '../../../assets/constants';\r\n\r\nimport CBillard from './PhysicsEngine/cBillard';\r\nimport Ball from '../../../models/ball';\r\nimport Bat from '../../../models/bat';\r\nimport Table from '../../../models/table';\r\nimport Cameras from '../../../models/cameras';\r\nimport Lights from '../../../models/lights';\r\n\r\nexport default class SceneManager {\r\n    constructor (\r\n        size,\r\n        modelStorePath,\r\n        currentView,\r\n        ballPositions,\r\n        controlOptions\r\n    ) {\r\n        this.scene = undefined;\r\n        this.canvas = undefined;\r\n\r\n        this.size = size;\r\n\r\n        this.ballRadius = POOL_TABLE_LENGTH * BALL_SIZE / (this.size * 100);\r\n\r\n        this.modelStorePath = modelStorePath;\r\n\r\n        this.initBallPosition = ballPositions;\r\n\r\n        this.ballPositions = [];\r\n        console.log('init ball positions',ballPositions)\r\n        \r\n        console.log(this.ballPositions)\r\n        this.currentView = currentView;\r\n\r\n        this.cameras = undefined;\r\n\r\n        this.objects = {\r\n            table: undefined,\r\n            bat: undefined,\r\n            balls: [],\r\n        };\r\n\r\n        this.controlOptions = controlOptions;\r\n\r\n        this.grids = [];\r\n\r\n        this.pathes = [];\r\n\r\n        this.billard = new CBillard(\r\n            280,\r\n            undefined,\r\n            300,\r\n        );\r\n\r\n        for(var i = 0; i < 16; i++){\r\n            this.ballPositions.push({\r\n                x: POOL_TABLE_LENGTH * ballPositions.Xinit[i] / size,\r\n                z: POOL_TABLE_LENGTH * ballPositions.Yinit[i] / size,\r\n                empocheeInit: ballPositions.empocheeInit[i]\r\n            })\r\n        }\r\n    }\r\n\r\n    drawBallPath = (value) => {\r\n        let res = this.pathData\r\n\r\n        if(!res || res.length == 0) return;\r\n        for(var line of this.pathes) {\r\n            if(line) line.dispose();\r\n        }\r\n        this.pathes = [];\r\n        const colors = [\r\n            new BABYLON.Color4(1, 1, 1, 1),         // cue\r\n            new BABYLON.Color4(1, 1, 0, 1),         // 1\r\n            new BABYLON.Color4(0.1, 0.2, 0.6, 1),   // 2\r\n            new BABYLON.Color4(0.9, 0.2, 0.1, 1),   // 3\r\n            new BABYLON.Color4(0.6, 0.1, 0.5, 1),   // 4\r\n            new BABYLON.Color4(1, 0.5, 0.1, 1),     // 5\r\n            new BABYLON.Color4(0, 0.6, 0.3, 1),     // 6\r\n            new BABYLON.Color4(0.5, 0.1, 0.15, 1),  // 7\r\n            new BABYLON.Color4(0, 0, 0, 1),         // 8\r\n            new BABYLON.Color4(1, 1, 0, 1),         // 9\r\n            new BABYLON.Color4(0.1, 0.12, 0.5, 1),  // 10\r\n            new BABYLON.Color4(0.9, 0.2, 0.1, 1),   // 11\r\n            new BABYLON.Color4(0.6, 0.1, 0.5, 1),   // 12\r\n            new BABYLON.Color4(0.9, 0.5, 0, 1),     // 13\r\n            new BABYLON.Color4(0, 0.6, 0.3, 1),     // 14\r\n            new BABYLON.Color4(0.5, 0.1, 0.15, 1),  // 15\r\n        ]\r\n        if (value) {\r\n            for (var index = 0; index < 16; index++) {\r\n                var ballPoints = [];\r\n                var lineColors = [];\r\n                for (var i = index * 10000; i < (index + 1) * 10000; i++) {\r\n                    if (res[i]) {\r\n                        ballPoints.push(new BABYLON.Vector3(\r\n                            POOL_TABLE_LENGTH * res[i].X / this.size,\r\n                            this.ballRadius / 2,\r\n                            POOL_TABLE_LENGTH * res[i].Y / this.size\r\n                        ))\r\n                        lineColors.push(colors[index]);\r\n                    }\r\n                }\r\n                var obj = BABYLON.MeshBuilder.CreateLines(\r\n                    'lines',\r\n                    {\r\n                        points: ballPoints,\r\n                        colors: lineColors,\r\n                    }, \r\n                    this.scene\r\n                );\r\n                this.pathes.push(obj)\r\n            }\r\n        }        \r\n    }\r\n\r\n    configCameras = () => {\r\n        const _self = this;\r\n\r\n        _self.cameras = new Cameras(_self.scene, _self.canvas);\r\n\r\n        _self.changeView(_self.currentView);\r\n    }\r\n\r\n    loadModels = () => {\r\n        const _self = this;\r\n        const { modelStorePath } = this;\r\n\r\n        BABYLON.SceneLoader.ImportMesh(\"\", modelStorePath, fileBatModel, _self.scene, function (newMeshes) {\r\n            _self.objects.bat = new Bat(_self.scene, newMeshes[0]);\r\n            \r\n            BABYLON.SceneLoader.ImportMesh(\"\", modelStorePath, filePoolTableModel, _self.scene, function (newMeshes) {\r\n                console.log('generate table objects', modelStorePath)\r\n                _self.objects.table = new Table(_self.scene, newMeshes, modelStorePath);\r\n                _self.configCueBalls();\r\n                _self.updateBat(_self.controlOptions);\r\n            });\r\n        });\r\n    }\r\n\r\n    updateControlOptions = (data) => {\r\n        this.controlOptions = data;\r\n        this.updateBat(data);\r\n    }\r\n\r\n    updateBat = (data) => {\r\n        const {\r\n            cueLine,\r\n            cueAngle,\r\n            sideEnglish,\r\n            topSpin,\r\n        } = data;\r\n        const {size, ballRadius, cameras} = this;\r\n        const {bat, balls} = this.objects;\r\n\r\n        let deltaSideEnglish = POOL_TABLE_LENGTH * sideEnglish / size;\r\n        let deltaTopSpin = POOL_TABLE_LENGTH * topSpin / size;\r\n\r\n        let pos = balls[0].getPosition();\r\n        if (!balls[0].isPotted()) {\r\n            bat.update(\r\n                {\r\n                    x: pos.x - deltaSideEnglish * Math.sin(cueLine) - deltaTopSpin * Math.sin(cueAngle) * Math.cos(cueLine),\r\n                    z: pos.z + deltaSideEnglish * Math.cos(cueLine) - deltaTopSpin * Math.sin(cueAngle) * Math.sin(cueLine),\r\n                    y: ballRadius/2 + deltaTopSpin * Math.cos(cueAngle)\r\n                },\r\n                {\r\n                    x: 0,\r\n                    y: -cueLine,\r\n                    z: Math.PI/2 + cueAngle\r\n                }\r\n            );\r\n            \r\n            bat.updateDirectionLine(\r\n                pos,\r\n                Math.PI - cueLine\r\n            )\r\n\r\n            cameras.updateTarget(\r\n                {\r\n                    x: pos.x - deltaSideEnglish * Math.sin(cueLine) - deltaTopSpin * Math.sin(cueAngle) * Math.cos(cueLine),\r\n                    z: pos.z + deltaSideEnglish * Math.cos(cueLine) - deltaTopSpin * Math.sin(cueAngle) * Math.sin(cueLine),\r\n                    y: ballRadius/2 + deltaTopSpin * Math.cos(cueAngle)\r\n                },\r\n                {\r\n                    x: 0,\r\n                    y: -cueLine,\r\n                    z: Math.PI/2 + cueAngle\r\n                }\r\n            )\r\n            cameras.changeView(this.currentView)\r\n        }\r\n    }\r\n\r\n    generateReflectionMaterial = (root, others) => {\r\n        let {scene} = this;\r\n\t\t\r\n\t\tvar probe = new BABYLON.ReflectionProbe(\"satelliteProbe\" + root.name, 512, scene);\r\n\t\tfor (var index = 0; index < others.length; index++) {\r\n\t\t\tprobe.renderList.push(others[index]);\t\t\t\r\n\t\t}\r\n\r\n        root.material.reflectionTexture = probe.cubeTexture;\r\n        root.material.reflectivityColor = new BABYLON.Color3(0.3, 0.3, 0.3);\r\n\t\t\r\n\t\troot.material.reflectionFresnelParameters = new BABYLON.FresnelParameters();\r\n        root.material.reflectionFresnelParameters.bias = 0;\r\n\t\tprobe.attachToMesh(root);\r\n    }\r\n\r\n    configCueBalls = () => {\r\n        const _self = this;\r\n        const {\r\n            modelStorePath,\r\n            ballRadius\r\n        } = this;\r\n\r\n        let ballPositions = this.ballPositions;\r\n\r\n        _self.objects.balls.push(\r\n            new Ball(\r\n                _self.scene,\r\n                \"cue-ball-white\",\r\n                ballRadius,\r\n                {\r\n                    x: ballPositions[0].x,\r\n                    y: ballRadius/2,\r\n                    z: ballPositions[0].z,\r\n                },\r\n                modelStorePath + \"cueball-white.jpg\",\r\n                true,\r\n            )\r\n        );\r\n\r\n        for (var i = 1; i < 16; i++){\r\n            _self.objects.balls.push(\r\n                new Ball(\r\n                    _self.scene,\r\n                    \"cue-ball-\" + i,\r\n                    ballRadius,\r\n                    {\r\n                        x: ballPositions[i].x,\r\n                        y: ballRadius/2,\r\n                        z: ballPositions[i].z,\r\n                    },\r\n                    modelStorePath + \"poolball/\" + i + \".jpg\",\r\n                    !ballPositions[i].empocheeInit\r\n                    // true\r\n                )\r\n            )\r\n        }\r\n\r\n        let others = [];\r\n        for (i = 0; i < 16; i++){\r\n            others.push(_self.objects.balls[i].getMesh())\r\n        }\r\n\r\n        _self.lights.registerShadowObjects(others);\r\n    }\r\n\r\n    configGrids = () => {\r\n        const _self = this;\r\n        const grayRate = 0.7;\r\n        const color = [new BABYLON.Color4(grayRate,grayRate,grayRate,1), new BABYLON.Color4(grayRate,grayRate,grayRate,1)];\r\n        for (var i = 0; i < 15; i++) {\r\n            let gridPoints = [\r\n                new BABYLON.Vector3(-POOL_TABLE_LENGTH*7/16 + i * POOL_TABLE_LENGTH/16, 2, -POOL_TABLE_LENGTH/4),\r\n                new BABYLON.Vector3(-POOL_TABLE_LENGTH*7/16 + i * POOL_TABLE_LENGTH/16, 2, POOL_TABLE_LENGTH/4)\r\n            ];\r\n            _self.grids.push(BABYLON.MeshBuilder.CreateLines(\"lines\", {points: gridPoints, colors: color}, _self.scene));\r\n        }\r\n        for (i = 0; i < 7; i++) {\r\n            let gridPoints = [\r\n                new BABYLON.Vector3(-POOL_TABLE_LENGTH/2, 2, -POOL_TABLE_LENGTH*3/16 + i * POOL_TABLE_LENGTH/16),\r\n                new BABYLON.Vector3(POOL_TABLE_LENGTH/2, 2, -POOL_TABLE_LENGTH*3/16 + i * POOL_TABLE_LENGTH/16)\r\n            ];\r\n            _self.grids.push(BABYLON.MeshBuilder.CreateLines(\"lines\", {points: gridPoints, colors: color}, _self.scene));\r\n        }\r\n    }\r\n\r\n    toggleGrids = (visible) => {\r\n        const {grids} = this;\r\n        for (var i = 0; i < grids.length; i++) {\r\n            grids[i].visibility = visible;\r\n        }\r\n    }\r\n\r\n    initializeScene = (scene, canvas) => {\r\n        let _self = this;\r\n        _self.scene = scene;\r\n        _self.canvas = canvas;\r\n\r\n        _self.scene.clearColor = new BABYLON.Color3(0.05, 0.05, 0.05);\r\n\r\n        _self.lights = new Lights(_self.scene, POOL_TABLE_LENGTH);\r\n\r\n        _self.configCameras();\r\n        _self.loadModels();\r\n        _self.configGrids();\r\n\r\n        _self.scene.getEngine().runRenderLoop(() => {\r\n            if (scene) {\r\n                scene.render();\r\n                _self.animateBalls();\r\n            }\r\n        });\r\n\r\n        canvas.addEventListener(\"pointerdown\", _self.onPointerDown, false);\r\n        canvas.addEventListener(\"pointerup\", _self.onPointerUp, false);\r\n        canvas.addEventListener(\"pointermove\", _self.onPointerMove, false);\r\n    }\r\n\r\n    getGroundPosition = () => {\r\n        let {scene} = this;\r\n        var pickinfo = scene.pick(scene.pointerX, scene.pointerY, function (mesh) { return mesh.name == 'carpet'; });\r\n        if (pickinfo.hit) {\r\n            return pickinfo.pickedPoint;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    onPointerDown = (evt) => {\r\n        let _self = this;\r\n        let {scene, canvas} = this;\r\n        if (evt.button !== 0 || _self.currentView == 'targetting') {\r\n            return;\r\n        }\r\n\r\n        // check if we are under a mesh\r\n        var pickInfo = scene.pick(scene.pointerX, scene.pointerY, function (mesh) {return (mesh.name.includes(\"cue-ball\"))});\r\n        if (pickInfo.hit) {\r\n            _self.currentMesh = pickInfo.pickedMesh;\r\n            _self.startingPoint = _self.getGroundPosition(evt);\r\n\r\n            if (_self.startingPoint) {\r\n                setTimeout(function () {\r\n                    _self.cameras.enableControl(false);\r\n                }, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    onPointerUp = () => {\r\n        let _self = this;\r\n        let {startingPoint} = this;\r\n        if (startingPoint) {\r\n            _self.cameras.enableControl(true);\r\n            _self.startingPoint = null;\r\n            _self.currentMesh = null;\r\n            return;\r\n        }\r\n    }\r\n\r\n    onPointerMove = (evt) => {\r\n        let _self = this;\r\n        let {startingPoint, currentMesh} = this;\r\n        if (!startingPoint) {\r\n            return;\r\n        }\r\n\r\n        var current = _self.getGroundPosition(evt);\r\n\r\n        if (!current) {\r\n            return;\r\n        }\r\n        if (Math.abs(current.x) >= (POOL_TABLE_LENGTH / 2 - this.ballRadius/2) || Math.abs(current.z) >= (POOL_TABLE_LENGTH / 4 - this.ballRadius/2)) return;\r\n        currentMesh.position = current;\r\n        currentMesh.position.y = _self.ballRadius/2\r\n\r\n        startingPoint = current;\r\n        _self.updateBat(_self.controlOptions);\r\n    }\r\n\r\n    changeView (view) {\r\n        const _self = this;\r\n        _self.currentView = view;\r\n        _self.cameras.changeView(view);\r\n    }\r\n\r\n    moveAndRotateBall = (obj, t, tmp ) => {\r\n        let range = 10000;\r\n        let index = -1;\r\n        let _self = this;\r\n        let i;\r\n        for(i = tmp * range ; i < (tmp + 1) * range; i++){\r\n            if(_self.pathData[i])\r\n            {\r\n                if(_self.pathData[i].time < (t - _self.t0)){\r\n                    index = i;\r\n                }\r\n            } else { break;}\r\n        }\r\n        if(index >= 0){\r\n            let data = _self.pathData[index];\r\n\r\n            let posX = POOL_TABLE_LENGTH * data.X / _self.size;\r\n            let posY = POOL_TABLE_LENGTH * data.Y / _self.size;\r\n            obj.updatePosition(\r\n                posX,\r\n                posY\r\n            )\r\n\r\n            // check potting\r\n            let pocketRadius = _self.ballRadius * 0.6;\r\n            let dis1 = Math.sqrt(Math.pow(POOL_TABLE_LENGTH  / 2 - Math.abs(posX), 2) + Math.pow(POOL_TABLE_LENGTH  / 4 - Math.abs(posY), 2));\r\n            let dis2 = Math.sqrt(Math.pow(Math.abs(posX), 2) + Math.pow(POOL_TABLE_LENGTH  / 4 - Math.abs(posY), 2));\r\n            if ((dis1 < pocketRadius || dis2 < pocketRadius) && !obj.isPotted()) {\r\n                console.log('potting');\r\n                obj.pot();\r\n            }\r\n            // end check potting\r\n\r\n            obj.updateRotation(\r\n                _self.pathData[index].RAp,\r\n                _self.pathData[index].RAq,\r\n                _self.pathData[index].RAr,\r\n            )\r\n            if (index == i - 1) return false;\r\n            return true;\r\n        }\r\n    }\r\n\r\n    animateBalls = () => {\r\n        let _self = this;\r\n        let { balls } = this.objects;\r\n        if(!_self.pathData || _self.pathData.length == 0) return;\r\n        if (_self.t0 == undefined) return;\r\n        let t = new Date().getTime() / 1000;\r\n\r\n        let completed = 0;\r\n        for(var i = 0; i < 16; i++){\r\n            var res = this.moveAndRotateBall(balls[i], t, i);\r\n            if (res == false) completed ++;\r\n        }\r\n        console.log(completed)\r\n        if (completed == 16) {\r\n            _self.pathData = [];\r\n            setTimeout(() => {\r\n                _self.updateBat(_self.controlOptions);\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n    playSimulation = () => {\r\n        var _self = this;\r\n        const {controlOptions} = this;\r\n        const {\r\n            balls\r\n        } = this.objects;\r\n        let Xinit = [];\r\n        let Yinit = [];\r\n        let empocheeInit = [];\r\n\r\n        for(var item of balls) {\r\n            let pos = item.getPosition();\r\n            Xinit.push(\r\n                _self.size * pos.x / POOL_TABLE_LENGTH,\r\n            )\r\n            Yinit.push(\r\n                _self.size * pos.z / POOL_TABLE_LENGTH,\r\n            )\r\n            empocheeInit.push(\r\n                !item.getVisibility()\r\n            );\r\n        }\r\n\r\n        var res = this.billard.Simuler(\r\n            1,\r\n            {\r\n                Xinit: Xinit,\r\n                Yinit: Yinit,\r\n                empocheeInit: empocheeInit,\r\n                RApInit: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                RAqInit: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                RArInit: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                el: controlOptions.sideEnglish,\r\n                er: controlOptions.topSpin,\r\n                alphaQ: controlOptions.cueAngle,\r\n                betaQ: controlOptions.cueLine,\r\n                Vqueue:controlOptions.speed,\r\n            }\r\n        );\r\n\r\n        if(!res || res.length == 0) return;\r\n        \r\n        this.pathData = res;\r\n        this.drawBallPath(true);\r\n\r\n        this.t0 = new Date().getTime() / 1000;\r\n    }\r\n}","import React from 'react';\r\n\r\nimport { Engine, Scene } from 'react-babylonjs';\r\n\r\nimport './styles.css';\r\n\r\nimport SceneManager from './sceneManager';\r\n\r\nclass SimulatorEngine extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showPath: false,\r\n        }\r\n\r\n        this.board = new SceneManager(\r\n            this.props.size,\r\n            this.props.modelStorePath,\r\n            this.props.currentView,\r\n            this.props.points,\r\n            {\r\n                cueLine: this.props.cueLine,\r\n                cueAngle: this.props.cueAngle,\r\n                sideEnglish: this.props.sideEnglish,\r\n                topSpin: this.props.topSpin,\r\n                speed: this.props.speed,\r\n            }\r\n        );\r\n\r\n        this.simulatorDom = new React.createRef();\r\n    }\r\n\r\n    meshPicked = ( mesh ) => {\r\n        // console.log('mesh picked', mesh);\r\n    }\r\n\r\n    drawBallPath = (value) => {\r\n        this.board.drawBallPath(value);\r\n    }\r\n\r\n    onSceneMount = ( e ) => {\r\n        const { canvas, scene } = e;\r\n        this.board.initializeScene(scene, canvas);\r\n    }\r\n\r\n    changeView (option) {\r\n        this.board.changeView(option);\r\n    }\r\n\r\n    toggleGrids = (visible) => {\r\n        this.board.toggleGrids(visible);\r\n    }\r\n\r\n    playSimulation = () => {\r\n        this.board.playSimulation();\r\n    }\r\n\r\n    updateControlOptions = (data) => {\r\n        this.board.updateControlOptions(data);\r\n    }\r\n\r\n    componentDidMount = () => {}\r\n    render () {\r\n        return (\r\n            <Engine canvasId=\"carom-simulator-canvas\">\r\n                <Scene\r\n                    onMeshPicked={this.meshPicked}\r\n                    onSceneMount={this.onSceneMount}\r\n                />\r\n            </Engine>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SimulatorEngine;","import React from 'react';\r\n\r\nimport ViewSelector from '../../view/viewSelector';\r\nimport SimulatorEngine from './simulatorEngine';\r\nimport ControllerCollection from '../../view/controller';\r\n\r\nimport './styles.css';\r\n\r\nclass PoolSimulator extends React.Component {\r\n    constructor () {\r\n        super();\r\n\r\n        this.state = {\r\n            currentView : 'top',\r\n            showGrid : true,\r\n            showPath: false,\r\n            size: 310,\r\n            cueLine: 30/180*Math.PI,\r\n            cueAngle: 5/180*Math.PI,\r\n            sideEnglish: -0.0087,\r\n            topSpin: 0.0075,\r\n            speed: 3.80,\r\n            points: {\r\n                Xinit: [],\r\n                Yinit: [],\r\n                empocheeInit: []\r\n            }\r\n        }\r\n        this.simulator = React.createRef();\r\n    }\r\n    componentWillMount = () => {\r\n        this.updateSimulateInfo();\r\n    }\r\n    updateSimulateInfo = () => {\r\n        var info = [\r\n            'Stephan COHEN',\r\n            '...',\r\n            '0',\r\n            '280',\r\n            '9',\r\n            '1',\r\n            '0.09016666666666652',\r\n            '-0.15416666666666667',\r\n            '0',\r\n            '-0.7000000000000001',\r\n            '0',\r\n            '1',\r\n            '-0.6000000000000001',\r\n            '0',\r\n            '1',\r\n            '-0.5',\r\n            '0',\r\n            '1',\r\n            '-0.4',\r\n            '0',\r\n            '1',\r\n            '-0.30000000000000004',\r\n            '0',\r\n            '1',\r\n            '1.1278562236304084',\r\n            '0.5949669539121291',\r\n            '0',\r\n            '-0.7158538054923216',\r\n            '0.28840047307995464',\r\n            '0',\r\n            '0.09842832940320168',\r\n            '-0.3689576159836725',\r\n            '0',\r\n            '0.6413658575465282',\r\n            '-0.03231798897590485',\r\n            '0',\r\n            '0.2',\r\n            '0',\r\n            '1',\r\n            '0.30000000000000004',\r\n            '0',\r\n            '1',\r\n            '0.4',\r\n            '0',\r\n            '1',\r\n            '0.5',\r\n            '0',\r\n            '1',\r\n            '0.6000000000000001',\r\n            '0',\r\n            '1',\r\n            '0.7000000000000001',\r\n            '0',\r\n            '1',\r\n            '1.8639999999999999',\r\n            '0.03490658503988659',\r\n            '-2.4890317318711697',\r\n            '0.014000000000000002',\r\n            '0.004999999999999999',\r\n        ];\r\n        let tmp = {\r\n            size: 2.54,\r\n            points: {\r\n                Xinit: [],\r\n                Yinit: [],\r\n                empocheeInit: []\r\n            }\r\n        }\r\n\r\n        // var nb_points = info[5];\r\n        var _loc_6 = 6;\r\n\r\n        var _loc_3 = 0;\r\n        while (_loc_3 < 16)\r\n        {\r\n            tmp.points.Xinit[_loc_3] = info[_loc_6];\r\n            _loc_6++;\r\n            tmp.points.Yinit[_loc_3] = info[_loc_6];\r\n            _loc_6++;\r\n            if (info[_loc_6] == 0)\r\n            {\r\n                tmp.points.empocheeInit[_loc_3] = false;\r\n            }\r\n            else\r\n            {\r\n                tmp.points.empocheeInit[_loc_3] = true;\r\n            }\r\n            _loc_6++;\r\n            _loc_3++;\r\n        }\r\n        tmp.speed = parseFloat(info[_loc_6]);\r\n        _loc_6++;\r\n        tmp.cueAngle = parseFloat(info[_loc_6]);\r\n        _loc_6++;\r\n        tmp.cueLine = parseFloat(info[_loc_6]);\r\n        if (tmp.cueLine < 0) tmp.cueLine += Math.PI * 2\r\n        _loc_6++;\r\n        tmp.sideEnglish = parseFloat(info[_loc_6]);\r\n        _loc_6++;\r\n        tmp.topSpin = parseFloat(info[_loc_6]);\r\n        console.log(tmp)\r\n        this.setState(tmp)\r\n    }\r\n\r\n    viewSelectorItemClicked = (item) => {\r\n        this.setState({currentView: item});\r\n        this.simulator.current.changeView(item);\r\n    }\r\n\r\n    onToggleShowGrid = (value) => {\r\n        this.setState({showGrid: value})\r\n        this.simulator.current.toggleGrids(value);\r\n    }\r\n\r\n    onToggleShowPath = (value) => {\r\n        this.setState({showPath: value})\r\n        this.simulator.current.drawBallPath(value);\r\n    }\r\n\r\n    onPlayPressed = () => {\r\n        this.simulator.current.playSimulation();\r\n    }\r\n\r\n    onControlOptionsUpdated = (data) => {\r\n        this.simulator.current.updateControlOptions(data);\r\n    }\r\n\r\n    componentDidMount = () => {\r\n    }\r\n\r\n    render () {\r\n        const {\r\n            currentView,\r\n\r\n            showGrid,\r\n            showPath,\r\n\r\n            size,\r\n            cueLine,\r\n            cueAngle,\r\n            sideEnglish,\r\n            topSpin,\r\n            speed,\r\n\r\n            points\r\n        } = this.state;\r\n        return (\r\n            <div style={{position: 'relative'}}>\r\n                <ViewSelector\r\n                    currentView={currentView}\r\n                    viewSelectorItemClicked={this.viewSelectorItemClicked}\r\n                />\r\n                <SimulatorEngine\r\n                    modelStorePath={this.props.modelStorePath}\r\n                    ref={this.simulator}\r\n\r\n                    size={size}\r\n                    currentView={currentView}\r\n                    cueLine = {cueLine}\r\n                    cueAngle = {cueAngle}\r\n                    sideEnglish = {sideEnglish}\r\n                    topSpin = {topSpin}\r\n                    speed = {speed}\r\n\r\n                    points = {points}\r\n                />\r\n                <ControllerCollection\r\n                    showGrid={showGrid}\r\n                    showPath={showPath}\r\n                    cueLine = {cueLine}\r\n                    cueAngle = {cueAngle}\r\n                    sideEnglish = {sideEnglish}\r\n                    topSpin = {topSpin}\r\n                    speed = {speed}\r\n\r\n                    onControlOptionsUpdated={this.onControlOptionsUpdated}\r\n\r\n                    onToggleShowGrid={this.onToggleShowGrid}\r\n                    onToggleShowPath = {this.onToggleShowPath}\r\n                    onPlayPressed = {this.onPlayPressed}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PoolSimulator;","import React from 'react';\nimport './App.css';\n\nimport { CaromSimulator, PoolSimulator } from './lib/kozoom-3d-simulator';\n\nfunction App() {\n  return (\n    <div className=\"simulator-container\">\n      <CaromSimulator\n        modelStorePath=\"./models/\"\n      />\n      {/* <PoolSimulator\n        modelStorePath = \"./models/\"\n      /> */}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}