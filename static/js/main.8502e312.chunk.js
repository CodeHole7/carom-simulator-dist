(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},18:function(e,t,a){e.exports=a(33)},23:function(e,t,a){},24:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(16),r=a.n(o),l=(a(23),a(24),a(6)),c=a(7),s=a(9),u=a(8),h=a(3),m=a(10),d=(a(12),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).viewSelectorItemClicked=a.viewSelectorItemClicked.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"viewSelectorItemClicked",value:function(e){"function"===typeof this.props.viewSelectorItemClicked&&this.props.viewSelectorItemClicked(e)}},{key:"render",value:function(){var e=this,t="view-selector-item",a="view-selector-item";return"2d"===this.props.currentView?t+=" active":a+=" active",i.a.createElement("div",{className:"view-selector"},i.a.createElement("span",{className:t,onClick:function(){e.viewSelectorItemClicked("2d")}},"2D"),i.a.createElement("span",{className:a,onClick:function(){e.viewSelectorItemClicked("3d")}},"3D"))}}]),t}(n.Component)),p=a(13),v=a(1),C=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).meshPicked=e.meshPicked.bind(Object(h.a)(e)),e.onSceneMount=e.onSceneMount.bind(Object(h.a)(e)),e.configCueBalls=e.configCueBalls.bind(Object(h.a)(e)),e.loadModels=e.loadModels.bind(Object(h.a)(e)),e.configCameras=e.configCameras.bind(Object(h.a)(e)),e.changeView=e.changeView.bind(Object(h.a)(e)),e.scene=void 0,e.canvas=void 0,e.arcCam=void 0,e.topCam=void 0,e.table=void 0,e.bat=void 0,e.cueBallWhite=void 0,e.cueBallYellow=void 0,e.targetBall=void 0,e.grids=[],e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"meshPicked",value:function(e){console.log("mesh picked",e)}},{key:"configCameras",value:function(){this.arcCam=new v.ArcRotateCamera("Camera-Arc",4.44,1.05,300,v.Vector3.Zero(),this.scene),this.arcCam.attachControl(this.canvas),this.arcCam.upperBetaLimit=1.5,this.arcCam.wheelPrecision=.2,this.arcCam.upperRadiusLimit=500,this.arcCam.lowerRadiusLimit=200,this.topCam=new v.ArcRotateCamera("Camera-Top",-Math.PI/2,0,330,v.Vector3.Zero(),this.scene),this.topCam.upperBetaLimit=0,this.topCam.lowerBetaLimit=0,this.topCam.upperAlphaLimit=-Math.PI/2,this.topCam.lowerAlphaLimit=-Math.PI/2,this.topCam.upperRadiusLimit=330,this.topCam.lowerRadiusLimit=330}},{key:"configCueBalls",value:function(){var e=this.props.modelStorePath;this.cueBallWhite=v.Mesh.CreateSphere("sphere1",16,10,this.scene),this.cueBallWhite.position.y=10,this.cueBallWhite.position.x=400*(Math.random()-.5),this.cueBallWhite.position.z=200*(Math.random()-.5);var t=new v.StandardMaterial("redMat",this.scene);t.diffuseTexture=new v.Texture(e+"cueball-white.jpg",this.scene),this.cueBallWhite.material=t,this.cueBallYellow=v.Mesh.CreateSphere("sphere2",16,10,this.scene),this.cueBallYellow.position.y=10,this.cueBallYellow.position.x=400*(Math.random()-.5),this.cueBallYellow.position.z=200*(Math.random()-.5);var a=new v.StandardMaterial("redMat",this.scene);a.diffuseTexture=new v.Texture(e+"cueball-yellow.jpg",this.scene),this.cueBallYellow.material=a,this.targetBall=v.Mesh.CreateSphere("sphere3",16,10,this.scene),this.targetBall.position.y=10,this.targetBall.position.x=400*(Math.random()-.5),this.targetBall.position.z=200*(Math.random()-.5);var n=new v.StandardMaterial("redMat",this.scene);n.diffuseColor=new v.Color3(.9,.1,.1),this.targetBall.material=n}},{key:"configGrids",value:function(){for(var e=[new v.Color4(.7,.7,.7,1),new v.Color4(.7,.7,.7,1)],t=0;t<7;t++){var a=[new v.Vector3(50*t-150,5.5,-100),new v.Vector3(50*t-150,5.5,100)];this.grids.push(v.MeshBuilder.CreateLines("lines",{points:a,colors:e},this.scene))}for(t=0;t<3;t++){var n=[new v.Vector3(-200,5.5,50*t-50),new v.Vector3(200,5.5,50*t-50)];this.grids.push(v.MeshBuilder.CreateLines("lines",{points:n,colors:e},this.scene))}}},{key:"toggleGrids",value:function(e){for(var t=this.grids,a=0;a<t.length;a++)t[a].visibility=e}},{key:"loadModels",value:function(){var e=this,t=this.props.modelStorePath;v.SceneLoader.ImportMesh("",t,"table.babylon",e.scene,function(a){e.table=a;var n=!0,i=!1,o=void 0;try{for(var r,l=a[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var c=r.value;"carpet"===c.name&&(c.material.bumpTexture=new v.Texture(t+"carpet-bump.png",e.scene))}}catch(s){i=!0,o=s}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}}),v.SceneLoader.ImportMesh("",t,"bat.babylon",e.scene,function(t){e.bat=t[0],e.bat.position.y=10,e.bat.position.z=20,e.bat.rotate(new v.Vector3(-2,0,-60),Math.PI/8,v.Space.LOCAL)})}},{key:"onSceneMount",value:function(e){var t=e.canvas,a=e.scene;this.scene=a,this.canvas=t,a.clearColor=new v.Color3(.05,.05,.05),this.configCameras(),this.configCueBalls(),this.loadModels(),this.configGrids(),new v.HemisphericLight("light",v.Vector3.Up(),a),a.getEngine().runRenderLoop(function(){a&&a.render()})}},{key:"changeView",value:function(e){"2d"===e?(this.scene.activeCamera=this.topCam,this.arcCam.detachControl(this.canvas),this.topCam.attachControl(this.canvas)):(this.scene.activeCamera=this.arcCam,this.arcCam.attachControl(this.canvas),this.topCam.detachControl(this.canvas))}},{key:"render",value:function(){return i.a.createElement(p.a,{canvasId:"carom-simulator-canvas"},i.a.createElement(p.b,{onMeshPicked:this.meshPicked,onSceneMount:this.onSceneMount}))}}]),t}(i.a.Component),w=a(4),b=a(5),f=(a(31),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentWillReceiveProps=function(e){var t=e.value;a.setState({value:t})},a.updateValue=function(e){a.setState({value:e})},a.onChangeValue=function(e){var t=e.target.value;a.updateValue(t)},a.onMinusPressed=function(){var e=a.state.value,t=a.props,n=t.min,i=t.step;void 0===i&&(i=.1),(e=(10*e-(i*=10))/10)<n&&(e=n),a.updateValue(e)},a.onPlusPressed=function(){var e=a.state.value,t=a.props,n=t.max,i=t.step;void 0===i&&(i=.1),(e=(10*e+(i*=10))/10)>n&&(e=n),a.updateValue(e)},a.state={value:a.props.value?a.props.value:0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props,a=t.containerClass,n=t.label,o=t.min,r=t.max,l=t.unitDom,c=t.step;return void 0===c&&(c=.1),i.a.createElement("div",{className:a},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(w.a,{icon:b.d,className:"btn-change-value",onClick:this.onMinusPressed}),i.a.createElement("span",{style:{flex:1,textAlign:"center"}},n,i.a.createElement("span",null," : ",e,l)),i.a.createElement(w.a,{icon:b.f,className:"btn-change-value",onClick:this.onPlusPressed})),i.a.createElement("input",{type:"range",min:o,max:r,value:e,className:"slider",step:c,onChange:this.onChangeValue}))}}]),t}(i.a.Component)),g=(a(32),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.showGrid,a="toggle-btn";return!0===t&&(a+=" active"),i.a.createElement("div",null,i.a.createElement("div",{className:"common-controller-container"},i.a.createElement(w.a,{className:a,icon:b.h,onClick:function(){e.props.onToggleShowGrid(!t)}}),i.a.createElement(w.a,{className:"toggle-btn",icon:b.b}),i.a.createElement(w.a,{className:"toggle-btn",icon:b.i})),i.a.createElement("div",null,i.a.createElement(f,{label:"Cue Line",containerClass:"slider-container",min:-180,max:180,value:-30,unitDom:i.a.createElement("sup",null,"o")}),i.a.createElement(f,{label:"Cue Angle",containerClass:"slider-container",min:2,max:89,value:-30,unitDom:i.a.createElement("sup",null,"o")}),i.a.createElement(f,{label:"Side English",containerClass:"slider-container",min:-10.1,max:10.1,value:-8.7,unitDom:i.a.createElement("span",null,"mm")}),i.a.createElement(f,{label:"Top Spin",containerClass:"slider-container",min:-11.1,max:11.1,value:7.5,unitDom:i.a.createElement("span",null,"mm")}),i.a.createElement(f,{label:"Speed",containerClass:"slider-container",min:0,max:450,value:230,step:1,unitDom:i.a.createElement("span",null,"cm/s")})),i.a.createElement("div",{className:"play-controller-container"},i.a.createElement(w.a,{className:"play-controller",icon:b.a}),i.a.createElement(w.a,{className:"play-controller",icon:b.g}),i.a.createElement(w.a,{className:"play-controller",icon:b.e}),i.a.createElement(w.a,{className:"play-controller",icon:b.c})))}}]),t}(i.a.Component)),S=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={currentView:"3d",showGrid:!0},e.viewSelectorItemClicked=e.viewSelectorItemClicked.bind(Object(h.a)(e)),e.onToggleShowGrid=e.onToggleShowGrid.bind(Object(h.a)(e)),e.simulator=i.a.createRef(),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"viewSelectorItemClicked",value:function(e){this.setState({currentView:e}),this.simulator.current.changeView(e)}},{key:"onToggleShowGrid",value:function(e){this.setState({showGrid:e}),this.simulator.current.toggleGrids(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"simulator-container"},i.a.createElement(d,{currentView:this.state.currentView,viewSelectorItemClicked:this.viewSelectorItemClicked}),i.a.createElement(C,{modelStorePath:this.props.modelStorePath,ref:this.simulator}),i.a.createElement(g,{showGrid:this.state.showGrid,onToggleShowGrid:this.onToggleShowGrid}))}}]),t}(i.a.Component);var k=function(){return i.a.createElement("div",{className:"simulator-container"},i.a.createElement(S,{modelStorePath:"./models/"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.8502e312.chunk.js.map